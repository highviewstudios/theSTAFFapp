(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[0],{120:function(e,a){e.exports="data:image/png;base64,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"},212:function(e,a,t){e.exports=t.p+"static/media/screen-timetable.40c2b859.png"},213:function(e,a,t){e.exports=t.p+"static/media/screen-diary.ae24dccd.png"},214:function(e,a,t){e.exports=t.p+"static/media/users.645012b8.png"},215:function(e,a,t){e.exports=t.p+"static/media/departments.53665c45.png"},216:function(e,a,t){e.exports=t.p+"static/media/rooms.f072eaa7.png"},217:function(e,a,t){e.exports=t.p+"static/media/layouts.c2d95bf7.png"},218:function(e,a,t){e.exports=t.p+"static/media/weekSystemHolidays.fdb1de8a.png"},219:function(e,a,t){e.exports=t.p+"static/media/userProfiles.e0371762.png"},220:function(e,a,t){e.exports=t.p+"static/media/admin.53fdf889.png"},229:function(e,a,t){e.exports=t(487)},234:function(e,a,t){},260:function(e,a,t){},261:function(e,a,t){},262:function(e,a,t){},263:function(e,a,t){},33:function(e,a){e.exports="data:image/png;base64,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"},34:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADICAYAAAC+j+5qAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAwKADAAQAAAABAAAAyAAAAAB9S3ILAAADRUlEQVR4Ae3cQQqCYBQE4D/xAkH3qaN1tLpP0AXCMqi2A+0cvjaCT8H5nrO0MfwIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQI/Cewmw/341iW03+3u4vAxgSm6fK47a/fp57fL//zuZy/JxwJNAvslnFe8/0KMDWHlY1AElCAJGReLaAA1esVLgkoQBIyrxZQgOr1CpcEFCAJmVcLKED1eoVLAgqQhMyrBRSger3CJQEFSELm1QIKUL1e4ZKAAiQh82oBBaher3BJQAGSkHm1gAJUr1e4JKAASci8WkABqtcrXBJQgCRkXi2gANXrFS4JKEASMq8WUIDq9QqXBOax/k3E50v5dK05ge0LrO/79kNIQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgsCWBF/saEjPJd4SSAAAAAElFTkSuQmCC"},487:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(32),o=t.n(r),c=(t(234),t(6)),i=t(9),s=t.n(i),u=t(4),m=function(e){return{type:"USER_UPDATE_AUTH",value:e}},d=function(e){return{type:"USER_UPDATE_UUID",value:e}},E=function(e){return{type:"USER_UPDATE_NAME",value:e}},b=function(e){return{type:"USER_UPDATE_ROLE",value:e}},g=function(e){return{type:"USER_UPDATE_NEW",value:e}},f=function(e){return{type:"USER_UPDATE_REQUESTEDPASSWORD",value:e}},p=function(e){return{type:"USER_UPDATE_ORGID",value:e}},h=function(e){return{type:"USER_UPDATE_USERDEPARTMENTS",value:e}},v=function(e){return{type:"USER_UPDATE_SAREQUEST",value:e}};t(257),t(258),t(259),t(260),t(261),t(262),t(263);var y=function(){return l.a.createElement("div",{className:"betaBanner"},l.a.createElement("p",null,l.a.createElement("strong",null,"This website is a beta verison, please expect errors. Any problems, please contact High-View Studios (Shaun Evans)")))},O=t(497),A=t(210),k="";var j=function(){var e=window.location.hostname,a=window.location.protocol;k="localhost"===e?a+"//"+e+":8080":a+"//"+e},D=t(29),w=function(e){return{type:"UPDATE_EDIT_BOOKING",value:e}},T=function(e){return{type:"UPDATE_BOOKING_ID",value:e}},N=function(e){return{type:"UPDATE_BOOKING_USER",value:e}},I=function(e){return{type:"UPDATE_BOOKING_DEPARTMENT",value:e}},S=function(e){return{type:"UPDATE_BOOKING_SESSIONDES",value:e}},C=function(e){return{type:"UPDATE_BOOKING_SESSIONLENGTH",value:e}},U=function(e){return{type:"UPDATE_BOOKING_BOOKINGTYPE",value:e}},B=function(e){return{type:"UPDATE_BOOKING_BOOKINGUNTIL",value:e}},P=function(e){return{type:"UPDATE_BOOKING_COMMENTS",value:e}},R=function(e){return{type:"UPDATE_BOOKING_CREATEDBY",value:e}},_=t(76),L=t(16);var x=function(){var e=Object(D.f)(),a=Object(u.c)((function(e){return e.user})),t=Object(u.c)((function(e){return e.userProfile})),r=Object(u.b)(),o=Object(n.useState)({name:"",show:!1}),i=Object(c.a)(o,2),d=i[0],v=i[1];function y(){s.a.get("/logout").then((function(t){if(console.log(t.data.message),"User logged out"===t.data.message){var n;if(console.log(a),"superAdmin"==a.role)n="/";else n="/org/"+a.orgID+"/signIn";r(m(!1)),r(E("")),r(b("")),r(g("")),r(f(!1)),r(h([])),r(p("")),r(w(!1)),e.push(n)}})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){j()}),[]),Object(n.useEffect)((function(){a.auth?"superAdmin"==a.role?v({name:"High-View Studios",show:!0}):v({name:a.name,show:!0}):v({name:"",show:!1})}),[a]),l.a.createElement("div",null,d.show?l.a.createElement("div",null,l.a.createElement("strong",null,"User: ",d.name),l.a.createElement("br",null),"seniorAdmin"==a.role||t.orgAdminAccess?l.a.createElement("div",null,l.a.createElement(_.a,null,l.a.createElement(_.a.Toggle,{variant:"warning",id:"dropdown-basic"},"Page"),l.a.createElement(L.a,{variant:"warning",onClick:y},"Log Out"),l.a.createElement(_.a.Menu,null,l.a.createElement(_.a.Item,{onClick:function(){return e.push("/")}},"Organisation Home"),l.a.createElement(_.a.Item,{onClick:function(){return e.push("/org/"+a.orgID+"/organisationAdmin")}},"Organisation Admin")))):l.a.createElement("div",null,l.a.createElement(L.a,{variant:"warning",onClick:y},"Log Out"))):l.a.createElement("div",null))};var M=function(){return l.a.createElement("nav",null,l.a.createElement(O.a,null,l.a.createElement(A.a,null),l.a.createElement(A.a,null,l.a.createElement("a",{className:"websiteTitle",href:"/"},l.a.createElement("div",{className:"clickable"},l.a.createElement("h1",null,l.a.createElement("strong",null,"My STAFF")),l.a.createElement("h2",null,l.a.createElement("strong",null,"Space, Times, Flexible, Facilities"))))),l.a.createElement(A.a,null,l.a.createElement("div",{className:"user-nav"},l.a.createElement(x,null)))))};function Y(e,a){e({type:"UPDATE_TAB",value:a})}function G(e,a){e({type:"UPDATE_FORMSENT",value:a})}function F(e,a){e({type:"UPDATE_DATAERROR",value:a})}var Q=function(){var e=Object(n.useState)([window.innerHeight,window.innerWidth]),a=Object(c.a)(e,2),t=a[0],l=a[1];return Object(n.useEffect)((function(){var e=function(){l([window.innerHeight,window.innerWidth])};return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}}),[]),t},H=t(21),K=t(22),W=t(500),q=t(501),V=t(1),J=t(17),z=t(499);var X=function(){var e=Object(D.f)(),a=Object(n.useState)({open:!1,heading:"",message:""}),t=Object(c.a)(a,2),r=t[0],o=t[1];function i(){o((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}return l.a.createElement("div",{className:"orgNumber-style"},"If you know your organisation's number, please enter it below, ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("div",null,l.a.createElement("strong",null,"Organisation Number:")," ",l.a.createElement("br",null),l.a.createElement(J.a.Control,{type:"textbox",id:"org-number",onKeyPress:function(e){var a=String.fromCharCode(e.which);/[0-9]/.test(a)||e.preventDefault()}}),l.a.createElement(L.a,{variant:"primary",onClick:function(){var a=document.getElementById("org-number").value;""==a?o({heading:"Error!",message:"Please enter an organisation number",open:!0}):e.push("/org/"+a+"/")}},"Go To My Portal")," ",l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("strong",null,"Don't know the organisation's number?"),l.a.createElement("br",null),"Locate the Senior admin of your organisation or find your registration email to locate the direct URL"),l.a.createElement(z.a,{show:r.open,onHide:i},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,r.heading)),l.a.createElement(z.a.Body,null,r.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:i},"Close"))))},Z=t(113),$=t(122),ee=t(212),ae=t.n(ee),te=t(213),ne=t.n(te);var le=function(){var e=Q(),a=Object(c.a)(e,2),t=(a[0],a[1]),n=Object(u.b)();function r(){Y(n,"contact")}return l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"img-padding"},l.a.createElement(Z.a,{className:"home-img",src:ae.a})),l.a.createElement(A.a,{className:"img-padding"},l.a.createElement(Z.a,{className:"home-img",src:ne.a}))),l.a.createElement("br",null),l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"home-alignLeft"},l.a.createElement("h2",{className:"blue-heading"},l.a.createElement("strong",null,"Your very own room booking portal!")),l.a.createElement("p",{className:"home-text"},"With a My STAFF account, your organisation will have its own portal where all your users can book out rooms for education, office meeting rooms and lots more. With the very dymanic design you can create the rooms to suit your needs. From a timetable format to a 24-hour diary format. If you have two rooms that require a timetable format but each room requires a slightly different format, this system can provide you with that functionality. Have a system so users within your organisation can book out any, or paricular rooms, in seconds!"))),l.a.createElement("br",null)," ",l.a.createElement("br",null),t<2e3?l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(X,null))),l.a.createElement("br",null)," ",l.a.createElement("br",null)):null,l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"cards-padding"},l.a.createElement($.a,{className:"mx-auto home-card"},l.a.createElement($.a.Title,{className:"home-cardTitle"},"1 - 5 Rooms"),l.a.createElement($.a.Body,null,"2.99 per room ",l.a.createElement("br",null)," per month",l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(L.a,{variant:"primary",onClick:r},"Contact")))),l.a.createElement(A.a,{className:"cards-padding"},l.a.createElement($.a,{className:"mx-auto home-card"},l.a.createElement($.a.Title,{className:"home-cardTitle"},"6 - 10 Rooms"),l.a.createElement($.a.Body,null,"\xa32.50 per room ",l.a.createElement("br",null)," per month",l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(L.a,{variant:"primary",onClick:r},"Contact")))),l.a.createElement(A.a,{className:"cards-padding"},l.a.createElement($.a,{className:"mx-auto home-card"},l.a.createElement($.a.Title,{className:"home-cardTitle"},"11 - 20 Rooms"),l.a.createElement($.a.Body,null,"\xa31.99 per room ",l.a.createElement("br",null)," per month",l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(L.a,{variant:"primary",onClick:r},"Contact")))),l.a.createElement(A.a,{className:"cards-padding"},l.a.createElement($.a,{className:"mx-auto home-card"},l.a.createElement($.a.Title,{className:"home-cardTitle"},"21 Rooms +"),l.a.createElement($.a.Body,null,"\xa30.99 per room ",l.a.createElement("br",null)," per month",l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(L.a,{variant:"primary",onClick:r},"Contact"))))))},re=t(214),oe=t.n(re),ce=t(215),ie=t.n(ce),se=t(216),ue=t.n(se),me=t(217),de=t.n(me),Ee=t(218),be=t.n(Ee),ge=t(219),fe=t.n(ge),pe=t(220),he=t.n(pe);var ve=function(){return l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"features-alignRight"},l.a.createElement(Z.a,{className:"features-icon",src:oe.a})),l.a.createElement(A.a,{className:"features-alignLeft"},l.a.createElement("strong",null,"Users:"),l.a.createElement("ul",{className:"features-bulletPionts-square"},l.a.createElement("li",null,"Three types of accounts,",l.a.createElement("ul",null,l.a.createElement("li",null,"Basic \u2018User\u2019 - can book single bookings in any room"),l.a.createElement("li",null,"\u2018Admin\u2019 - can book single and repeat bookings in any room, and can delete any booking."),l.a.createElement("li",null,"\u2018Senior Admin\u2019 - with this role you have got access to the organisation\u2019s administration screen where you can make your organisation\u2019s portal unique to you. See the administration section for more infromation"))))),l.a.createElement(A.a,{className:"features-alignRight"},l.a.createElement(Z.a,{className:"features-icon",src:ie.a})),l.a.createElement(A.a,{className:"features-alignLeft"},l.a.createElement("strong",null,"Departments:"),l.a.createElement("ul",{className:"features-bulletPionts-square"},l.a.createElement("li",null,"Assign users to departments so when they book out rooms they only can make a booking with their assigned departments."),l.a.createElement("li",null,"Edit departments\u2019 names or remove them without affecting any bookings")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"features-alignRight"},l.a.createElement(Z.a,{className:"features-icon",src:ue.a})),l.a.createElement(A.a,{className:"features-alignLeft"},l.a.createElement("strong",null,"Rooms:"),l.a.createElement("ul",{className:"features-bulletPionts-square"},l.a.createElement("li",null,"Add as many rooms as you are allocated for"),l.a.createElement("li",null,"Rename rooms in a single click"),l.a.createElement("li",null,"Set different layouts to different rooms"),l.a.createElement("li",null,"Have some rooms on the \u2018week\u2019 system and some rooms free running"))),l.a.createElement(A.a,{className:"features-alignRight"},l.a.createElement(Z.a,{className:"features-icon",src:de.a})),l.a.createElement(A.a,{className:"features-alignLeft"},l.a.createElement("strong",null,"Layouts:"),l.a.createElement("ul",{className:"features-bulletPionts-square"},l.a.createElement("li",null,"Have different layouts for different rooms"),l.a.createElement("li",null,"Have different type of layouts, timetable or diary"),l.a.createElement("li",null,"Include breaks into the layouts that can be coloured coded"),l.a.createElement("li",null,"Add hover text or sessions, e.g. have the time which that session is on")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"features-alignRight"},l.a.createElement(Z.a,{className:"features-icon",src:be.a})),l.a.createElement(A.a,{className:"features-alignLeft"},l.a.createElement("strong",null,"Week System / Holidays:"),l.a.createElement("ul",{className:"features-bulletPionts-square"},l.a.createElement("li",null,"Some education settings have a two-week timetable, you can set this system to handle the timetable"),l.a.createElement("li",null,"Set each week to the correct \u2018week\u2019 number"),l.a.createElement("li",null,"Add holidays so repeated bookings miss the holidays"),l.a.createElement("li",null,"Built it locking and backup system for when editing the weeks"),l.a.createElement("li",null,"Collision detection on bookings and options to restore"))),l.a.createElement(A.a,{className:"features-alignRight"},l.a.createElement(Z.a,{className:"features-icon",src:fe.a})),l.a.createElement(A.a,{className:"features-alignLeft"},l.a.createElement("strong",null,"User Profiles:"),l.a.createElement("ul",{className:"features-bulletPionts-square"},l.a.createElement("li",null,"Control which user sees which room"),l.a.createElement("li",null,"Have different settings for different rooms"),l.a.createElement("li",null,"Priority the user profiles to override some settings from other profiles for particular users"),l.a.createElement("li",null,"Have up to 5 profiles per user"),l.a.createElement("li",null,"Automatically have a default profile set up to support users that are not in a profile")))),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"features-alignRight"},l.a.createElement(Z.a,{className:"features-icon",src:he.a})),l.a.createElement(A.a,{className:"features-alignLeft"},l.a.createElement("strong",null,"Administration:"),l.a.createElement("ul",{className:"features-bulletPionts-square"},l.a.createElement("li",null,"Have access to all the sections above to edit"),l.a.createElement("li",null,"Provide your organisation a system tailored to suit your needs"),l.a.createElement("li",null,"Have access to change users login method"),l.a.createElement("li",null,"Set an opening message for users at login"),l.a.createElement("li",null,"Direct users to use a particular login method by disabling and enabling them"),l.a.createElement("li",null,"Enable particular users to have access to the administration"))),l.a.createElement(A.a,null),l.a.createElement(A.a,null)))};var ye=function(){var e=Object(u.c)((function(e){return e.HomePageGlobalSettings})),a=Object(u.b)();return l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(O.a,null,l.a.createElement(A.a,{sm:2}),l.a.createElement(A.a,{sm:8},e.formSent?l.a.createElement("div",{className:"home-contact-sent"},l.a.createElement("p",null,"Message Sent!"),l.a.createElement("p",null,"Thank you for contacting My-STAFF at High-View Studios")):l.a.createElement("div",null,l.a.createElement(J.a,{className:"home-contact"},l.a.createElement(J.a.Group,null,l.a.createElement(J.a.Label,null,"Name:"),l.a.createElement(J.a.Control,{type:"textbox",id:"contactForm-Name",required:!0})),l.a.createElement(J.a.Group,null,l.a.createElement(J.a.Label,null,"Email:"),l.a.createElement(J.a.Control,{type:"email",id:"contactForm-Email",required:!0})),l.a.createElement(J.a.Group,null,l.a.createElement(J.a.Label,null,"Subject:"),l.a.createElement(J.a.Control,{type:"textbox",id:"contactForm-Subject",required:!0})),l.a.createElement(J.a.Group,null,l.a.createElement(J.a.Label,null,"Message:"),l.a.createElement(J.a.Control,{as:"textarea",rows:5,id:"contactForm-Message",required:!0})),l.a.createElement(L.a,{type:"submit",onClick:function(e){e.preventDefault();var t=document.getElementById("contactForm-Name").value,n=document.getElementById("contactForm-Email").value,l=document.getElementById("contactForm-Subject").value,r=document.getElementById("contactForm-Message").value;console.log(t);var o={name:t,email:n,subject:l,message:r};s.a.post("/organisation/homepageContact",o).then((function(e){"Email Sent"==e.data.message&&G(a,!0)})).catch((function(e){console.log(e)}))}},"Submit")))),l.a.createElement(A.a,{sm:2})))};var Oe=function(){var e=Q(),a=Object(c.a)(e,2),t=(a[0],a[1]),r=Object(u.c)((function(e){return e.user})),o=Object(D.f)(),i=Object(u.b)(),s=Object(u.c)((function(e){return e.HomePageGlobalSettings}));function m(e){Y(i,e),G(i,!1)}return Object(n.useEffect)((function(){document.title="STAFF",console.log(s),console.log(r),1==r.auth&&("superAdmin"==r.role?o.push("/administrator"):o.push("/org/"+r.orgID))}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{fluid:!0,className:"p-3"},l.a.createElement(K.a,{fluid:!0,className:"back-color home-jumbotron"},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("h1",{className:"blue-heading"},l.a.createElement("strong",null,"A place to be flexible with your bookings...")),l.a.createElement("br",null))),l.a.createElement(O.a,null,l.a.createElement(A.a,{sm:10},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(W.a,{className:"nav-bar",variant:"dark"},l.a.createElement(q.a,{className:"mx-auto"},l.a.createElement(q.a.Link,{className:"nav-link",onClick:function(){return m("home")}},"Home \xa0"),l.a.createElement(q.a.Link,{className:"nav-link",onClick:function(){return m("features")}}," \xa0Features \xa0"),l.a.createElement(q.a.Link,{className:"nav-link",onClick:function(){return m("contact")}}," \xa0Contact"))))),l.a.createElement("br",null),"home"==s.tab?l.a.createElement(le,null):null,"features"==s.tab?l.a.createElement(ve,null):null,"contact"==s.tab?l.a.createElement(ye,null):null),t>2e3?l.a.createElement(A.a,null,l.a.createElement(X,null)):null))))};var Ae=function(){var e=Object(u.c)((function(e){return e.user})),a=Object(D.f)();return Object(n.useEffect)((function(){document.title="STAFF - Not Connected",j(),e.auth&&a.push("/")}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h3",null,"Email is not connected to any organisation"),l.a.createElement(L.a,{variant:"warning",onClick:function(){return a.push("/")}},"Back to Home"),l.a.createElement("br",null),l.a.createElement("br",null))))};var ke=function(e){var a=e.match.params.id,t=(Object(u.c)((function(e){return e.user})),Object(D.f)());return Object(n.useEffect)((function(){document.title="STAFF - Not Connected",j()}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h3",null,"This is not the login method you use to log in"),l.a.createElement(L.a,{variant:"warning",onClick:function(){return t.push("/org/"+a+"/")}},"Back"),l.a.createElement("br",null),l.a.createElement("br",null))))},je=function(e){return{type:"ORG_UPDATE_SIGNIN_LOCAL",value:e}},De=function(e){return{type:"ORG_UPDATE_SIGNIN_GOOGLE",value:e}},we=function(e){return{type:"ORG_UPDATE_MESSAGE",value:e}},Te=function(e){return{type:"ORG_UPDATE_USEDEPARTMENTS",value:e}},Ne=function(e){return{type:"ORG_UPDATE_NOOFDEPARTMENTS",value:e}},Ie=function(e){return{type:"ORG_UPDATE_DEPARTMENTS",value:e}},Se=function(e){return{type:"ORG_UPDATE_REDEEMEDROOMS",value:e}},Ce=function(e){return{type:"ORG_UPDATE_ROOMS",value:e}},Ue=function(e){return{type:"ORG_UPDATE_HOLIDAYS",value:e}},Be=function(e){return{type:"ORG_UPDATE_LOCKED",value:e}},Pe=function(e){return{type:"UPUPDATE_ROOM_VIEW",value:e}},Re=function(e){return{type:"UPUPDATE_ROOM_WRITE",value:e}},_e=function(e){return{type:"UPUPDATE_ROOM_DELETE",value:e}},Le=function(e){return{type:"UPUPDATE_ROOM_REPEAT",value:e}},xe=function(e){return{type:"UPUPDATE_VIEWALLUSERS",value:e}},Me=function(e){return{type:"UPUPDATE_VIEWALLDEPARTMENTS",value:e}},Ye=function(e){return{type:"UPUPDATE_ORGADMINACCESS",value:e}},Ge=function(e){return{type:"MODIFY_SETTINGS",value:e}};var Fe=t(13),Qe=t(75),He=function(e){return{type:"UPDATE_ROOM_NAME",value:e}},Ke=function(e){return{type:"UPDATE_ROOM_ID",value:e}},We=function(e){return{type:"UPDATE_ROOM_LAYOUT_DATA",value:e}},qe=function(e){return{type:"UPDATE_ROOM_SESSION_ID",value:e}},Ve=function(e){return{type:"UPDATE_ROOM_SESSION_LABEL",value:e}},Je=function(e){return{type:"UPDATE_ROOM_DATE",value:e}},ze=function(e){return{type:"UPDATE_ROOM_WEEK_BEGIN",value:e}},Xe=function(e){return{type:"UPDATE_ROOM_DAY_LIST",value:e}},Ze=function(e){return{type:"UPDATE_ROOM_WEEK_SYSTEM",value:e}},$e=function(e){return{type:"UPDATE_ROOM_WEEK_UUID",value:e}},ea=function(e){return{type:"UPDATE_FORCE_COLLIDED_BOOKINGS",value:e}},aa=function(e){return{type:"UPDATE_FORCE_SIGNIN",value:e}},ta=function(e){return{type:"UPDATE_FROM_SIGNIN",value:e}},na=t(14),la=t.n(na);var ra=function(e){var a=e.orgID,t=Object(u.c)((function(e){return e.organisation})),r=Object(u.c)((function(e){return e.globalVars})),o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=Object(D.f)(),m=Object(u.b)(),d=Object(n.useState)({slotClass:"",dayClass:"",dates:["","","","","","",""],weekSlot:"",dayIndex:0,data:{},holiday:"",weekSystemUUID:""}),E=Object(c.a)(d,2),b=E[0],g=E[1],f=Object(n.useState)({days:[],order:[],sessions:[],sessionTotal:0}),p=Object(c.a)(f,2),h=p[0],v=p[1],y=Object(n.useState)({open:!1,heading:"",message:""}),k=Object(c.a)(y,2),j=k[0],_=k[1];function x(){_((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function M(t,n,l){for(var r={},o=[],c=la()(t,"DD/MM/YYYY"),i={user:"",department:"",type:""},u=G(c.week())+"-"+c.format("YY"),m=0;m<7;m++){var d,E=Object(Fe.a)(n);try{for(E.s();!(d=E.n()).done;){var b=d.value;o.push(G(c.day())+"-"+G(l[b].id)),r[G(c.week())+"-"+c.format("YY")+"-"+G(c.day())+"-"+G(l[b].id)]=i}}catch(p){E.e(p)}finally{E.f()}c.add(1,"d")}var f={orgID:a,room:e.roomID,week:u,days:o,weekBG:t};s.a.post("/booking/getBookings",f).then((function(e){var a=e.data;"null"===a.error&&g((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSlot:u,data:a.bookings})}))})).catch((function(e){console.log(e)}))}function Y(a){var n,l=la()(a,"DD/MM/YYYY"),r=G(l.week())+"-"+l.format("YY"),o="",c=Object(Fe.a)(t.holidays);try{var i=function(){var a=n.value;if(a.weeks.includes(r))return a.titleUUID.includes("w")?e.weekSystem&&(o=a.name,g((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSystemUUID:a.titleUUID})}))):a.titleUUID.includes("h")&&(o="Holiday: "+a.name),"break"};for(c.s();!(n=c.n()).done;){if("break"===i())break}}catch(s){c.e(s)}finally{c.f()}g((function(e){return Object(V.a)(Object(V.a)({},e),{},{holiday:o})}))}function G(e){return e.toString().includes("b")?1==(e=e.replace("b","")).toString().length?"b0"+e:e:1==e.toString().length?"0"+e:e}function F(t){m(w(!1));var n=t.target.id,l=n.toString().split("-");m(He(e.roomName)),m(Ke(e.roomID)),m(qe(n)),m(Ze(e.weekSystem)),m($e(b.weekSystemUUID)),m(We(e.layoutData)),h.sessions[l[1]].id.includes("b")?m(Ve(h.sessions[l[1]].breakText)):""!=h.sessions[l[1]].customText?m(Ve(h.sessions[l[1]].customText)):m(Ve(h.sessions[l[1]].id)),m(ze(b.dates[0])),m(Je(b.dates[l[0]])),m({type:"UPDATE_ROOM_TOTAL_SESSIONS",value:h.sessionTotal}),m(Xe(h.days)),i.push("/org/"+a+"/book")}function Q(e){var t={orgID:a,uuid:e};s.a.post("/booking/getBookingData",t).then((function(a){var t=a.data;m(N(t.booking.user)),m(I(K(t.booking.departmentID))),m(S(t.booking.sessionDes)),m(C(t.booking.sessionTotal)),"single"==t.booking.bookingType?m(U("Single")):(m(U("Repeat - "+t.booking.repeatType)),m(B(t.booking.repeatUntil))),m(P(t.booking.comments)),m(R(t.booking.createdBy)),m(w(!0)),m(T(e))})).catch((function(e){console.log(e)}))}function H(e,a,t){for(var n=[],l=0;l<7;l++)n.push(e.format("DD/MM/YYYY")),e.add(1,"d");g((function(e){return Object(V.a)(Object(V.a)({},e),{},{dates:n})})),M(n[0],a,t),Y(n[0])}function K(e){var a,n=Object(Fe.a)(t.departments);try{for(n.s();!(a=n.n()).done;){var l=a.value;if(l.uuid==e)return l.name}}catch(r){n.e(r)}finally{n.f()}}return Object(n.useEffect)((function(){!function(){var t,n=e.layoutData.days.split(","),l=[],o={},i=e.layoutData.sessionOrder.split(","),u=Object(Fe.a)(n);try{for(u.s();!(t=u.n()).done;){var m=t.value;l.push("true"==m)}}catch(E){u.e(E)}finally{u.f()}var d={orgID:a,layoutUUID:e.layoutData.uuid};s.a.post("/organisation/getTimetableSessions",d).then((function(a){var t,n=a.data.sessions,s=Object(Fe.a)(n);try{for(s.s();!(t=s.n()).done;){var u=t.value;o[u.id]=u}}catch(E){s.e(E)}finally{s.f()}v((function(a){return Object(V.a)(Object(V.a)({},a),{},{days:l,sessions:o,sessionTotal:e.layoutData.sessions,order:i})}));var m,d=0,b=Object(Fe.a)(l);try{for(b.s();!(m=b.n()).done;){m.value&&d++}}catch(E){b.e(E)}finally{b.f()}if(g((function(e){return Object(V.a)(Object(V.a)({},e),{},{slotClass:"session"+d+"-slot timetable-layout",dayClass:"session"+d+"-days timetable-layout"})})),""==r.weekBeginDate){var f=function(e){var a=la()();a.startOf("week");for(var t,n=[],l=0;l<7;l++)n.push(a.format("DD/MM/YYYY")),a.add(1,"d");g((function(e){return Object(V.a)(Object(V.a)({},e),{},{dates:n})}));var r,o=Object(Fe.a)(e.entries());try{for(o.s();!(r=o.n()).done;){var i=Object(c.a)(r.value,2),s=i[0];if(i[1]){t=s;break}}}catch(E){o.e(E)}finally{o.f()}return g((function(e){return Object(V.a)(Object(V.a)({},e),{},{dayIndex:t})})),n[0]}(l);M(f,i,o),Y(f)}else{!function(e){var a,t,n=Object(Fe.a)(e.entries());try{for(n.s();!(t=n.n()).done;){var l=Object(c.a)(t.value,2),r=l[0];if(l[1]){a=r;break}}}catch(E){n.e(E)}finally{n.f()}g((function(e){return Object(V.a)(Object(V.a)({},e),{},{dayIndex:a})}))}(l),H(la()(r.weekBeginDate,"DD/MM/YYYY"),i,o)}})).catch((function(e){console.log(e)}))}()}),[]),l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("strong",null,l.a.createElement("div",{className:"centred"},"Week Beginning: ",b.dates[b.dayIndex]))),l.a.createElement(A.a,null,l.a.createElement("strong",null,l.a.createElement("div",{className:"centred-100"},b.holiday))),l.a.createElement(A.a,null,l.a.createElement("div",{className:"side-by-side-R"},l.a.createElement(L.a,{variant:"primary",onClick:function(){m(w(!1));var a=la()(b.dates[0],"DD/MM/YYYY");a.subtract(1,"w");var t=la()();t.startOf("week"),a<t?_({heading:e.roomName,message:"You cannot go back previous from this week",open:!0}):H(a,h.order,h.sessions)}},"-"),l.a.createElement(L.a,{variant:"primary",onClick:function(){m(w(!1));var e=la()(b.dates[0],"DD/MM/YYYY");e.add(1,"w"),H(e,h.order,h.sessions)}},"+")))),l.a.createElement(O.a,null,l.a.createElement("table",{className:"timetable-layout",width:"100%",border:"1px"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:b.slotClass},"Session"),h.days.map((function(e,a){if(e)return l.a.createElement("td",{className:b.dayClass,key:a},o[a]," ",l.a.createElement("br",null)," ",b.dates[a])})))),l.a.createElement("tbody",null,h.order.map((function(e,a){return e.toString().includes("b")?l.a.createElement("tr",{key:a,style:{backgroundColor:h.sessions[e].bgColor}},l.a.createElement("td",{className:b.slotClass,style:{color:h.sessions[e].textColor}},""!=h.sessions[e].breakText?h.sessions[e].breakText:h.sessions[e].id),h.days.map((function(a,n){if(a){if(Object.keys(b.data).length>0){var r=b.weekSlot+"-"+G(n)+"-"+G(h.sessions[e].id);return"single"==b.data[r].type?l.a.createElement("td",{className:" timetable-layout singleSlot",key:n,id:n+"-"+h.session,onClick:function(){return Q(b.data[r].uuid)}},b.data[r].user," ",l.a.createElement("br",null)," ",K(b.data[r].department)):"repeat"==b.data[r].type?l.a.createElement("td",{className:" timetable-layout repeatSlot",key:n,id:n+"-"+e,onClick:function(){return Q(b.data[r].uuid)}},b.data[r].user," ",l.a.createElement("br",null)," ",K(b.data[r].department)):l.a.createElement("td",{className:t.locked?"timetable-layout emptySlotDisabled":"timetable-layout emptySlot",key:n,id:n+"-"+e,onClick:F},"Book")}return l.a.createElement("td",{className:t.locked?"timetable-layout emptySlotDisabled":"timetable-layout emptySlot",key:n,id:n+"-"+e,onClick:F},"Book")}}))):l.a.createElement("tr",{key:a},l.a.createElement("td",{className:b.slotClass,"data-tip":""!=h.sessions[e].hoverText?h.sessions[e].hoverText:null},""!=h.sessions[e].customText?h.sessions[e].customText:h.sessions[e].id),h.days.map((function(a,n){if(a){if(Object.keys(b.data).length>0){var r=b.weekSlot+"-"+G(n)+"-"+G(h.sessions[e].id);return"single"==b.data[r].type?l.a.createElement("td",{className:" timetable-layout singleSlot",key:n,id:n+"-"+e,onClick:function(){return Q(b.data[r].uuid)}},b.data[r].user," ",l.a.createElement("br",null)," ",K(b.data[r].department)):"repeat"==b.data[r].type?l.a.createElement("td",{className:" timetable-layout repeatSlot",key:n,id:n+"-"+e,onClick:function(){return Q(b.data[r].uuid)}},b.data[r].user," ",l.a.createElement("br",null)," ",K(b.data[r].department)):l.a.createElement("td",{className:t.locked?"timetable-layout emptySlotDisabled":"timetable-layout emptySlot",key:n,id:n+"-"+e,onClick:F},"Book")}return l.a.createElement("td",{className:t.locked?"timetable-layout emptySlotDisabled":"timetable-layout emptySlot",key:n,id:n+"-"+e,onClick:F},"Book")}})))})),void Qe.a.rebuild())),l.a.createElement(Qe.a,null)),l.a.createElement(z.a,{show:j.open,onHide:x},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,j.heading)),l.a.createElement(z.a.Body,null,j.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:x},"Close"))))};var oa=function(e){var a=e.orgID,t=Object(u.c)((function(e){return e.organisation})),r=Object(u.c)((function(e){return e.globalVars})),o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=Object(u.b)(),m=Object(D.f)(),d=Object(n.useState)({slotClass:"",dayClass:"",times:[],startTime:"",finishTime:"",interval:"",dates:["","","","","","",""],dayIndex:0,weekSlot:"",data:{},holiday:"",days:[],weekSystemUUID:""}),E=Object(c.a)(d,2),b=E[0],g=E[1];Object(n.useEffect)((function(){!function(){var a,t=e.layoutData.days.split(","),n=[],l=e.layoutData.startTime,o=e.layoutData.finishTime,i=e.layoutData.timeInterval,s=Object(Fe.a)(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;n.push("true"==u)}}catch(p){s.e(p)}finally{s.f()}for(var m=0,d=0,E=n;d<E.length;d++){E[d]&&m++}g((function(e){return Object(V.a)(Object(V.a)({},e),{},{slotClass:"session"+m+"-slot timetable-layout",dayClass:"session"+m+"-days timetable-layout",startTime:l,finishTime:o,interval:i,days:n})}));var b=function(e,a,t){var n=[];if("Start Time"!==e&&"Finish Time"!==a&&0!==t){for(var l=la()(e,"HH:mm"),r=la()(a,"HH:mm");l.isBefore(r);)n.push(l.format("HH:mm")),l.add(t,"m");g((function(e){return Object(V.a)(Object(V.a)({},e),{},{times:n})}))}return n}(l,o,i);if(""==r.weekBeginDate){var f=function(e){var a=la()();a.startOf("week");for(var t,n=[],l=0;l<7;l++)n.push(a.format("DD/MM/YYYY")),a.add(1,"d");g((function(e){return Object(V.a)(Object(V.a)({},e),{},{dates:n})}));var r,o=Object(Fe.a)(e.entries());try{for(o.s();!(r=o.n()).done;){var i=Object(c.a)(r.value,2),s=i[0];if(i[1]){t=s;break}}}catch(p){o.e(p)}finally{o.f()}return g((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekbegin:n[0],dayIndex:t})})),n[0]}(n);j(f,b),k(f)}else{!function(e){var a,t,n=Object(Fe.a)(e.entries());try{for(n.s();!(t=n.n()).done;){var l=Object(c.a)(t.value,2),r=l[0];if(l[1]){a=r;break}}}catch(p){n.e(p)}finally{n.f()}g((function(e){return Object(V.a)(Object(V.a)({},e),{},{dayIndex:a})}))}(n),x(la()(r.weekBeginDate,"DD/MM/YYYY"),b)}}()}),[]);var f=Object(n.useState)({open:!1,heading:"",message:""}),p=Object(c.a)(f,2),h=p[0],v=p[1];function y(){v((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function k(a){var n,l=la()(a,"DD/MM/YYYY"),r=_(l.week())+"-"+l.format("YY"),o="",c=Object(Fe.a)(t.holidays);try{var i=function(){var a=n.value;if(a.weeks.includes(r))return a.titleUUID.includes("w")?e.weekSystem&&(o=a.name,g((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSystemUUID:a.titleUUID})}))):a.titleUUID.includes("h")&&(o="Holiday: "+a.name),"break"};for(c.s();!(n=c.n()).done;){if("break"===i())break}}catch(s){c.e(s)}finally{c.f()}g((function(e){return Object(V.a)(Object(V.a)({},e),{},{holiday:o})}))}function j(t,n){for(var l={},r=[],o=la()(t,"DD/MM/YYYY"),c={user:"",department:"",type:""},i=_(o.week())+"-"+o.format("YY"),u=0;u<7;u++){var m,d=Object(Fe.a)(n);try{for(d.s();!(m=d.n()).done;){var E=m.value;r.push(_(o.day())+"-"+E.replace(":","")),l[_(o.week())+"-"+o.format("YY")+"-"+_(o.day())+"-"+E.replace(":","")]=c}}catch(f){d.e(f)}finally{d.f()}o.add(1,"d")}var b={orgID:a,room:e.roomID,week:i,days:r,weekBG:t};s.a.post("/booking/getBookings",b).then((function(e){var a=e.data;"null"===a.error&&g((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSlot:i,data:a.bookings})}))})).catch((function(e){console.log(e)}))}function _(e){return e.toString().includes("b")?1==(e=e.replace("b","")).toString().length?"b0"+e:e:1==e.toString().length?"0"+e:e}function x(e,a){for(var t=[],n=0;n<7;n++)t.push(e.format("DD/MM/YYYY")),e.add(1,"d");g((function(e){return Object(V.a)(Object(V.a)({},e),{},{dates:t})})),j(t[0],a),k(t[0])}function M(t){var n=t.target.id;console.log(n);var l=n.toString().split("-");i(He(e.roomName)),i(Ke(e.roomID)),i(We(e.layoutData)),i(qe(n)),i(Ve(l[1])),i(ze(b.dates[0])),i(Je(b.dates[l[0]])),i(Xe(b.days)),i(Ze(e.weekSystem)),i($e(b.weekSystemUUID)),i({type:"UPDATE_DIARY_START_TIME",value:b.startTime}),i(function(e){return{type:"UPDATE_DIARY_FINISH_TIME",value:e}}(b.finishTime)),i(function(e){return{type:"UPDATE_DIARY_TIME_INTERVAL",value:e}}(b.interval)),m.push("/org/"+a+"/book")}function Y(e){var a,n=Object(Fe.a)(t.departments);try{for(n.s();!(a=n.n()).done;){var l=a.value;if(l.uuid==e)return l.name}}catch(r){n.e(r)}finally{n.f()}}function G(e){var t={orgID:a,uuid:e};s.a.post("/booking/getBookingData",t).then((function(a){var t=a.data;i(N(t.booking.user)),i(I(Y(t.booking.departmentID))),i(S(t.booking.sessionDes)),i(C(t.booking.sessionTotal)),"single"==t.booking.bookingType?i(U("Single")):(i(U("Repeat - "+t.booking.repeatType)),i(B(t.booking.repeatUntil))),i(P(t.booking.comments)),i(R(t.booking.createdBy)),i(w(!0)),i(T(e))})).catch((function(e){console.log(e)}))}return l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("strong",null,l.a.createElement("div",{className:"centred"},"Week Beginning: ",b.dates[b.dayIndex]))),l.a.createElement(A.a,null,l.a.createElement("strong",null,l.a.createElement("div",{className:"centred-100"},b.holiday))),l.a.createElement(A.a,null,l.a.createElement("div",{className:"side-by-side-R"},l.a.createElement(L.a,{variant:"primary",onClick:function(){var a=la()(b.dates[0],"DD/MM/YYYY");a.subtract(1,"w");var t=la()();t.startOf("week"),a<t?v({heading:e.roomName,message:"You cannot go back previous from this week",open:!0}):x(a,b.times)}},"-"),l.a.createElement(L.a,{variant:"primary",onClick:function(){var e=la()(b.dates[0],"DD/MM/YYYY");e.add(1,"w"),x(e,b.times)}},"+")))),l.a.createElement(O.a,null,l.a.createElement("table",{className:"timetable-layout",width:"100%",border:"1px"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",{className:b.slotClass},"Session"),b.days.map((function(e,a){if(e)return l.a.createElement("td",{className:b.dayClass,key:a},o[a]," ",l.a.createElement("br",null)," ",b.dates[a])})))),l.a.createElement("tbody",null,b.times.map((function(e,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",{className:b.slotClass},e),b.days.map((function(a,n){if(a){if(Object.keys(b.data).length>0){var r=b.weekSlot+"-"+_(n)+"-"+e.replace(":","");return"single"==b.data[r].type?l.a.createElement("td",{className:" timetable-layout singleSlot",key:n,id:n+"-"+e,onClick:function(){return G(b.data[r].uuid)}},b.data[r].user," ",l.a.createElement("br",null)," ",Y(b.data[r].department)):"repeat"==b.data[r].type?l.a.createElement("td",{className:" timetable-layout repeatSlot",key:n,id:n+"-"+e,onClick:function(){return G(b.data[r].uuid)}},b.data[r].user," ",l.a.createElement("br",null)," ",Y(b.data[r].department)):l.a.createElement("td",{className:t.locked?"timetable-layout emptySlotDisabled":"timetable-layout emptySlot",key:n,id:n+"-"+e,onClick:M},"Book")}return l.a.createElement("td",{className:t.locked?"timetable-layout emptySlotDisabled":"timetable-layout emptySlot",key:n,id:n+"-"+e,onClick:M},"Book")}})))}))))),l.a.createElement(z.a,{show:h.open,onHide:y},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,h.heading)),l.a.createElement(z.a.Body,null,h.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:y},"Close"))))};var ca=function(e){var a=e.match.params.id,t=Object(u.c)((function(e){return e.organisation})),r=Object(u.c)((function(e){return e.globalVars})),o=Object(u.c)((function(e){return e.bookings})),i=Object(u.c)((function(e){return e.user})),m=Object(u.c)((function(e){return e.userProfile})),d=Object(u.b)(),E=Object(n.useState)({orgTitle:"",orgLocked:"",roomName:"Rooms",roomLayout:"",roomID:"",layoutData:{},view:!1,weekSystem:!1}),b=Object(c.a)(E,2),g=b[0],f=b[1],p=Object(n.useState)({open:!1,heading:"",message:""}),h=Object(c.a)(p,2),v=h[0],y=h[1],k=Object(n.useState)({open:!1,heading:"",message:"",acceptFunction:"",acceptName:"",showAccept:!1,cancelName:"",showCancel:!1}),j=Object(c.a)(k,2),D=j[0],T=j[1];function N(){y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function I(){T((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function S(e,a,n,l){var r;f((function(a){return Object(V.a)(Object(V.a)({},a),{},{roomName:e,roomLayout:"---",roomID:n,weekSystem:!1})}));var o,c=Object(Fe.a)(t.layouts);try{for(c.s();!(o=c.n()).done;){var i=o.value;i.uuid==a&&(r=i)}}catch(s){c.e(s)}finally{c.f()}f((function(a){return Object(V.a)(Object(V.a)({},a),{},{roomName:e,roomLayout:r.layout,roomID:n,weekSystem:"true"==l,layoutData:r,view:!1})})),m.default||function(e,a,t){for(var n in t.rooms)t.rooms[n].roomUUID==a&&(e(Pe("true"==t.rooms[n].prop_View)),e(Re("true"==t.rooms[n].prop_Write)),e({type:"UPUPDATE_ROOM_EDIT",value:"true"==t.rooms[n].prop_Edit}),e(_e("true"==t.rooms[n].prop_Delete)),e(Le("true"==t.rooms[n].prop_Repeat)))}(d,n,m),d(w(!1)),setTimeout((function(){f((function(e){return Object(V.a)(Object(V.a)({},e),{},{view:!0})}))}),100)}function C(){T({open:!1});var e={orgID:a,bookingID:o.bookingID};s.a.post("/booking/deleteBooking",e).then((function(e){"null"==e.data.error&&(y({heading:"Delete booking",message:"Booking deleted!",open:!0}),d(w(!1)),f((function(e){return Object(V.a)(Object(V.a)({},e),{},{view:!1})})),setTimeout((function(){f((function(e){return Object(V.a)(Object(V.a)({},e),{},{view:!0})}))}),100))})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){document.title="STAFF",""!=r.roomName&&(f((function(e){return Object(V.a)(Object(V.a)({},e),{},{roomName:r.roomName,roomLayout:r.layoutData.layout,layoutData:r.layoutData,roomID:r.roomID,weekSystem:r.weekSystem})})),setTimeout((function(){f((function(e){return Object(V.a)(Object(V.a)({},e),{},{view:!0})}))}),100))}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{fluid:!0,className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,t.name),t.locked?l.a.createElement("h2",null,"Organisation Locked"):null,l.a.createElement(O.a,null,l.a.createElement(A.a,null),l.a.createElement(A.a,{xs:8},l.a.createElement("div",{className:"roomLbl"},"Rooms:"),l.a.createElement(_.a,{className:"rooms"},l.a.createElement(_.a.Toggle,{variant:"primary",id:"dropdown-layouts"},g.roomName),l.a.createElement(_.a.Menu,{className:"dropdown-items"},t.rooms.map((function(e,a){return l.a.createElement(_.a.Item,{key:a,onClick:function(){S(e.name,e.layout,e.uuid,e.weekSystem)}},e.name)}))))),l.a.createElement(A.a,null)),l.a.createElement(O.a,null,l.a.createElement(A.a,null),l.a.createElement(A.a,{xs:8},g.view?l.a.createElement("div",null,""!=g.roomLayout&&"Timetable"==g.roomLayout?l.a.createElement(ra,{orgID:a,roomName:g.roomName,roomID:g.roomID,layoutData:g.layoutData,weekSystem:g.weekSystem}):null,""!=g.roomLayout&&"Diary"==g.roomLayout?l.a.createElement(oa,{orgID:a,roomName:g.roomName,roomID:g.roomID,layoutData:g.layoutData,weekSystem:g.weekSystem}):null):null),l.a.createElement(A.a,null,l.a.createElement(O.a,null,l.a.createElement("div",{className:"row-nothing"},l.a.createElement(L.a,{disabled:!0},"Test"))),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("div",{className:o.editBooking?"edit-booking-show":"edit-booking-hide"},l.a.createElement("strong",null,"Booking Details"),l.a.createElement("div",{className:"align-left"},l.a.createElement("br",null),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("strong",null,"User:")),l.a.createElement(A.a,null,o.user)),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("strong",null,"Department:")),l.a.createElement(A.a,null,o.department)),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("strong",null,"Class:")),l.a.createElement(A.a,null,o.sessionDes)),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("br",null),l.a.createElement("strong",null,"Session Length:")),l.a.createElement(A.a,null,l.a.createElement("br",null),o.sessionLength)),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("strong",null,"Booking Type:")),l.a.createElement(A.a,null,o.bookingType)),"Repeat - weekly"==o.bookingType||"Repeat - Daily"==o.bookingType?l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("strong",null,"Repeat Until:")),l.a.createElement(A.a,null,o.bookingUntil))):null,""!=o.comments?l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("br",null),l.a.createElement("strong",null,"Comments"))),l.a.createElement(O.a,null,l.a.createElement(A.a,null,o.comments))):null,l.a.createElement("br",null)," ",l.a.createElement("br",null),i.uuid==o.createdBy||m.room_Delete?l.a.createElement(L.a,{variant:"primary",onClick:function(){T({heading:"Delete Booking",message:"Are you sure you want to delete this booking?",acceptFunction:C,acceptName:"Yes",showAccept:!0,showCancel:!0,cancelName:"No",open:!0})}},"Delete"):null)))))))),l.a.createElement(z.a,{show:v.open,onHide:N},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,v.heading)),l.a.createElement(z.a.Body,null,v.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:N},"Close"))),l.a.createElement(z.a,{show:D.open,onHide:I},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,D.heading)),l.a.createElement(z.a.Body,null,D.message),l.a.createElement(z.a.Footer,null,D.showAccept?l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:D.acceptFunction},D.acceptName)):null,D.showCancel?l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:I},D.cancelName)):null)))},ia=t(18);var sa=function(e){var a=Object(u.b)(),t=Object(u.c)((function(e){return e.globalVars}));return l.a.createElement("div",null,l.a.createElement($.a,{body:!0,className:"collides_bookingSlot"},l.a.createElement(O.a,null,"Booking - Room: ",e.roomName),l.a.createElement(O.a,null,l.a.createElement(A.a,null,"User: ",l.a.createElement("br",null),e.user),l.a.createElement(A.a,null,"Description: ",l.a.createElement("br",null),e.sessionDes),l.a.createElement(A.a,null,"Booking Type:",l.a.createElement("br",null)," ",e.bookingType," - ",e.repeatType),l.a.createElement(A.a,null,"Start Date: ",l.a.createElement("br",null)," ",e.startDate),l.a.createElement(A.a,null,"Session: ",e.session),l.a.createElement(A.a,null,"Session Length: ",e.sessionTotal),l.a.createElement(A.a,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){return function(n){var l={orgID:e.orgID,bookingUUID:n};s.a.post("/organisation/collide/deleteBooking",l).then((function(e){"null"==e.data.error&&(t.collideBookingsUpdate?a(ea(!1)):a(ea(!0)))})).catch((function(e){console.log(e)}))}(e.uuid)}},"Delete")))))};var ua=function(e){var a=Object(u.b)(),t=Object(u.c)((function(e){return e.globalVars}));return l.a.createElement("div",null,l.a.createElement($.a,{body:!0,className:"collides_collideSlot"},l.a.createElement(O.a,null,"Collided Booking"),l.a.createElement(O.a,null,l.a.createElement(A.a,null,"User: ",l.a.createElement("br",null),e.user),l.a.createElement(A.a,null,"Description: ",l.a.createElement("br",null),e.sessionDes),l.a.createElement(A.a,null,"Booking Type:",l.a.createElement("br",null)," ",e.bookingType),l.a.createElement(A.a,null,"Start Date: ",l.a.createElement("br",null)," ",e.startDate),l.a.createElement(A.a,null,"Session: ",e.session),l.a.createElement(A.a,null,"Session Length: ",e.sessionTotal),l.a.createElement(A.a,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){return function(n,l){var r={orgID:e.orgID,bookingUUID:n,collideUUID:l};s.a.post("/organisation/collide/deleteCollide",r).then((function(e){"null"==e.data.error&&(t.collideBookingsUpdate?a(ea(!1)):a(ea(!0)))})).catch((function(e){console.log(e)}))}(e.bookingUUID,e.uuid)}},"Delete")))))};var ma=function(e){var a=e.match.params.id,t=Object(u.c)((function(e){return e.organisation})),r=Object(u.c)((function(e){return e.globalVars})),o=Object(D.f)(),i=Object(n.useState)({bookings:[]}),m=Object(c.a)(i,2),d=m[0],E=m[1];function b(e){return e.toString().includes("b")?1==(e=e.replace("b","")).toString().length?"b0"+e:e:1==e.toString().length?"0"+e:e}return Object(n.useEffect)((function(){!function(){if(t.locked){var e=Object(ia.a)({orgID:a},"orgID",a);s.a.post("/organisation/collidedbookings",e).then((function(e){var n=e.data;"null"!=n.error?o.push("/org/"+a+"/organisationAdmin"):n.bookings.length>0?function(e,a,n){var l,r=Object(Fe.a)(e);try{for(r.s();!(l=r.n()).done;){var o,c=l.value,i=c.sessions.split(",")[0].split("-")[1],s="",u="",m=Object(Fe.a)(t.rooms);try{for(m.s();!(o=m.n()).done;){var d=o.value;d.uuid==c.roomID&&(c.roomName=d.name,s=d.layout)}}catch(B){m.e(B)}finally{m.f()}var g,f=Object(Fe.a)(t.layouts);try{for(f.s();!(g=f.n()).done;){var p=g.value;p.uuid==s&&(u=p.layout)}}catch(B){f.e(B)}finally{f.f()}if("Timetable"==u){var h,v=Object(Fe.a)(n);try{for(v.s();!(h=v.n()).done;){var y=h.value;y.layoutUUID==s&&b(y.id)==i&&(i.includes("b")?""!=y.breakText?c.firstSession=y.breakText:c.firstSession=i:""!=y.customText?c.firstSession=y.customText:c.firstSession=i)}}catch(B){v.e(B)}finally{v.f()}}else"Diary"==u&&(c.firstSession=i[0]+i[1]+":"+i[2]+i[3]);var O,A=c.collideUUID.split(","),k=[],j=Object(Fe.a)(A);try{for(j.s();!(O=j.n()).done;){var D,w=O.value,T=Object(Fe.a)(a);try{for(T.s();!(D=T.n()).done;){var N=D.value;if(N.uuid==w){var I=N.sessions.split(",")[0].split("-")[1];if("Timetable"==u){var S,C=Object(Fe.a)(n);try{for(C.s();!(S=C.n()).done;){var U=S.value;U.layoutUUID==s&&b(U.id)==I&&(I.includes("b")?""!=U.breakText?N.firstSession=U.breakText:N.firstSession=I:""!=U.customText?N.firstSession=U.customText:N.firstSession=I)}}catch(B){C.e(B)}finally{C.f()}}else"Diary"==u&&(N.firstSession=I[0]+I[1]+":"+I[2]+I[3]);k.push(N)}}}catch(B){T.e(B)}finally{T.f()}}}catch(B){j.e(B)}finally{j.f()}c.collideBookings=k}}catch(B){r.e(B)}finally{r.f()}E((function(a){return Object(V.a)(Object(V.a)({},a),{},{bookings:e})}))}(n.bookings,n.collides,n.sessions):o.push("/org/"+a+"/organisationAdmin")})).catch((function(e){console.log(e)}))}else o.push("/org/"+a)}()}),[r.collideBookingsUpdate]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{fluid:!0,className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,"Collision Bookings"),l.a.createElement("br",null),d.bookings.map((function(e,t){return l.a.createElement("div",{key:t},l.a.createElement(sa,{orgID:a,uuid:e.uuid,roomName:e.roomName,user:e.user,sessionDes:e.sessionDes,bookingType:e.bookingType,repeatType:e.repeatType,startDate:e.startDate,sessionTotal:e.sessionTotal,session:e.firstSession}),d.bookings[t].collideBookings.map((function(t,n){return l.a.createElement(ua,{orgID:a,bookingUUID:e.uuid,uuid:t.uuid,key:n,user:t.user,sessionDes:t.sessionDes,bookingType:t.bookingType,startDate:t.startDate,sessionTotal:t.sessionTotal,session:t.firstSession})})),l.a.createElement("br",null))})))))};var da=function(e){var a=e.match.params.id,t=Object(u.c)((function(e){return e.user})),r=Object(u.c)((function(e){return e.globalVars})),o=Object(u.b)(),i=Object(n.useState)({organisation:{}}),m=Object(c.a)(i,2),d=m[0],E=m[1],g=Object(n.useState)({open:!1,heading:"",message:""}),f=Object(c.a)(g,2),p=f[0],h=f[1];function y(){r.forceSignIn?(o(ta(!0)),o(aa(!1))):(o(ta(!0)),o(aa(!0))),h((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}return Object(n.useEffect)((function(){!function(){var e={orgID:a};s.a.post("/organisation/getSARData",e).then((function(e){console.log(e.data.org),E({organisation:e.data.org})})).catch((function(e){console.log(e)}))}()}),[]),l.a.createElement("div",{className:"body changeOfSenior"},l.a.createElement(H.a,{className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,"Change of Senior Admin Request"),l.a.createElement("br",null),l.a.createElement("p",null,"You are viewing this screen because ",d.organisation.POC_Name," has requested a change of Senior Admin role to you. "),l.a.createElement("p",null,"This means that you will be responible for the admin side of your organisation."),l.a.createElement("p",null,"If you require help, please speak to ",d.organisation.POC_Name," or contact High-View Studios"),l.a.createElement("p",null,"Do you want to Accept or Decline this invitation?"),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){var e,n=(e={orgID:a},Object(ia.a)(e,"orgID",a),Object(ia.a)(e,"invate","Accept"),Object(ia.a)(e,"newUserID",t.uuid),e);s.a.post("/organisation/SAInvate",n).then((function(e){console.log(e.data),"Senior Admin Updated"==e.data.message&&(o(b(e.data.role)),o(v("")),h({heading:"Request Accepted",open:!0}))})).catch((function(e){console.log(e)}))}},"Accept")),l.a.createElement(A.a,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){var e,n=(e={orgID:a},Object(ia.a)(e,"orgID",a),Object(ia.a)(e,"invate","Decline"),Object(ia.a)(e,"newUserID",t.uuid),e);s.a.post("/organisation/SAInvate",n).then((function(e){"Senior Admin Request Declined"==e.data.message&&(o(v("")),r.forceSignIn?(o(ta(!0)),o(aa(!1))):(o(ta(!0)),o(aa(!0))))})).catch((function(e){console.log(e)}))}},"Decline"))))),l.a.createElement(z.a,{show:p.open,onHide:y},l.a.createElement(z.a.Header,null,l.a.createElement(z.a.Title,null,p.heading)),l.a.createElement(z.a.Body,null,l.a.createElement("p",null,"You are now the Senior Admin of this organisation."),l.a.createElement("p",null,"To get to the Admin side, go on the organisation page drop-down at the top-right of the screen")),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:y},"Close"))))},Ea=t(31),ba=t(498);var ga=function(e){var a=e.match.params.id,t=Object(u.c)((function(e){return e.organisation})),r=Object(u.c)((function(e){return e.AdminUserGlobalSettings})),o=Object(D.f)(),i=Object(n.useState)({name:"",email:"",roles:!0,role_User:!1,role_Admin:!1,role_SeniorAdmin:!1,departments:[],depToUser:""}),m=Object(c.a)(i,2),d=m[0],E=m[1],b=Object(n.useState)({open:!1}),g=Object(c.a)(b,2),f=g[0],p=g[1];function h(){p((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}var v=Object(n.useState)({open:!1,heading:"",message:""}),y=Object(c.a)(v,2),k=y[0],j=y[1];function w(){j((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}var T=Object(n.useState)({open:!1,heading:"",message:"",acceptFunction:"",acceptName:"",showAccept:!1,cancelName:"",showCancel:!1}),N=Object(c.a)(T,2),I=N[0],S=N[1],C=Object(n.useState)({open:!1,heading:"",message:"",option1Function:"",option1Name:"",showOption1:!1,option2Function:"",option2Name:"",showOption2:!1}),U=Object(c.a)(C,2),B=U[0],P=U[1];function R(){S((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function _(e){var a=e.target.name;"role_User"==a&&E((function(e){return Object(V.a)(Object(V.a)({},e),{},{role_Admin:!1,role_User:!0})})),"role_Admin"==a&&E((function(e){return Object(V.a)(Object(V.a)({},e),{},{role_Admin:!0,role_User:!1})}))}function x(e){var a,n=e.split(","),l=[],r=Object(Fe.a)(n);try{for(r.s();!(a=r.n()).done;){var o,c=a.value,i=Object(Fe.a)(t.departments);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.uuid==c&&l.push(s.name)}}catch(u){i.e(u)}finally{i.f()}}}catch(u){r.e(u)}finally{r.f()}return l}function M(e){var a=e.target,t=a.name,n=a.value;E((function(e){return Object(V.a)(Object(V.a)({},e),{},Object(ia.a)({},t,n))}))}function Y(){P({open:!1});var e={orgID:a,uuid:r.uuid,method:"google"};s.a.post("/organisation/changeUserLoginMethod",e).then((function(e){"Strategy Updated"==e.data.message&&j({heading:"Change Login Method",message:"This user's login method has now been changed",open:!0})})).catch((function(e){console.log(e)}))}function G(){P({open:!1});var e={orgID:a,uuid:r.uuid,method:"local"};s.a.post("/organisation/changeUserLoginMethod",e).then((function(e){"Strategy Updated"==e.data.message&&j({heading:"Change Login Method",message:"This user's login method has now been changed",open:!0})})).catch((function(e){console.log(e)}))}function F(){S({open:!1});var e={uuid:r.uuid,orgID:a};s.a.post("/organisation/removeUser",e).then((function(e){"User removed successfully"==e.data.message&&(j((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Remove User",message:"User has been removed and deleted",open:!0})})),o.push("/org/"+a+"/organisationAdmin"))})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){!function(){var e={uuid:r.uuid};s.a.post("/organisation/getJustUser",e).then((function(e){var t=e.data;console.log(t),"no user"==t.error?o.push("/org/"+a+"/organisationAdmin"):E((function(e){return Object(V.a)(Object(V.a)({},e),{},{name:t.user.displayName,email:t.user.email,departments:x(t.user.departments)})})),"seniorAdmin"==t.user.role?E((function(e){return Object(V.a)(Object(V.a)({},e),{},{roles:!1,role_SeniorAdmin:!0,role_Admin:!1,role_User:!1})})):"admin"==t.user.role?E((function(e){return Object(V.a)(Object(V.a)({},e),{},{roles:!0,role_SeniorAdmin:!1,role_Admin:!0,role_User:!1})})):"user"==t.user.role&&E((function(e){return Object(V.a)(Object(V.a)({},e),{},{roles:!0,role_SeniorAdmin:!1,role_Admin:!1,role_User:!0})}))})).catch((function(e){console.log(e)}))}()}),[]),l.a.createElement("div",null,l.a.createElement(H.a,{fluid:!0,className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,"User Details"),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("div",{className:"normal-text"},l.a.createElement(J.a,null,l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Label,{id:"lblName"},l.a.createElement("strong",null,"Name:")),l.a.createElement(J.a.Control,{id:"txtName",name:"name",type:"text",value:d.name,onChange:M}))),l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Label,{id:"lblEmail"},l.a.createElement("strong",null,"Email:")),l.a.createElement(J.a.Control,{id:"txtEmail",name:"email",type:"text",value:d.email,onChange:M}))),l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement("div",{className:d.roles?null:"roles-hidden"},l.a.createElement(J.a.Label,{id:"lblRole"},l.a.createElement("strong",null,"Role:")),l.a.createElement(J.a.Check,{id:"radRoleUser",type:"radio",name:"role_User",checked:d.role_User,onChange:_,label:"User"}),l.a.createElement(J.a.Check,{id:"radRoleAdmin",type:"radio",name:"role_Admin",checked:d.role_Admin,onChange:_,label:"Admin"})))),l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Label,{id:"lblDepartmentsTitle"},l.a.createElement("strong",null,"Departments:"))," ",l.a.createElement("br",null),0==d.departments.length?l.a.createElement("div",{className:"departments-hidden"},l.a.createElement(J.a.Label,null,"---")):l.a.createElement("div",null,l.a.createElement(J.a.Label,{id:"lblDepartments"},d.departments.toString()))))))),l.a.createElement(A.a,null,l.a.createElement("h3",null,l.a.createElement("strong",null,"Departments")),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(L.a,{onClick:function(){d.departments.includes(d.depToUser)||E((function(e){return Object(V.a)(Object(V.a)({},e),{},{departments:[].concat(Object(Ea.a)(d.departments),[d.depToUser])})}))}},"Add"),l.a.createElement("br",null),l.a.createElement(L.a,{onClick:function(){if(d.departments.includes(d.depToUser)){var e=d.departments.filter((function(e){return e!=d.depToUser}));E((function(a){return Object(V.a)(Object(V.a)({},a),{},{departments:e})}))}}},"Remove")),l.a.createElement(A.a,null,l.a.createElement("div",{className:"scrollable-250 normal-text"},l.a.createElement(ba.a,null,t.departments.map((function(e,a){return l.a.createElement(ba.a.Item,{key:a,action:!0,onClick:function(){var a;a=e.name,E((function(e){return Object(V.a)(Object(V.a)({},e),{},{depToUser:a})}))}},e.name)})))),l.a.createElement("div",{className:"add-button"},l.a.createElement(L.a,{onClick:function(){var e=function(){var e,a=[],n=Object(Fe.a)(t.departments);try{for(n.s();!(e=n.n()).done;){var l=e.value;d.departments.includes(l.name)&&a.push(l.uuid)}}catch(r){n.e(r)}finally{n.f()}return console.log(a),a.toString()}(),n="";d.role_SeniorAdmin&&(n="seniorAdmin"),d.role_User&&(n="user"),d.role_Admin&&(n="admin");var l={uuid:r.uuid,name:d.name,email:d.email,role:n,departments:e,orgID:a};s.a.post("/organisation/updateUser",l).then((function(e){"User updated successfully"==e.data.message&&j((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Update User",message:"User has been updated",open:!0})}))})).catch((function(e){console.log(e)}))}},"Update User"))))),l.a.createElement(A.a,null,l.a.createElement("div",null,l.a.createElement("h3",null,l.a.createElement("strong",null,"Advanced Actions")),l.a.createElement(L.a,{onClick:function(){p({open:!0})}},"S/A Request")," ",l.a.createElement("br",null),l.a.createElement(L.a,{onClick:function(){var e={uuid:r.uuid};s.a.post("/organisation/getUserLoginMethod",e).then((function(e){var t=e.data.method;if(""==t){var n=e.data.name+" has not logged into the website yet, you can choose which method you want them to log in with.";P({heading:"Change Login Method",message:n,option1Name:"Local",option2Name:"Google",option1Function:G,option2Function:Y,showOption1:!0,showOption2:!0,open:!0})}else{var l;"local"==t?l="google":"google"==t&&(l="local");var o=e.data.name+"'s login method is "+t+". Are you sure you want to change it to a "+l+" method?";S({heading:"Change Login Method",message:o,acceptName:"Yes",acceptFunction:function(){!function(e,a,t){S({open:!1});var n={orgID:t,uuid:e,method:a};s.a.post("/organisation/changeUserLoginMethod",n).then((function(e){"Strategy Updated"==e.data.message&&j({heading:"Change Login Method",message:"This user's login method has now been changed",open:!0})})).catch((function(e){console.log(e)}))}(r.uuid,l,a)},showAccept:!0,cancelName:"No",showCancel:!0,open:!0})}})).catch((function(e){console.log(e)}))}},"Change Login Method"),l.a.createElement("br",null),l.a.createElement(L.a,{onClick:function(){d.role_SeniorAdmin?j({heading:"Remove User",message:"You cannot delete a Senior Admin",open:!0}):S({heading:"Remove User",message:"Are you sure you want to remove this user and all their bookings?",acceptName:"Yes",acceptFunction:F,showAccept:!0,showCancel:!0,cancelName:"No",open:!0})}},"Remove")))))),l.a.createElement(z.a,{show:k.open,onHide:w},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,k.heading)),l.a.createElement(z.a.Body,null,k.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:w},"Close"))),l.a.createElement(z.a,{show:f.open,onHide:h},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,"Change of Senior Admin Request")),l.a.createElement(z.a.Body,null,l.a.createElement("p",null,"You are requesting ",d.name," to change roles to the Senior Admin of this organisation. You can only have ONE Senior Admin per organisation, so this means you will not have access to the administrator panel for this organisation. Your role will change to Admin"),l.a.createElement("p",null,"This user will also be to new \u2018point of contact\u2019 for High-View Studios."),l.a.createElement("p",null,"This user will be sent an email and they have to accept the request. In the meantime you will still have access."),l.a.createElement("p",null,"You and High-View Studios will be notified when this request has been accepted."),l.a.createElement("p",null,"Do you want to continue?")),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){var e={orgID:a,newUUID:r.uuid};s.a.post("/organisation/changeSeniorAdmin",e).then((function(e){"Request sent successfully"==e.data.message&&(p({open:!1}),j({heading:"Change of Senior Admin Request",message:"A request has been sent to "+d.name,open:!0}))})).catch((function(e){console.log(e)}))}},"Yes"),l.a.createElement(L.a,{variant:"primary",onClick:h},"No"))),l.a.createElement(z.a,{show:I.open,onHide:R},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,I.heading)),l.a.createElement(z.a.Body,null,I.message),l.a.createElement(z.a.Footer,null,I.showAccept?l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:I.acceptFunction},I.acceptName)):null,I.showCancel?l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:R},I.cancelName)):null)),l.a.createElement(z.a,{show:B.open,onHide:function(){P((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,B.heading)),l.a.createElement(z.a.Body,null,B.message),l.a.createElement(z.a.Footer,null,B.showOption1?l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:B.option1Function},B.option1Name)):null,B.showOption2?l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:B.option2Function},B.option2Name)):null)))};var fa=function(e){var a=e.match.params.id,t=Object(D.f)(),r=Object(n.useState)(""),o=Object(c.a)(r,2),i=o[0],m=o[1],d=Object(n.useState)(!1),E=Object(c.a)(d,2),b=E[0],g=E[1];return Object(u.b)(),Object(n.useEffect)((function(){document.title="STAFF"}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,"Forgot your password?"),b?l.a.createElement("div",null,l.a.createElement("h3",null,"Your new password has been requested, please check your email"),l.a.createElement(L.a,{variant:"warning",onClick:function(){return t.push("/org/"+a+"/signIn")}},"Back to Sign In"),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",null,l.a.createElement("h3",null,"Please enter your email below:"),l.a.createElement("br",null),l.a.createElement("form",null,l.a.createElement(J.a.Control,{id:"txtEmail",type:"email",required:!0}),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("p",null,i),l.a.createElement(L.a,{type:"submit",variant:"warning",onClick:function(e){e.preventDefault();var a=document.getElementById("txtEmail").value;if(""!=a){var t={email:a};s.a.post("/requestPassword/",t).then((function(e){"Yes"==e.data.userError?m(e.data.message):g(!0)})).catch((function(e){console.log(e)}))}}},"Request New Password"),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("br",null)))))};var pa=function(e){var a=Object(n.useState)(""),t=Object(c.a)(a,2),r=t[0],o=t[1],i=Object(n.useState)(!1),m=Object(c.a)(i,2),d=m[0],E=m[1],b=Object(u.b)(),g=Object(u.c)((function(e){return e.globalVars}));return Object(n.useEffect)((function(){document.title="STAFF"}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,"Please create a new password"),l.a.createElement("form",null,l.a.createElement("label",{id:"lblCurrentPassword"},"Current Password:"),l.a.createElement("br",null),l.a.createElement("input",{id:"txtCurrentPassword",type:"password",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"lblNewPassword"},"New Password:"),l.a.createElement("br",null),l.a.createElement("input",{id:"txtNewPassword",type:"password",required:!0}),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("label",{id:"lblConfirmPassword"},"Confirm Password:"),l.a.createElement("br",null),l.a.createElement("input",{id:"txtConfirmPassword",type:"password",required:!0}),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("p",null,r),d?l.a.createElement("div",{className:"password-help-text"},"Your password must contain at least 1 uppercase, 1 lowercase, 1 number & 1 special character. It also requires to be a minimum 8 characters in length"):null,l.a.createElement(L.a,{type:"submit",variant:"warning",onClick:function(e){e.preventDefault();var a=document.getElementById("txtCurrentPassword").value,t=document.getElementById("txtNewPassword").value,n=document.getElementById("txtConfirmPassword").value;if(""!=a&&""!=t&&""!=n){var l={oldPassword:a,newPassword:t,confirmPassword:n};s.a.post("/changePassword",l).then((function(e){"Yes"==e.data.userError?"Your password is not strong enough"==e.data.message?(o(e.data.message),E(!0)):(E(!1),o(e.data.message)):"Updated user password"==e.data.message&&(b(f(e.data.user.requestedPassword)),g.forceSignIn?(b(ta(!0)),b(aa(!1))):(b(ta(!0)),b(aa(!0))))})).catch((function(e){console.log(e)}))}}},"Set Password"),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("br",null))))};var ha=function(e){var a=Object(n.useState)(""),t=Object(c.a)(a,2),r=t[0],o=t[1],i=Object(n.useState)(!1),m=Object(c.a)(i,2),d=m[0],E=m[1],b=Object(u.b)(),f=Object(u.c)((function(e){return e.globalVars}));return Object(n.useEffect)((function(){document.title="STAFF"}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,"Hello, and welcome to My STAFF"),l.a.createElement("h3",null,"Please create a new password"),l.a.createElement("form",null,l.a.createElement("label",{id:"lblCurrentPassword"},"Current Password:"),l.a.createElement("br",null),l.a.createElement("input",{id:"txtCurrentPassword",type:"password",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"lblNewPassword"},"New Password:"),l.a.createElement("br",null),l.a.createElement("input",{id:"txtNewPassword",type:"password",required:!0}),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("label",{id:"lblConfirmPassword"},"Confirm Password:"),l.a.createElement("br",null),l.a.createElement("input",{id:"txtConfirmPassword",type:"password",required:!0}),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("p",null,r),d?l.a.createElement("div",{className:"password-help-text"},"Your password must contain at least 1 uppercase, 1 lowercase, 1 number & 1 special character. It also requires to be a minimum 8 characters in length"):null,l.a.createElement(L.a,{type:"submit",variant:"warning",onClick:function(e){e.preventDefault();var a=document.getElementById("txtCurrentPassword").value,t=document.getElementById("txtNewPassword").value,n=document.getElementById("txtConfirmPassword").value;if(""!=a&&""!=t&&""!=n){var l={oldPassword:a,newPassword:t,confirmPassword:n};s.a.post("/createPassword",l).then((function(e){"Yes"==e.data.userError?"Your password is not strong enough"==e.data.message?(o(e.data.message),E(!0)):(E(!1),o(e.data.message)):"Updated user first password"==e.data.message&&(b(g(e.data.user.new)),f.forceSignIn?(b(ta(!0)),b(aa(!1))):(b(ta(!0)),b(aa(!0))))})).catch((function(e){console.log(e)}))}}},"Set Password"),l.a.createElement("br",null),l.a.createElement("br",null)),l.a.createElement("br",null))))};var va=function(e){e.match.params.id;var a=Object(u.c)((function(e){return e.globalVars})),t=(Object(u.c)((function(e){return e.user})),Object(D.f)(),Object(u.b)());return Object(n.useEffect)((function(){document.title="STAFF - Not Connected"}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h3",null,"Sorry, this is not your organisation"),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement(L.a,{variant:"warning",onClick:function(){a.forceSignIn?(t(ta(!0)),t(aa(!1))):(t(ta(!0)),t(aa(!0)))}},"Back to my organisation"),l.a.createElement("br",null),l.a.createElement("br",null))))};var ya=function(){var e=Object(D.f)(),a=Object(u.c)((function(e){return e.HomePageGlobalSettings}));return Object(n.useEffect)((function(){document.title="STAFF"}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{fluid:!0,className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h3",null,"Organisation Not Found"),"  ",l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("div",{className:"home-contact-sent"},l.a.createElement("strong",null,"Don't know the organisation's number?"),l.a.createElement("br",null),"Locate the Senior admin of your organisation or find your registration email to locate the direct URL ",l.a.createElement("br",null)," ",l.a.createElement("br",null)),l.a.createElement(L.a,{variant:"primary",onClick:function(){e.push("/")}},"Home"),a.dataError?l.a.createElement("div",null,l.a.createElement("br",null),"(data error)"):null)))},Oa=t(226),Aa=(t(267),t(71)),ka=t(33),ja=t.n(ka),Da=t(34),wa=t.n(Da);var Ta=function(e){var a=e.orgID,t=Object(u.c)((function(e){return e.organisation})),r=Object(u.b)(),o=Object(n.useState)({open:!1,auth_local:!1,auth_google:!1,message:"",save:!1,showSave:!1}),i=Object(c.a)(o,2),m=i[0],d=i[1],E=new Oa.a.Tour({defaultStepOtions:{classes:"shepherd",scrollTo:!0},useModalOverlay:!0});function b(e){var a=e.target,t=a.name,n=a.checked;d((function(e){var a;return Object(V.a)(Object(V.a)({},e),{},(a={},Object(ia.a)(a,t,Boolean(n)),Object(ia.a)(a,"showSave",!0),a))})),console.log(t)}return E.addStep({id:"example-step",title:"Message",text:"This step is attached to the bottom of the <code>.example-css-selector</code> element.",attachTo:{element:".example-class-selector",on:"bottom"},classes:"",buttons:[{text:"NEXT",action:E.next}]}),l.a.createElement("div",null,l.a.createElement("table",{width:"100%",border:"1px"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("div",{className:"heading-text"}," ",l.a.createElement(Z.a,{className:"plus-image",src:m.open?wa.a:ja.a,onClick:function(){m.open?d((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})})):d((function(e){return Object(V.a)(Object(V.a)({},e),{},{auth_local:t.signInLocal,auth_google:t.signInGoogle,message:t.message,open:!0})}))}})," Login Settings"),l.a.createElement("br",null),l.a.createElement(Aa.a,{in:m.open},l.a.createElement("div",null,l.a.createElement("div",{className:"margin-text-hide"},l.a.createElement(L.a,{variant:"primary",onClick:function(){E.start()}},"Tour")),l.a.createElement("div",{className:"normal-text"},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(J.a,null,"Login Options:",l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Check,{id:"LoginSettings_ckbLocal",name:"auth_local",type:"checkbox",checked:m.auth_local,onChange:b,label:"Local Login"})),l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Check,{id:"LoginSettings_ckbGoogle",name:"auth_google",type:"checkbox",checked:m.auth_google,onChange:b,label:"Google Login"})),l.a.createElement(J.a.Label,{className:"example-class-selector",id:"LoginSettings_lblMessage"},"Login Message:"),l.a.createElement("br",null),l.a.createElement(J.a.Control,{id:"LoginSettings_txtMessage",name:"message",value:m.message,onChange:function(e){var a=e.target,t=a.name,n=a.value;d((function(e){var a;return Object(V.a)(Object(V.a)({},e),{},(a={},Object(ia.a)(a,t,n),Object(ia.a)(a,"showSave",!0),a))}))},type:"text",required:!0}))),l.a.createElement(A.a,null))),l.a.createElement("div",{className:m.showSave?"submit-button-show":"submit-button-hidden"},l.a.createElement(L.a,{variant:"primary",type:"submit",onClick:function(e){e.preventDefault();var t=document.getElementById("LoginSettings_ckbLocal").checked,n=document.getElementById("LoginSettings_ckbGoogle").checked,l=document.getElementById("LoginSettings_txtMessage").value,o={orgID:a,auth_local:t.toString(),auth_google:n.toString(),message:l};s.a.post("/organisation/updateLoginSettings",o).then((function(e){if("Login settings updated successfully"==e.data.message){r(je(t)),r(De(n)),r(we(l)),d((function(e){return Object(V.a)(Object(V.a)({},e),{},{save:!0})}));setTimeout((function(){d((function(e){return Object(V.a)(Object(V.a)({},e),{},{save:!1,showSave:!1,open:!1})}))}),2e3)}})).catch((function(e){console.log(e)}))}},"Save")," ",m.save?"Saved!":null))))))))};var Na=function(e){var a=e.orgID,t=Object(u.c)((function(e){return e.organisation})),r=Object(u.b)(),o=Object(n.useState)({uuid:0,activeRemove:!1}),i=Object(c.a)(o,2),m=i[0],d=i[1],E=Object(n.useState)({open:!1,saved:!1,showSave:!1,useDepartments:!1,aname:"",names:[]}),b=Object(c.a)(E,2),g=b[0],f=b[1],p=Object(n.useState)({open:!1,heading:"",message:""}),h=Object(c.a)(p,2),v=h[0],y=h[1];function k(){y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}return l.a.createElement("div",null,l.a.createElement("table",{width:"100%",border:"1px"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("div",{className:"heading-text"}," ",l.a.createElement(Z.a,{className:"plus-image",src:g.open?wa.a:ja.a,onClick:function(){g.open?f((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})})):f((function(e){return Object(V.a)(Object(V.a)({},e),{},{useDepartments:t.useDepartments,names:t.departments,open:!0})}))}})," Departments"),l.a.createElement("br",null),l.a.createElement(Aa.a,{in:g.open},l.a.createElement("div",null,l.a.createElement("div",{className:"margin-text-hide"},"-"),l.a.createElement("div",{className:"normal-text"},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(J.a,null,l.a.createElement(J.a.Check,{id:"chkUseDepartments",name:"useDepartments",label:"Use Departments",checked:g.useDepartments,onChange:function(e){var t=e.target,n=t.name,l=t.checked;console.log(l),f((function(e){var a;return Object(V.a)(Object(V.a)({},e),{},(a={},Object(ia.a)(a,n,l),Object(ia.a)(a,"showSave",!0),a))}));var o={useDepartments:l.toString(),orgID:a};s.a.post("/organisation/updateUseDepartments",o).then((function(e){console.log(e.data.useDepartments),r(Te(g.useDepartments))})).catch((function(e){console.log(e)}))}}),l.a.createElement("br",null),l.a.createElement("p",null,"Add new department:"),l.a.createElement(J.a.Control,{type:"text",value:g.aname,name:"aname",onChange:function(e){var a=e.target,t=a.name,n=a.value;f((function(e){return Object(V.a)(Object(V.a)({},e),{},Object(ia.a)({},t,n))}))}}),l.a.createElement("div",{className:"add-button"},l.a.createElement(L.a,{onClick:function(){if(""==g.aname)y((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Add Deparment",message:"Please enter a name",open:!0})}));else if(function(e){var a,n=!1,l=Object(Fe.a)(t.departments);try{for(l.s();!(a=l.n()).done;){if(a.value.name==e){n=!0;break}}}catch(r){l.e(r)}finally{l.f()}return n}(g.aname))y((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Add Deparment",message:"There is already a department with this name",open:!0})}));else{var e={orgID:a,departmentName:g.aname};s.a.post("/organisation/addDepartment",e).then((function(e){console.log(e.data),r(Ne(e.data.noOfDepartments)),r(Ie(e.data.departments)),f((function(a){return Object(V.a)(Object(V.a)({},a),{},{names:e.data.departments,aname:""})}))})).catch((function(e){console.log(e)}))}}},"Add")))),l.a.createElement(A.a,null,"Departments:",l.a.createElement("div",{className:"scrollable-300"},l.a.createElement(ba.a,null,g.names.map((function(e,a){return l.a.createElement(ba.a.Item,{href:"#"+a,key:a,action:!0,onClick:function(){var a;a=e.uuid,d((function(e){return Object(V.a)(Object(V.a)({},e),{},{uuid:a,activeRemove:!0})})),console.log(a)}},e.name)})))),l.a.createElement("div",{className:m.activeRemove?"remove-button-show":"remove-button-hidden"},l.a.createElement(L.a,{onClick:function(){if(m.activeRemove){var e={orgID:a,uuid:m.uuid};s.a.post("/organisatiton/removeDepartment",e).then((function(e){console.log(e.data),r(Ie(e.data.departments)),f((function(a){return Object(V.a)(Object(V.a)({},a),{},{names:e.data.departments})})),d((function(e){return Object(V.a)(Object(V.a)({},e),{},{activeRemove:!1})}))})).catch((function(e){console.log(e)}))}}},"Remove"))))))))))),l.a.createElement(z.a,{show:v.open,onHide:k},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,v.heading)),l.a.createElement(z.a.Body,null,v.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:k},"Close"))))};function Ia(e,a){e({type:"UPDATE_ADMINU_FROMDETAILS",value:a})}var Sa=function(e){var a=e.orgID,t=Object(u.c)((function(e){return e.organisation})),r=Object(u.c)((function(e){return e.AdminUserGlobalSettings})),o=Object(D.f)(),i=Object(u.b)();Object(n.useEffect)((function(){r.fromDetails&&(b((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!0})})),y(),Ia(i,!1))}),[]);var m=Object(n.useState)({open:!1,name:"",email:"",role_User:!1,role_Admin:!1,role_SeniorAdmin:!1,multiAdd:!1,departments:[],depToUser:"",userDepartments:[],users:[],edit:!1,editID:0,roles:!0}),d=Object(c.a)(m,2),E=d[0],b=d[1],g=Object(n.useState)({open:!1,heading:"",message:""}),f=Object(c.a)(g,2),p=f[0],h=f[1];function v(){h((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function y(){var e={orgID:a};s.a.post("/organisation/getUsers",e).then((function(e){console.log(e.data),b((function(a){return Object(V.a)(Object(V.a)({},a),{},{users:e.data.users})}))})).catch((function(e){console.log(e)}))}function k(){var e,a=[],n=Object(Fe.a)(t.departments);try{for(n.s();!(e=n.n()).done;){var l=e.value;E.userDepartments.includes(l.name)&&a.push(l.uuid)}}catch(r){n.e(r)}finally{n.f()}return console.log(a),a.toString()}function j(e){var a,n=e.split(","),l=[],r=Object(Fe.a)(n);try{for(r.s();!(a=r.n()).done;){var o,c=a.value,i=Object(Fe.a)(t.departments);try{for(i.s();!(o=i.n()).done;){var s=o.value;s.uuid==c&&l.push(s.name)}}catch(u){i.e(u)}finally{i.f()}}}catch(u){r.e(u)}finally{r.f()}return l}function w(e){var a=e.target.name;"role_User"==a&&b((function(e){return Object(V.a)(Object(V.a)({},e),{},{role_Admin:!1,role_User:!0})})),"role_Admin"==a&&b((function(e){return Object(V.a)(Object(V.a)({},e),{},{role_Admin:!0,role_User:!1})}))}function T(e){var a=e.target,t=a.name,n=a.value;b((function(e){return Object(V.a)(Object(V.a)({},e),{},Object(ia.a)({},t,n))}))}return l.a.createElement("div",null,l.a.createElement("table",{width:"100%",border:"1px"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("div",{className:"heading-text"}," ",l.a.createElement(Z.a,{className:"plus-image",src:E.open?wa.a:ja.a,onClick:function(){E.open?b((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})})):(b((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!0})})),y())}})," Users"),l.a.createElement("br",null),l.a.createElement(Aa.a,{in:E.open},l.a.createElement("div",null,l.a.createElement("div",{className:"margin-text-hide"},"-"),l.a.createElement("div",{className:"normal-text"},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"bordered"},l.a.createElement("strong",null,"User Details:"),l.a.createElement(J.a,null,l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Label,{id:"lblName"},"Name:"),l.a.createElement(J.a.Control,{id:"txtName",name:"name",type:"text",value:E.name,onChange:T}))),l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Label,{id:"lblEmail"},"Email:"),l.a.createElement(J.a.Control,{id:"txtEmail",name:"email",value:E.email,type:"text",onChange:T}))),l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement("div",{className:E.roles?null:"roles-hidden"},l.a.createElement(J.a.Label,{id:"lblRole"},"Role:"),l.a.createElement(J.a.Check,{id:"radRoleUser",type:"radio",name:"role_User",checked:E.role_User,onChange:w,label:"User"}),l.a.createElement(J.a.Check,{id:"radRoleAdmin",type:"radio",name:"role_Admin",checked:E.role_Admin,onChange:w,label:"Admin"})))),l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Label,{id:"lblDepartmentsTitle"},"Departments:")," ",l.a.createElement("br",null),0==E.userDepartments.length?l.a.createElement("div",{className:"departments-hidden"},l.a.createElement(J.a.Label,null,"---")):l.a.createElement("div",null,l.a.createElement(J.a.Label,{id:"lblDepartments"},E.userDepartments.toString())))),l.a.createElement(J.a.Row,null,l.a.createElement("div",{className:"submit-button-show"},E.edit?l.a.createElement("div",null,l.a.createElement(L.a,{className:"side-by-side",variant:"primary",onClick:function(){b((function(e){return Object(V.a)(Object(V.a)({},e),{},{edit:!1,name:"",email:"",roles:!0,role_Admin:!1,role_User:!1,userDepartments:""})}))}},"Add New User")):l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:function(){h((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Multiple Add",message:"The feature is not advailable yet",open:!0})}))}},"Add Multiple"),l.a.createElement(L.a,{variant:"primary",onClick:function(){if(""==E.name||""==E.email)h((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Required",message:"Please fill in the name and email field.",open:!0})}));else if(E.role_User||E.role_Admin){var e=k(),t="";E.role_User&&(t="user"),E.role_Admin&&(t="admin");var n={orgID:a,name:E.name,email:E.email,role:t,departments:e};s.a.post("/organisation/addUser",n).then((function(e){var a=e.data;"Yes"==a.userError?h((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Add User",message:a.message,open:!0})})):b((function(a){return Object(V.a)(Object(V.a)({},a),{},{users:e.data.users,name:"",email:"",role_User:!1,role_Admin:!1,userDepartments:[]})}))})).catch((function(e){console.log(e)}))}else h((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Role",message:"Please pick a role.",open:!0})}))}},"Add")))),l.a.createElement(J.a.Row,{className:E.edit?"user-edit":"user-edit edit-hidden"},l.a.createElement("div",null,l.a.createElement(L.a,{className:"side-by-side",variant:"primary",onClick:function(){var e=k(),t="";E.role_SeniorAdmin&&(t="seniorAdmin"),E.role_User&&(t="user"),E.role_Admin&&(t="admin");var n={uuid:E.editID,name:E.name,email:E.email,role:t,departments:e,orgID:a};s.a.post("/organisation/updateUser",n).then((function(e){var a=e.data;"User updated successfully"==a.message&&(h((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Update User",message:"User has been updated",open:!0})})),b((function(e){return Object(V.a)(Object(V.a)({},e),{},{users:a.users,edit:!1})})))})).catch((function(e){console.log(e)}))}},"Update"))))),l.a.createElement(A.a,{className:"bordered"},l.a.createElement("strong",null,"Departments:"),l.a.createElement("div",{className:"scrollable-250"},l.a.createElement(ba.a,null,t.departments.map((function(e,a){return l.a.createElement(ba.a.Item,{href:"#"+a,key:a,action:!0,onClick:function(){var a;a=e.name,b((function(e){return Object(V.a)(Object(V.a)({},e),{},{depToUser:a})}))}},e.name)})))),l.a.createElement("div",{className:"add-button"},l.a.createElement(L.a,{onClick:function(){if(E.userDepartments.includes(E.depToUser)){var e=E.userDepartments.filter((function(e){return e!=E.depToUser}));b((function(a){return Object(V.a)(Object(V.a)({},a),{},{userDepartments:e})}))}}},"Remove"),l.a.createElement(L.a,{onClick:function(){E.userDepartments.includes(E.depToUser)||b((function(e){return Object(V.a)(Object(V.a)({},e),{},{userDepartments:[].concat(Object(Ea.a)(E.userDepartments),[E.depToUser])})}))}},"Add"))))),l.a.createElement(A.a,null,"Users: ",l.a.createElement("br",null),"Single Click on a user to make quick changes on the left, or Double Click to see Advanced Actions",l.a.createElement("div",{className:"scrollable-250"},l.a.createElement(ba.a,null,E.users.map((function(e,t){var n="";return n="seniorAdmin"==e.role?e.displayName+" (Senior Admin)":"admin"==e.role?e.displayName+" (Admin)":e.displayName,l.a.createElement(ba.a.Item,{href:"#"+t,key:t,action:!0,onDoubleClick:function(){var t;t=e.uuid,function(e,a){e({type:"UPDATE_ADMINU_UUID",value:a})}(i,t),Ia(i,!0),o.push("/org/"+a+"/userDetails")},onClick:function(){!function(e,a,t,n,l){b((function(n){return Object(V.a)(Object(V.a)({},n),{},{name:a,email:t,userDepartments:j(l),edit:!0,editID:e})})),"seniorAdmin"==n?b((function(e){return Object(V.a)(Object(V.a)({},e),{},{role_SeniorAdmin:!0,role_Admin:!1,role_User:!1,roles:!1})})):"user"==n?b((function(e){return Object(V.a)(Object(V.a)({},e),{},{role_User:!0,role_SeniorAdmin:!1,role_Admin:!1,roles:!0})})):"admin"==n&&b((function(e){return Object(V.a)(Object(V.a)({},e),{},{role_Admin:!0,role_SeniorAdmin:!1,role_User:!1,roles:!0})}))}(e.uuid,e.displayName,e.email,e.role,e.departments)}},n)}))))))))))))),l.a.createElement(z.a,{show:p.open,onHide:v},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,p.heading)),l.a.createElement(z.a.Body,null,p.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:v},"Close"))))};var Ca=function(e){var a=e.orgID,t=Object(u.c)((function(e){return e.organisation})),r=Object(u.b)(),o=Object(n.useState)({open:!1,layout:"Layout",layoutUUID:0,name:"",rooms:[],newAdd:!1,layouts:!1,editRoom:!1,roomUUID:0,yourLayouts:[],weekSystem:!1,editAdd:!1}),i=Object(c.a)(o,2),m=i[0],d=i[1],E=Object(n.useState)({open:!1,heading:"",message:""}),b=Object(c.a)(E,2),g=b[0],f=b[1],p=Object(n.useState)({open:!1,heading:"",message:""}),h=Object(c.a)(p,2),v=h[0],y=h[1];function k(){f((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function j(e,a){console.log(a),d(e===a?function(e){return Object(V.a)(Object(V.a)({},e),{},{newAdd:!1,layouts:!1,editAdd:!1})}:function(e){return Object(V.a)(Object(V.a)({},e),{},{newAdd:!0,layouts:!0,editAdd:!0})})}function D(e){var a,t=Object(Fe.a)(m.yourLayouts);try{for(t.s();!(a=t.n()).done;){var n=a.value;if(n.uuid==e)return n.name}}catch(l){t.e(l)}finally{t.f()}}return l.a.createElement("div",null,l.a.createElement("table",{width:"100%",border:"1px"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("div",{className:"heading-text"}," ",l.a.createElement(Z.a,{className:"plus-image",src:m.open?wa.a:ja.a,onClick:function(){if(m.open)d((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}));else{var e={orgID:a};s.a.post("/organisation/getLayouts",e).then((function(e){d((function(a){return Object(V.a)(Object(V.a)({},a),{},{open:!0,yourLayouts:e.data.layouts})}))})).catch((function(e){console.log(e)}))}var n={orgID:a};s.a.post("/organisation/getRooms",n).then((function(e){var a=e.data;console.log(a),d((function(e){return Object(V.a)(Object(V.a)({},e),{},{rooms:a.rooms})}))})).catch((function(e){console.log(e)})),j(t.allocatedRooms,t.redeemedRooms)}})," Rooms"),l.a.createElement("br",null),l.a.createElement(Aa.a,{in:m.open},l.a.createElement("div",null,l.a.createElement("div",{className:"margin-text-hide"},"-"),l.a.createElement("div",{className:"normal-text"},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(O.a,null,l.a.createElement("div",{className:m.newAdd&&m.yourLayouts.length>0?"rooms-add":"rooms-add rooms-hide"},l.a.createElement(J.a,null,l.a.createElement(J.a.Group,null,l.a.createElement(J.a.Label,{id:"lblName"},"Name:"),l.a.createElement(J.a.Control,{id:"txtName",value:m.name,onChange:function(e){var a=e.target.value;d((function(e){return Object(V.a)(Object(V.a)({},e),{},{name:a})}))}})))),l.a.createElement("div",{className:m.layouts&&m.yourLayouts.length>0?"":"rooms-hide"},l.a.createElement(J.a,null,l.a.createElement(J.a.Group,null,l.a.createElement(J.a.Label,{className:"side-by-side",id:"lblName"},"Layout:"),l.a.createElement(_.a,{className:"side-by-side"},l.a.createElement(_.a.Toggle,{variant:"primary",id:"dropdown-layouts"},m.layout),l.a.createElement(_.a.Menu,{className:"dropdown-items"},m.yourLayouts.map((function(e,a){return l.a.createElement(_.a.Item,{key:a,onClick:function(){!function(e,a){d((function(t){return Object(V.a)(Object(V.a)({},t),{},{layout:a,layoutUUID:e})}))}(e.uuid,e.name)}},e.name)})))),m.newAdd?l.a.createElement("div",{className:"centred"},l.a.createElement(J.a.Check,{type:"checkbox",checked:m.weekSystem,onChange:function(e){var t=e.target.checked;if(t){var n={orgID:a};s.a.post("/organisation/getMainOrgWeekSystem",n).then((function(e){console.log(e.data),"false"==e.data.weekSystem?(f({heading:"Week System",message:"You cannot turn on a room week system until you turn on the main week system in the 'Week System / Holidays' tab",open:!0}),d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSystem:!1})}))):d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSystem:t})}))})).catch((function(e){console.log(e)}))}else d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSystem:t})}))},label:"Use week system"})):null,m.editRoom&&m.yourLayouts.length>0?l.a.createElement("div",{className:"centred"},"Week System: ",m.weekSystem?" Enabled":" Disabled"):null)))),l.a.createElement(O.a,{className:"add-button"},m.newAdd&&m.yourLayouts.length>0?l.a.createElement(L.a,{variant:"primary",onClick:function(){if(""===m.name)f((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Add Room",message:"The room requires a Name",open:!0})}));else if(function(e){var a,t=!1,n=Object(Fe.a)(m.rooms);try{for(n.s();!(a=n.n()).done;){if(a.value.name==e){t=!0;break}}}catch(l){n.e(l)}finally{n.f()}return t}(m.name))f((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Add Room",message:"A room with the same name already exists",open:!0})}));else if("Layout"===m.layout)f((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Add Room",message:"The room requires a Layout",open:!0})}));else{var e={orgID:a,name:m.name,layout:m.layoutUUID,weekSystem:m.weekSystem};s.a.post("/organisation/addRoom",e).then((function(e){var a=e.data;"Successfully added room"===a.message&&(r(Se(a.redeemedRooms)),r(Ce(a.rooms)),d((function(e){return Object(V.a)(Object(V.a)({},e),{},{rooms:a.rooms,name:"",layout:"layout",weekSystem:!1})})),j(t.allocatedRooms,a.redeemedRooms))})).catch((function(e){console.log(e)}))}}},"Add"):null,m.editRoom&&m.yourLayouts.length>0?l.a.createElement("div",null,m.editAdd?l.a.createElement(L.a,{variant:"primary",onClick:function(){d((function(e){return Object(V.a)(Object(V.a)({},e),{},{editRoom:!1,layouts:!1})})),j(t.allocatedRooms,t.redeemedRooms)}},"Add New Room"):null,l.a.createElement(L.a,{variant:"primary",onClick:function(){var e={orgID:a,uuid:m.roomUUID,layout:m.layoutUUID};s.a.post("/organisation/updateRoom",e).then((function(e){"Updated Room"==e.data.message&&(d((function(a){return Object(V.a)(Object(V.a)({},a),{},{rooms:e.data.rooms,roomUUID:0,editRoom:!1,layouts:!1})})),j(t.allocatedRooms,t.redeemedRooms))})).catch((function(e){console.log(e)}))}},"Update")):null),l.a.createElement(O.a,null,l.a.createElement("div",{className:0==m.yourLayouts.length?"rooms-layoutText":"rooms-layoutText rooms-hide"},l.a.createElement("strong",null,"There are no layouts in your system yet, use the layouts tab to add one. Then your will be able to assign a room to a layout.")))),l.a.createElement(A.a,null,"Allocated Rooms: ",t.allocatedRooms," ",l.a.createElement("br",null),"Redeemed Rooms: ",t.redeemedRooms),l.a.createElement(A.a,null,"Room List:",l.a.createElement("div",{className:"scrollable-300"},l.a.createElement(ba.a,null,m.rooms.map((function(e,a){return l.a.createElement(ba.a.Item,{href:"#"+a,variant:m.roomUUID==e.uuid?"primary":null,key:a,action:!0,onClick:function(){var a,t,n,l;a=e.uuid,t=D(e.layout),n=e.layout,l=e.weekSystem,d((function(e){return Object(V.a)(Object(V.a)({},e),{},{roomUUID:a,editRoom:!0,layouts:!0,newAdd:!1,layout:t,layoutUUID:n,weekSystem:"true"==l})}))}},e.name," (",D(e.layout),")")})))),l.a.createElement("div",{className:m.editRoom?"remove-button-show":"remove-button-hidden"},l.a.createElement(L.a,{onClick:function(){f((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Remove Room",message:"This feature hasn't been completed yet",open:!0})}))}},"Remove"))))))))))),l.a.createElement(z.a,{show:g.open,onHide:k},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,g.heading)),l.a.createElement(z.a.Body,null,g.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:k},"Close"))),l.a.createElement(z.a,{show:v.open,onHide:function(){y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,"Week System")),l.a.createElement(z.a.Body,null,g.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSystem:!1})})),y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}},"No"),l.a.createElement(L.a,{variant:"primary",onClick:function(){d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSystem:!0})})),y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}},"Yes"))))},Ua=function(e){return{type:"UPDATE_SESSIONS",value:e}},Ba=function(e){return{type:"UPDATE_ORDER",value:e}},Pa=function(e){return{type:"UPDATE_BREAKBTNS",value:e}};function Ra(e){e(Ua({})),e(Ba([]))}function _a(e,a,t){e(Pa(t?{view:t,breakID:a}:{view:t,breakID:""}))}var La=function(e){var a=Object(u.c)((function(e){return e.AdminLayoutsGlobalSettings})),t=Object(u.b)();function n(){_a(t,0,!1)}return l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,{sm:1},l.a.createElement("div",{className:"slot-id"},e.id)),l.a.createElement(A.a,null,l.a.createElement(J.a.Control,{id:"txtCustomText",type:"text",value:e.customText,onFocus:n,onChange:function(n){var l=n.target.value;!function(e,a,t,n){var l=e.sessions,r={customText:n,hoverText:l[t].hoverText,id:l[t].id};l[t]=r,a(Ua(l))}(a,t,e.id,l)}})),l.a.createElement(A.a,null,l.a.createElement(J.a.Control,{id:"txtHoverText",type:"text",value:e.hoverText,onFocus:n,onChange:function(n){var l=n.target.value;!function(e,a,t,n){var l=e.sessions,r={customText:l[t].customText,hoverText:n,id:l[t].id};l[t]=r,a(Ua(l))}(a,t,e.id,l)}}))))},xa=t(222);var Ma=function(e){var a=Object(u.c)((function(e){return e.AdminLayoutsGlobalSettings})),t=Object(u.b)(),r=Object(n.useState)({open:!1,color:"ff0000",property:""}),o=Object(c.a)(r,2),i=o[0],s=o[1];return l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,{sm:1},l.a.createElement("div",{className:"break-id"},e.id)),l.a.createElement(A.a,{className:"break-padding"},l.a.createElement(J.a.Control,{style:{backgroundColor:e.bgColor,color:e.textColor},id:"txtbreakText",value:e.breakText,onFocus:function(){_a(t,e.id,!0)},onChange:function(e){var n=e.target.value;!function(e,a,t){var n=e.sessions,l={id:n[e.breakBtns.breakID].id,breakText:t,textColor:n[e.breakBtns.breakID].textColor,bgColor:n[e.breakBtns.breakID].bgColor};n[e.breakBtns.breakID]=l,a(Ua(n))}(a,t,n)}})),l.a.createElement(A.a,null,l.a.createElement(_.a,{className:"side-by-side"},l.a.createElement(_.a.Toggle,{variant:"primary",id:"dropdown-layouts"},"Colour"),l.a.createElement(_.a.Menu,null,l.a.createElement(_.a.Item,{onClick:function(){_a(t,e.id,!0),s((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!0,property:"textColor"})}))}},"Text Colour"),l.a.createElement(_.a.Item,{onClick:function(){_a(t,e.id,!0),s((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!0,property:"bgColor"})}))}},"BackgroundColour"))))),l.a.createElement(z.a,{show:i.open,dialogClassName:"color-modal-90w",onHide:function(){s((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,"Pick Colour")),l.a.createElement(z.a.Body,null,l.a.createElement(xa.CompactPicker,{color:i.color,onChangeComplete:function(e){!function(e){s((function(a){return Object(V.a)(Object(V.a)({},a),{},{color:e})}))}(e.hex)}})),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){!function(e,a,t,n){var l=e.sessions,r={};"textColor"===t&&(r={id:e.sessions[e.breakBtns.breakID].id,breakText:e.sessions[e.breakBtns.breakID].breakText,textColor:n,bgColor:e.sessions[e.breakBtns.breakID].bgColor}),"bgColor"===t&&(r={id:e.sessions[e.breakBtns.breakID].id,breakText:e.sessions[e.breakBtns.breakID].breakText,textColor:e.sessions[e.breakBtns.breakID].textColor,bgColor:n}),l[e.breakBtns.breakID]=r,a(Ua(l))}(a,t,i.property,i.color),s((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}},"OK"))))};var Ya=function(e){var a=e.orgID,t=Object(u.b)(),r=Object(u.c)((function(e){return e.AdminLayoutsGlobalSettings})),o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],i=["00:00","00:30","01:00","01:30","02:00","02:30","03:00","03:30","04:00","04:30","05:00","05:30","06:00","06:30","07:00","07:30","08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30","20:00","20:30","21:00","21:30","22:00","22:30","23:00","23:30"],m=Object(n.useState)({open:!1,layoutText:"layout",yourLayoutText:"Layouts",yourLayouts:[],currentLayout:{},sessions:1,breaks:0,days:[!1,!1,!1,!1,!1,!1,!1],showPreview:!1,startTime:"Start Time",finishTime:"Finish Time",timeIntervalLbl:"Interval",timeInterval:0,times:[],showTimetableSave:!1,showDiarySave:!1}),d=Object(c.a)(m,2),E=d[0],b=d[1],g=Object(n.useState)({open:!1,heading:"",message:""}),f=Object(c.a)(g,2),p=f[0],h=f[1],v=Object(n.useState)({open:!1,heading:"",newName:""}),y=Object(c.a)(v,2),k=y[0],j=y[1];function D(){h((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function w(e){var a=e.target.innerText,t=[!1,!1,!1,!1,!1,!1,!1];E.currentLayout.layout==a?T(E.currentLayout):"Timetable"==a&&b((function(e){return Object(V.a)(Object(V.a)({},e),{},{sessions:1})}));for(var n=!1,l=0,r=t;l<r.length;l++){1==r[l]&&(n=!0)}b((function(e){return Object(V.a)(Object(V.a)({},e),{},{layoutText:a,days:t,showDiarySave:!1,showTimetableSave:!1,showPreview:n})}))}function T(e){if("Timetable"==e.layout){if(""!=e.days){var n=e.days.split(",");n.forEach((function(e,a){n[a]="true"==e}));var l={orgID:a,layoutUUID:e.uuid};s.a.post("/organisation/getTimetableSessions",l).then((function(e){var a,n=e.data.sessions,l={},r=Object(Fe.a)(n);try{for(r.s();!(a=r.n()).done;){var o=a.value;l[o.id]=o}}catch(c){r.e(c)}finally{r.f()}!function(e,a){e(Ua(a))}(t,l)})).catch((function(e){console.log(e)}));var r=e.sessionOrder.split(",");!function(e,a){e(Ba(a))}(t,r),b((function(a){return Object(V.a)(Object(V.a)({},a),{},{open:!0,sessions:e.sessions,breaks:e.breakTotal,days:n,showTimetableSave:!0,showPreview:!0})}))}}else if("Diary"==e.layout){var o=e.days.split(",");o.forEach((function(e,a){o[a]="true"==e})),""!=e.days&&(b((function(a){return Object(V.a)(Object(V.a)({},a),{},{startTime:e.startTime,finishTime:e.finishTime,timeInterval:e.timeInterval,days:o,showDiarySave:!0,showPreview:!0})})),function(e){var a="";30==e&&(a="30 Minutes");60==e&&(a="1 hour");90==e&&(a="1 hour, 30 minutes");120==e&&(a="2 hours");b((function(e){return Object(V.a)(Object(V.a)({},e),{},{timeIntervalLbl:a})}))}(e.timeInterval),C(e.startTime,e.finishTime,e.timeInterval))}}function N(e){var a=e.target.innerText;b((function(e){return Object(V.a)(Object(V.a)({},e),{},{startTime:a})})),C(a,E.finishTime,E.timeInterval)}function I(e){var a=e.target.innerText;b((function(e){return Object(V.a)(Object(V.a)({},e),{},{finishTime:a})})),C(E.startTime,a,E.timeInterval)}function S(e){var a=e.target,t=a.innerText,n=a.name;b((function(e){return Object(V.a)(Object(V.a)({},e),{},{timeIntervalLbl:t,timeInterval:parseInt(n)})})),C(E.startTime,E.finishTime,parseInt(n))}function C(e,a,t){var n=[];if("Start Time"!==e&&"Finish Time"!==a&&0!==t){for(var l=la()(e,"HH:mm"),r=la()(a,"HH:mm");l.isBefore(r);)n.push(l.format("HH:mm")),l.add(t,"m");b((function(e){return Object(V.a)(Object(V.a)({},e),{},{times:n})}));var o=!1;for(var c in E.days)1==E.days[c]&&(o=!0);b((function(e){return Object(V.a)(Object(V.a)({},e),{},{showDiarySave:o})}))}}function U(e){var a=e.target,t=a.name,n=a.checked,l=E.days;l[t]=n;var r=!1;for(var o in l)1==l[o]&&(r=!0);b((function(e){return Object(V.a)(Object(V.a)({},e),{},{days:l,showPreview:r,showTimetableSave:r})})),"Diary"==E.layoutText&&"Start Time"!==E.startTime&&"Finish Time"!==E.finishTime&&0!==E.timeInterval&&b((function(e){return Object(V.a)(Object(V.a)({},e),{},{days:l,showPreview:r,showDiarySave:r})}))}return l.a.createElement("div",null,l.a.createElement("table",{width:"100%",border:"1px"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("div",{className:"heading-text"}," ",l.a.createElement(Z.a,{className:"plus-image",src:E.open?wa.a:ja.a,onClick:function(){if(E.open)b((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})})),Ra(t);else{var e={orgID:a};s.a.post("/organisation/getLayouts",e).then((function(e){b((function(a){return Object(V.a)(Object(V.a)({},a),{},{open:!0,yourLayouts:e.data.layouts})}))})).catch((function(e){console.log(e)}))}}})," Layouts"),l.a.createElement("br",null),l.a.createElement(Aa.a,{in:E.open},l.a.createElement("div",null,l.a.createElement("div",{className:"margin-text-hide"},"-"),l.a.createElement("div",{className:"normal-text"},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(O.a,null,l.a.createElement("div",{className:"centred"},"Your Layouts:"),l.a.createElement(_.a,{className:"side-by-side"},l.a.createElement(_.a.Toggle,{variant:"primary"},E.yourLayoutText),l.a.createElement(_.a.Menu,null,E.yourLayouts.map((function(e,a){return l.a.createElement(_.a.Item,{key:a,onClick:function(){!function(e){var a;Ra(t),b((function(e){return Object(V.a)(Object(V.a)({},e),{},{sessions:0,breaks:0})}));var n,l=Object(Fe.a)(E.yourLayouts.entries());try{for(l.s();!(n=l.n()).done;){var r=Object(c.a)(n.value,2),o=(r[0],r[1]);if(o.uuid==e){a=o;break}}}catch(s){l.e(s)}finally{l.f()}var i="layout";""!=a.layout&&(i=a.layout),b((function(e){return Object(V.a)(Object(V.a)({},e),{},{yourLayoutText:a.name,layoutText:i,currentLayout:a})})),T(a)}(e.uuid)}},e.name)})))),l.a.createElement(L.a,{variant:"primary",onClick:function(){j((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!0})}))}},"Add")),l.a.createElement(O.a,null,"Layouts"!=E.yourLayoutText?l.a.createElement("div",null,l.a.createElement("div",{className:"centred"},"Layouts:"),l.a.createElement(_.a,{className:"side-by-side"},l.a.createElement(_.a.Toggle,{variant:"primary",id:"dropdown-layouts"},E.layoutText),l.a.createElement(_.a.Menu,null,l.a.createElement(_.a.Item,{onClick:w},"Timetable"),l.a.createElement(_.a.Item,{onClick:w},"Diary")))):null),l.a.createElement(O.a,null,l.a.createElement("div",{className:"layout-settings"},"Timetable"==E.layoutText||"Diary"==E.layoutText?l.a.createElement("div",null,l.a.createElement(J.a,null,l.a.createElement(J.a.Group,null,l.a.createElement(J.a.Check,{className:"check-side-by-side",name:"0",onChange:U,type:"checkbox",checked:E.days[0],label:"Sun"}),l.a.createElement(J.a.Check,{className:"check-side-by-side",name:"1",onChange:U,type:"checkbox",checked:E.days[1],label:"Mon"}),l.a.createElement(J.a.Check,{className:"check-side-by-side",name:"2",onChange:U,type:"checkbox",checked:E.days[2],label:"Tue"}),l.a.createElement(J.a.Check,{className:"check-side-by-side",name:"3",onChange:U,type:"checkbox",checked:E.days[3],label:"Wed"}),l.a.createElement(J.a.Check,{className:"check-side-by-side",name:"4",onChange:U,type:"checkbox",checked:E.days[4],label:"Thu"}),l.a.createElement(J.a.Check,{className:"check-side-by-side",name:"5",onChange:U,type:"checkbox",checked:E.days[5],label:"Fri"}),l.a.createElement(J.a.Check,{className:"check-side-by-side",name:"6",onChange:U,type:"checkbox",checked:E.days[6],label:"Sat"})))):null)),l.a.createElement(O.a,null,l.a.createElement("div",{className:"layout-settings"},"Timetable"==E.layoutText?l.a.createElement("div",null,l.a.createElement("div",{className:"centred"},"Sessions: ",E.sessions),l.a.createElement("div",{className:"side-by-side-R"},l.a.createElement(L.a,{variant:"primary",onClick:function(){b((function(e){return Object(V.a)(Object(V.a)({},e),{},{sessions:E.sessions+1})})),function(e,a,t){e.sessions[t]={id:t,customText:"",hoverText:""},e.order.push(t.toString()),a(Ua(e.sessions)),a(Ba(e.order))}(r,t,E.sessions+1)}},"+"),l.a.createElement(L.a,{variant:"primary",onClick:function(){E.sessions>1&&(b((function(e){return Object(V.a)(Object(V.a)({},e),{},{sessions:E.sessions-1})})),function(e,a,t){for(var n=e.sessions,l={},r=e.order,o=[],c=0;c<r.length;c++){var i=r[c];if(i!=t){var s={};s=i.toString().includes("b")?{id:n[i].id,breakText:n[i].breakText,textColor:n[i].textColor,bgColor:n[i].bgColor}:{id:n[i].id,customText:n[i].customText,hoverText:n[i].hoverText},l[i]=s,o.push(i)}}a(Ua(l)),a(Ba(o))}(r,t,E.sessions))}},"-"))):null)),"Timetable"==E.layoutText?l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement("div",{className:"layout-settings"},l.a.createElement(L.a,{variant:"primary",onClick:function(){b((function(e){return Object(V.a)(Object(V.a)({},e),{},{breaks:E.breaks+1})})),function(e,a,t){var n="b"+t;e.sessions[n]={id:n,customText:"",hoverText:""},e.order.push(n.toString()),a(Ua(e.sessions)),a(Ba(e.order))}(r,t,E.breaks+1)}},"Add Break"),r.breakBtns.view?l.a.createElement(L.a,{variant:"primary",onClick:function(){b((function(e){return Object(V.a)(Object(V.a)({},e),{},{breaks:E.breaks-1})})),function(e,a){for(var t=1,n=e.sessions,l={},r=[],o=0;o<e.order.length;o++){var c=e.order[o];if(c!=e.breakBtns.breakID){var i={};if(c.toString().includes("b")){var s="b"+t;i={id:s,breakText:n[c].breakText,textColor:n[c].textColor,bgColor:n[c].bgColor},l[s]=i,r.push(s),t++}else i={id:n[c].id,customText:n[c].customText,hoverText:n[c].hoverText},l[c]=i,r.push(c)}}a(Ua(l)),a(Ba(r)),a(Pa({view:!1,breakID:""}))}(r,t)}},"Remove"):null)),l.a.createElement(O.a,null,l.a.createElement("div",{className:r.breakBtns.view?"layout-settings-move-btn-show":"layout-settings-move-btn-hide"},l.a.createElement(L.a,{variant:"primary",onClick:function(){!function(e,a){var t=e.order.indexOf(e.breakBtns.breakID),n=e.order;if(t-1>=0){var l=n[t];n.splice(t,1);var r=t-1;n.splice(r,0,l),a(Ba(n))}}(r,t)}},"Move Up"),l.a.createElement(L.a,{variant:"primary",onClick:function(){!function(e,a){var t=e.order.indexOf(e.breakBtns.breakID),n=e.order;if(t+1<n.length){var l=n[t];n.splice(t,1);var r=t+1;n.splice(r,0,l),a(Ba(n))}}(r,t)}},"Move Down")))):null,"Diary"==E.layoutText?l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("div",{className:"centred"},"Start Time:")),l.a.createElement(A.a,null,l.a.createElement(_.a,{className:"side-by-side"},l.a.createElement(_.a.Toggle,{variant:"primary",id:"dropdown-layouts"},E.startTime),l.a.createElement(_.a.Menu,{className:"dropdown-items"},i.map((function(e,a){return l.a.createElement(_.a.Item,{key:a,onClick:N},e)})))))),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("div",{className:"centred"},"Finish Time:")),l.a.createElement(A.a,null,l.a.createElement(_.a,{className:"side-by-side"},l.a.createElement(_.a.Toggle,{variant:"primary",id:"dropdown-layouts"},E.finishTime),l.a.createElement(_.a.Menu,{className:"dropdown-items"},i.map((function(e,a){return l.a.createElement(_.a.Item,{key:a,onClick:I},e)})))))),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("div",{className:"centred"},"Interval:")),l.a.createElement(A.a,null,l.a.createElement(_.a,{className:"side-by-side"},l.a.createElement(_.a.Toggle,{variant:"primary",id:"dropdown-layouts"},E.timeIntervalLbl),l.a.createElement(_.a.Menu,{className:"dropdown-items"},l.a.createElement(_.a.Item,{name:"30",onClick:S},"30 minutes"),l.a.createElement(_.a.Item,{name:"60",onClick:S},"1 hour"),l.a.createElement(_.a.Item,{name:"90",onClick:S},"1 hour, 30 minutes"),l.a.createElement(_.a.Item,{name:"120",onClick:S},"2 hours"))))),l.a.createElement(O.a,null,l.a.createElement(A.a,null),l.a.createElement(A.a,null,E.showDiarySave?l.a.createElement(L.a,{variant:"primary",onClick:function(){var e={orgID:a,uuid:E.currentLayout.uuid,layout:E.layoutText,days:E.days.toString(),startTime:E.startTime,finishTime:E.finishTime,timeInterval:E.timeInterval};s.a.post("/organisation/saveLayout",e).then((function(e){"Success"==e.data.message&&(b((function(a){return Object(V.a)(Object(V.a)({},a),{},{yourLayouts:e.data.layouts})})),h((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Layout: "+E.yourLayoutText,message:"Layout has been saved!",open:!0})})))})).catch((function(e){console.log(e)}))}},"Save"):null))):null),l.a.createElement(A.a,null,"Timetable"==E.layoutText?l.a.createElement("div",null,"Sessions:",l.a.createElement(O.a,null,l.a.createElement(A.a,{sm:1}),l.a.createElement(A.a,{className:"slot-headings"},"Custom Text"),l.a.createElement(A.a,{className:"slot-headings"},"Hover Text")),l.a.createElement("div",{className:"scrollable-250"},Object.keys(r.sessions).length>0?l.a.createElement("div",null,r.order.map((function(e){return e.toString().includes("b")?l.a.createElement(Ma,{key:e,id:r.sessions[e].id,breakText:r.sessions[e].breakText,bgColor:r.sessions[e].bgColor,textColor:r.sessions[e].textColor}):l.a.createElement(La,{key:e,id:r.sessions[e].id,customText:r.sessions[e].customText,hoverText:r.sessions[e].hoverText})}))):null),l.a.createElement("div",{className:"add-button"},E.showTimetableSave?l.a.createElement(L.a,{variant:"primary",onClick:function(){var e={orgID:a,uuid:E.currentLayout.uuid,layout:E.layoutText,sessionTotal:E.sessions,breakTotal:E.breaks,sessionOrder:r.order,days:E.days.toString(),sessions:r.sessions};s.a.post("/organisation/saveLayout",e).then((function(e){"Success"==e.data.message&&(b((function(a){return Object(V.a)(Object(V.a)({},a),{},{yourLayouts:e.data.layouts})})),h((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Layout: "+E.yourLayoutText,message:"Layout has been saved!",open:!0})})))})).catch((function(e){console.log(e)}))}},"Save"):null)):null))),l.a.createElement(A.a,null,"Timetable"==E.layoutText||"Diary"==E.layoutText?l.a.createElement("div",null,"Preview:"):null,l.a.createElement("div",{className:"scrollable-300"},E.showPreview?l.a.createElement("table",{width:"100%",border:"1px"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("td",null,"Session"),E.days.map((function(e,a){if(e)return l.a.createElement("td",{key:a,"data-tip":"day"},o[a])})))),"Timetable"==E.layoutText&&Object.keys(r.sessions).length>0?l.a.createElement("tbody",null,r.order.map((function(e,a){return e.toString().includes("b")?l.a.createElement("tr",{key:a,style:{backgroundColor:r.sessions[e].bgColor}},l.a.createElement("td",{style:{color:r.sessions[e].textColor}},""!=r.sessions[e].breakText?r.sessions[e].breakText:r.sessions[e].id),E.days.map((function(e,a){if(e)return l.a.createElement("td",{key:a})}))):l.a.createElement("tr",{key:a},l.a.createElement("td",{"data-tip":""!=r.sessions[e].hoverText?r.sessions[e].hoverText:null},""!=r.sessions[e].customText?r.sessions[e].customText:r.sessions[e].id),E.days.map((function(e,a){if(e)return l.a.createElement("td",{key:a})})))})),void Qe.a.rebuild()):null,"Diary"==E.layoutText?l.a.createElement("tbody",null,E.times.map((function(e,a){return l.a.createElement("tr",{key:a},l.a.createElement("td",null,e),E.days.map((function(e,a){if(e)return l.a.createElement("td",{key:a})})))}))):null):null)))))))))),l.a.createElement(Qe.a,null),l.a.createElement(z.a,{show:p.open,onHide:D},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,p.heading)),l.a.createElement(z.a.Body,null,p.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:D},"Close"))),l.a.createElement(z.a,{show:k.open,onHide:function(){j((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,"Add Layout")),l.a.createElement(z.a.Body,null,l.a.createElement(J.a.Control,{value:k.newName,onChange:function(e){var a=e.target.value;j((function(e){return Object(V.a)(Object(V.a)({},e),{},{newName:a})}))}})),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){var e={orgID:a,name:k.newName};s.a.post("/organisation/addLayout",e).then((function(e){"Successfully Added"==e.data.message&&(b((function(a){return Object(V.a)(Object(V.a)({},a),{},{yourLayouts:e.data.layouts})})),j((function(e){return Object(V.a)(Object(V.a)({},e),{},{newName:"",open:!1})})))})).catch((function(e){console.log(e)}))}},"Add"))))},Ga=t(221),Fa=t(91),Qa=t.n(Fa);var Ha=function(e){var a=e.orgID,t=Object(u.b)(),r=Object(D.f)(),o=Object(n.useState)({open:!1,startDate:la()(),endDate:la()(),startDateValue:"",endDateValue:"",weeks:[],holidayTitles:[],addNew:!1,newHoliday:"",editWeek:!1,editWeekIndex:0,editTitle:!1,titleUUID:"",showWeeks:!1,downloadedHolidays:[],weekSystem:!1,weeksNum:[],orgLocked:!1,collides:!1}),i=Object(c.a)(o,2),m=i[0],d=i[1],E=Object(n.useState)({open:!1,heading:"",message:""}),b=Object(c.a)(E,2),g=b[0],f=b[1],p=Object(n.useState)({open:!1,heading:"",message:"",acceptFunction:"",acceptName:"",showAccept:!1,cancelName:"",showCancel:!1}),h=Object(c.a)(p,2),v=h[0],y=h[1],k=Object(n.useState)({open:!1,heading:"",message1:"",message2:"",message3:"",boldMessage:""}),j=Object(c.a)(k,2),w=j[0],T=j[1],N=Object(n.useState)({open:!1,heading:"",message1:"",message2:"",message3:"",boldMessage:""}),I=Object(c.a)(N,2),S=I[0],C=I[1],U=Object(n.useState)({open:!1,heading:"",message:"",renameText:""}),B=Object(c.a)(U,2),P=B[0],R=B[1],_=Object(n.useState)({holidayTitlesBorder:!1,weeksBorder:!1,datesText:"",dates:!1,holidayTitlesText:"",holidayTitles:!1,weeksText:"",weeks:!1,weekNums:!1,weekNumsText:""}),x=Object(c.a)(_,2),M=x[0],Y=x[1];function G(){f((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function F(){T((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function Q(){y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function H(){y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})})),C((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}));var e={orgID:a};s.a.post("/organisation/restore",e).then((function(e){var a=e.data;"System Restored"==a.message&&(t(Be("true"==a.locked)),t(Ue(a.holidays)),y({heading:"System Restored",message:"Your system has been restored!",showAccept:!0,acceptName:"Ok",acceptFunction:K,showCancel:!1,open:!0}))})).catch((function(e){console.log(e)}))}function K(){y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})})),r.push("/org/"+a)}function W(e,a){if(""!=e&&""!=a){for(var t=la()(e,"DD/MM/YYYY").startOf("week"),n=la()(a,"DD/MM/YYYY").startOf("week"),l=[];t.isBefore(n);){var r={week:q(t.week())+"-"+t.format("YY"),date:t.format("DD/MM/YYYY"),holiday:0};l.push(r),t.add(1,"w")}return d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weeks:l,showWeeks:!0})})),l}}function q(e){return 1==e.toString().length?"0"+e:e}function X(e,a){if(m.editWeek){var t=m.weeks;t[m.editWeekIndex].holiday="h"+q(a),d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weeks:t,editWeek:!1})}))}else d("Normal"!=e?function(e){return Object(V.a)(Object(V.a)({},e),{},{editTitle:!0,editWeek:!1,titleUUID:a})}:function(e){return Object(V.a)(Object(V.a)({},e),{},{editTitle:!1,editWeek:!1})})}return Object(n.useEffect)((function(){!function(){var e,a,t,n,l=!1,r=!1,o=!1,c=!1;m.showWeeks?m.editWeek||m.editTitle||!m.showWeeks?m.editWeek?(a="Click on a title to assign it to the week",r=!0,m.weekSystem&&(n="Or Click on a week to assign it to",c=!0)):m.editTitle&&(a="Use the 'Rename' or 'Delete' buttons to the left",r=!0,t="Click on a week on the right to assign a holiday to it",o=!0):(a="Click on a holiday title to edit it.",r=!0,t="Click on a week on the right to assign a holiday to it",o=!0):(e="Set the 'Start Date' and 'End Date' to bring up the weeks under Year Preview",l=!0,a=m.holidayTitles.length>0?"Click on a holiday title to edit it.":"Add a holiday title",r=!0);Y({holidayTitlesBorder:!1,weeksBorder:!1,datesText:e,dates:l,holidayTitlesText:a,holidayTitles:r,weeksText:t,weeks:o,weekNumsText:n,weekNums:c})}()}),[m.showWeeks,m.editWeek,m.editTitle,m.holidayTitles]),l.a.createElement("div",null,l.a.createElement("table",{width:"100%",border:"1px"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("div",{className:"heading-text"}," ",l.a.createElement(Z.a,{className:"plus-image",src:m.open?wa.a:ja.a,onClick:function(){if(m.open)d((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}));else{var e={orgID:a};s.a.post("/organisation/getHolidayData",e).then((function(e){var a=e.data;console.log(a);var t=la()(),n=la()(),l="",r="";""==a.org.holidayStartDate?l="":(t=la()(a.org.holidayStartDate,"DD/MM/YYYY"),l=t.format("DD/MM/YYYY")),""==a.org.holidayEndDate?r="":(n=la()(a.org.holidayEndDate,"DD/MM/YYYY"),r=n.format("DD/MM/YYYY")),console.log(t),d((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!0,holidayTitles:a.titles,startDate:t,startDateValue:l,endDate:n,endDateValue:r,weekSystem:"true"==a.org.weekSystem,orgLocked:"true"==a.locked,collides:a.collideBookings})})),function(e,a){if(a.length>0){var t,n=Object(Fe.a)(a);try{for(n.s();!(t=n.n()).done;){var l,r=t.value,o=Object(Fe.a)(e);try{for(o.s();!(l=o.n()).done;){var c=l.value;r.weeks.includes(c.week)&&(c.holiday=r.titleUUID)}}catch(i){o.e(i)}finally{o.f()}}}catch(i){n.e(i)}finally{n.f()}d((function(a){return Object(V.a)(Object(V.a)({},a),{},{weeks:e})}))}}(W(l,r),a.holidays),function(e){for(var a=[],t=1;t<=e;t++)a.push(t);d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weeksNum:a})}))}(a.org.weeks)})).catch((function(e){console.log(e)}))}}})," Week System / Holidays"),l.a.createElement("br",null),l.a.createElement(Aa.a,{in:m.open},l.a.createElement("div",null,l.a.createElement("div",{className:"margin-text"},M.dates?l.a.createElement("div",null,M.datesText):null,M.dates&&M.holidayTitles?"---":null,M.holidayTitles?l.a.createElement("div",{className:"help-holidayTitles"},M.holidayTitlesText):null,M.holidayTitles&&M.weeks||M.holidayTitles&&M.weekNums?"---":null,M.weeks?l.a.createElement("div",{className:"help-weeks"},M.weeksText):null,M.weekNums?l.a.createElement("div",{className:"help-weekNums"},M.weekNumsText):null),l.a.createElement("div",{className:"normal-text"},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,"Start Date:"),l.a.createElement(A.a,null,l.a.createElement(Qa.a,{dateFormat:"dd/MM/yyyy",selected:new Date(m.startDate),value:m.startDateValue,onChange:function(e){d((function(a){return Object(V.a)(Object(V.a)({},a),{},{startDate:e,startDateValue:la()(e,"DD/MM/YYYY").format("DD/MM/YYYY")})})),W(la()(e,"DD/MM/YYYY").format("DD/MM/YYYY"),m.endDateValue)}}))),l.a.createElement(O.a,{className:"holidays-datePadding"},l.a.createElement(A.a,null,"End Date:"),l.a.createElement(A.a,null,l.a.createElement(Qa.a,{dateFormat:"dd/MM/yyyy",selected:new Date(m.endDate),value:m.endDateValue,onChange:function(e){d((function(a){return Object(V.a)(Object(V.a)({},a),{},{endDate:e,endDateValue:la()(e,"DD/MM/YYYY").format("DD/MM/YYYY")})})),W(m.startDateValue,la()(e,"DD/MM/YYYY").format("DD/MM/YYYY"))}}))),l.a.createElement(O.a,{className:"holidays-datePadding"},m.editWeek?null:l.a.createElement("div",null,m.addNew?l.a.createElement("div",{className:"holidays-addNew"},l.a.createElement(J.a.Group,null,l.a.createElement(J.a.Label,null,"New Holiday:"),l.a.createElement(J.a.Control,{name:"newHoliday",value:m.newHoliday,onChange:function(e){var a=e.target,t=a.name,n=a.value;d((function(e){return Object(V.a)(Object(V.a)({},e),{},Object(ia.a)({},t,n))}))}})),l.a.createElement(L.a,{variant:"primary",onClick:function(){var e={orgID:a,title:m.newHoliday};s.a.post("/organisation/addHolidayTitle",e).then((function(e){var a=e.data;console.log(a),"Successfully added"==a.message&&d((function(e){return Object(V.a)(Object(V.a)({},e),{},{holidayTitles:a.titles,addNew:!1,newHoliday:""})}))})).catch((function(e){console.log(e)}))}},"Add"),l.a.createElement(L.a,{variant:"primary",onClick:function(){d((function(e){return Object(V.a)(Object(V.a)({},e),{},{addNew:!1})}))}},"Close")):l.a.createElement("div",null,l.a.createElement(L.a,{className:"side-by-side",variant:"primary",onClick:function(){d((function(e){return Object(V.a)(Object(V.a)({},e),{},{addNew:!0})}))}},"Add New Holiday Title"),l.a.createElement("div",{className:m.editTitle?null:"weeks-holidays-hide"},l.a.createElement(L.a,{className:"side-by-side",variant:"primary",onClick:function(){var e,a="",t=Object(Fe.a)(m.holidayTitles);try{for(t.s();!(e=t.n()).done;){var n=e.value;if(n.uuid==m.titleUUID){a=n.name;break}}}catch(l){t.e(l)}finally{t.f()}R({heading:"Rename",open:!0,renameText:a})}},"Rename"),l.a.createElement(L.a,{className:"side-by-side",variant:"primary",onClick:function(){var e={orgID:a,uuid:m.titleUUID};s.a.post("/organisation/deleteHolidayTitle",e).then((function(e){var a=e.data;"Successfully Deleted"==a.message&&(d((function(e){return Object(V.a)(Object(V.a)({},e),{},{holidayTitles:a.titles,editTitle:!1})})),function(e){var a,t=m.weeks,n=Object(Fe.a)(t);try{for(n.s();!(a=n.n()).done;){var l=a.value;l.holiday==e&&(l.holiday=0)}}catch(r){n.e(r)}finally{n.f()}d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weeks:t})}))}(m.titleUUID))})).catch((function(e){console.log(e)}))}},"Delete"))))),l.a.createElement(O.a,null,m.editWeek?null:l.a.createElement("div",null,l.a.createElement("div",{className:"weekSystem-centred"},l.a.createElement(J.a.Check,{type:"checkbox",checked:m.weekSystem,onChange:function(e){var t=e.target.checked,n=[];if(t)n=["1"],d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSystem:t,weeksNum:n})})),function(){var e,a=m.weeks,t=Object(Fe.a)(a);try{for(t.s();!(e=t.n()).done;){var n=e.value;"0"==n.holiday&&(n.holiday="w01")}}catch(l){t.e(l)}finally{t.f()}d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weeks:a})}))}();else{var l={orgID:a};s.a.post("/organisation/geRoomsWeekSystem",l).then((function(e){e.data.rooms?f({heading:"Week System",message:"There are some rooms still using the week system, delete them first",open:!0}):(d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weekSystem:t,weeksNum:n})})),function(){var e,a=m.weeks,t=Object(Fe.a)(a);try{for(t.s();!(e=t.n()).done;){var n=e.value;n.holiday.includes("w")&&(n.holiday="0")}}catch(l){t.e(l)}finally{t.f()}d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weeks:a})}))}())})).catch((function(e){console.log(e)}))}},label:"Use week system"})),m.weekSystem?l.a.createElement("div",{className:"weekSystem-centred"},"Weeks: ",m.weeksNum.length,l.a.createElement("br",null),l.a.createElement(L.a,{variant:"primary",onClick:function(){var e=m.weeksNum;if(e.length>1){var a,t=e.pop(),n=t-1,l=m.weeks,r=Object(Fe.a)(l);try{for(r.s();!(a=r.n()).done;){var o=a.value;o.holiday=="w"+q(t)&&(o.holiday="w"+q(n))}}catch(c){r.e(c)}finally{r.f()}d((function(a){return Object(V.a)(Object(V.a)({},a),{},{weeksNum:e,weeks:l})}))}}},"-"),l.a.createElement(L.a,{variant:"primary",onClick:function(){var e=m.weeksNum,a=e.length+1;100==a?f((function(e){return Object(V.a)(Object(V.a)({},e),{},{heading:"Weeks",message:"You cannot exceed 99 weeks",open:!0})})):(e.push(a),d((function(a){return Object(V.a)(Object(V.a)({},a),{},{weeksNum:e})})))}},"+")):null))),l.a.createElement(A.a,null,l.a.createElement(O.a,null,"Holiday Titles:",l.a.createElement("div",{className:M.holidayTitles?"help-holidaytiles-bordered scrollable-150 holidays-titles":"scrollable-200 holidays-titles"},l.a.createElement(ba.a,null,m.weekSystem?null:l.a.createElement(Ga.a,{action:!0,onClick:function(){return X("Normal",0)}},"Normal"),m.holidayTitles.map((function(e,a){return l.a.createElement(Ga.a,{key:a,action:!0,onClick:function(){return X(e.name,e.uuid)}},e.name)}))))),l.a.createElement(O.a,{className:"weeks-row-padding"},l.a.createElement("div",{className:m.weekSystem?"weekSystem-weeks scrollable-150":"weeks-holidays-hide"},"Weeks:",l.a.createElement("div",{className:M.weekNums?"help-weekNums-bordered":null},l.a.createElement(ba.a,null,m.weeksNum.map((function(e,a){return l.a.createElement(Ga.a,{key:a,action:!0,onClick:function(){!function(e){if(m.editWeek){var a=m.weeks;a[m.editWeekIndex].holiday="w"+q(e),d((function(e){return Object(V.a)(Object(V.a)({},e),{},{weeks:a,editWeek:!1})}))}}(e)}},"Week",e)}))))))))),l.a.createElement(A.a,null,"Year Preview:",l.a.createElement("div",{className:M.weeks?"help-weeks-bordered scrollable-300":"scrollable-300"},l.a.createElement(ba.a,null,m.weeks.map((function(e,a){return l.a.createElement(Ga.a,{href:"#"+a,key:a,action:!0,onClick:function(){return e=a,void d((function(a){return Object(V.a)(Object(V.a)({},a),{},{editWeekIndex:e,editWeek:!0,editTitle:!1})}));var e}},e.date," - ",function(e){if(0==e)return"Normal";var a="";if(e.includes("h")){var t=e.replace("h","");a="0"==t[0]?t[1]:t;var n,l=Object(Fe.a)(m.holidayTitles);try{for(l.s();!(n=l.n()).done;){var r=n.value;if(r.uuid==a)return r.name}}catch(c){l.e(c)}finally{l.f()}}if(e.includes("w")){var o=e.replace("w","");return"0"==o[0]?"Week "+o[1]:"Week "+o}}(e.holiday))})))),l.a.createElement("div",{className:m.showWeeks?"save-button-show":"save-button-hidden"},m.orgLocked?l.a.createElement("div",null,m.collides?l.a.createElement(L.a,{onClick:function(){r.push("/org/"+a+"/collisionBookings")}},"Collided Bookings"):null,l.a.createElement(L.a,{onClick:function(){C({heading:"Unlock Organisation",message1:"To unlock this organisation make sure that you have cleared all of the collided bookings, the system WILL NOT let you unlock until this is done. Backups only stay active for one cycle of locking organisation. Once unlocked, they are deleted and this is unreservable!!",message2:"If you want to restore everything to the orginial state, before you edit the week system, click 'RESTORE'",open:!0})}},"Unlock")):l.a.createElement(L.a,{onClick:function(){console.log(m.weeks);var e,n={},l=Object(Fe.a)(m.weeks);try{for(l.s();!(e=l.n()).done;){var r=e.value;if("0"!=r.holiday){var o=n[r.holiday];""==o||null==o?o=r.week:o+=","+r.week,n[r.holiday]=o}}}catch(u){l.e(u)}finally{l.f()}var c=Object.keys(n);console.log(c),console.log(n);var i={orgID:a,startDate:m.startDateValue,endDate:m.endDateValue,holidays:c,holidayWeeks:n,weekSystem:m.weekSystem.toString(),weeksNo:m.weeksNum.length};s.a.post("/organisation/saveHolidays",i).then((function(e){var a=e.data;if(t(Ue(a.holidays)),a.locked){t(Be("true")),d((function(e){return Object(V.a)(Object(V.a)({},e),{},{orgLocked:a.locked,collides:a.collidedBookings})}));var n="",l="";a.collidedBookings&&(n="\n\nSome of your bookings have been collided with single bookings, as single bookings are not affected with changing the week system. Please go to 'COLLIDED BOOKINGS' to see them",l="You will NOT be able to unlock your organisation until you have cleared all the collided bookings"),T({heading:"Week System",message1:"Some or all of your rooms have the week system enabled on them. Due to this your organisation will be locked until you double check all the bookings are where they should be.\n\n\n\n",message2:"To unlock the organisation, go on 'UNLOCK' and follow the instructions to unlock. Here you will also be able to restore the system back to how it was, by going on 'RESTORE'",message3:n,boldMessage:l,open:!0})}})).catch((function(e){console.log(e)}))}},"Save"))))))))))),l.a.createElement(z.a,{show:g.open,onHide:G},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,g.heading)),l.a.createElement(z.a.Body,null,g.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:G},"Close"))),l.a.createElement(z.a,{show:v.open,onHide:Q},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,v.heading)),l.a.createElement(z.a.Body,null,v.message),l.a.createElement(z.a.Footer,null,v.showAccept?l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:v.acceptFunction},v.acceptName)):null,v.showCancel?l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:Q},v.cancelName)):null)),l.a.createElement(z.a,{size:"lg",show:w.open,onHide:F},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,w.heading)),l.a.createElement(z.a.Body,null,""!=w.message1?w.message1:null,""!=w.message2?l.a.createElement("div",null,l.a.createElement("br",null),w.message2):null,""!=w.message3?l.a.createElement("div",null,l.a.createElement("br",null),w.message3):null,""!=w.boldMessage?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("strong",null,w.boldMessage)):null),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:F},"Close"))),l.a.createElement(z.a,{show:P.open,onHide:function(){R((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,P.heading)),l.a.createElement(z.a.Body,null,l.a.createElement(J.a.Control,{name:"renameText",value:P.renameText,onChange:function(e){var a=e.target,t=a.name,n=a.value;R((function(e){return Object(V.a)(Object(V.a)({},e),{},Object(ia.a)({},t,n))}))}})),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){var e={orgID:a,uuid:m.titleUUID,title:P.renameText};s.a.post("/organisation/renameHolidayTile",e).then((function(e){var a=e.data;"Successfully Updated"==a.message&&d((function(e){return Object(V.a)(Object(V.a)({},e),{},{holidayTitles:a.titles,editTitle:!1})}))})).catch((function(e){console.log(e)})),R({renameText:"",open:!1})}},"Rename"))),l.a.createElement(z.a,{size:"lg",show:S.open,onHide:function(){C((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,S.heading)),l.a.createElement(z.a.Body,null,""!=S.message1?S.message1:null,""!=S.message2?l.a.createElement("div",null,l.a.createElement("br",null),S.message2):null,""!=S.message3?l.a.createElement("div",null,l.a.createElement("br",null),S.message3):null,""!=S.boldMessage?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement("strong",null,S.boldMessage)):null),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){y({heading:"Are you sure?",message:"Are you sure you want to Restore?",acceptName:"Yes",showAccept:!0,acceptFunction:H,cancelName:"No",showCancel:!0,open:!0})}},"Restore"),l.a.createElement(L.a,{variant:"primary",onClick:function(){C((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}));var e={orgID:a};s.a.post("/organisation/unlock",e).then((function(e){var a=e.data;"Yes"==a.error?(C({open:!1}),f({heading:"Error Unlocking",message:a.message,open:!0})):"System Unlocked"==a.message&&(t(Be("true"==a.locked)),y({heading:"System Unlocked",message:"Your system has been unlocked!",showAccept:!0,acceptName:"Ok",acceptFunction:K,showCancel:!1,open:!0}))})).catch((function(e){console.log(e)}))}},"Unlock"))))};var Ka=t(120),Wa=t.n(Ka);var qa=function(e){var a=e.orgID,t=Object(D.f)(),r=Object(u.b)(),o=Object(n.useState)({open:!1,profiles:[],useProfiles:!1,totalUsers:"",usersWithoutProfiles:"",defaultProfile:!1,subMenu:!1,profileUUID:""}),i=Object(c.a)(o,2),m=i[0],d=i[1];function E(){var e={orgID:a};s.a.post("/userProfile/getOrgProfiles",e).then((function(e){var a=e.data,t=!1;a.usersWithoutProfiles>0&&(t=!0),d((function(e){return Object(V.a)(Object(V.a)({},e),{},{profiles:a.profiles,useProfiles:"true"==a.useProfiles,totalUsers:a.totalUsers,usersWithoutProfiles:a.usersWithoutProfiles,defaultProfile:t,open:!0})}))})).catch((function(e){console.log(e)}))}var b=Object(n.useState)({open:!1,heading:"",message:""}),g=Object(c.a)(b,2),f=g[0],p=g[1];function h(){p((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}var v=Object(n.useState)({open:!1,heading:"",message:"",message2:"",message3:""}),y=Object(c.a)(v,2),k=y[0],j=y[1];function w(){j((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}var T=Object(n.useState)({open:!1,newProfileName:""}),N=Object(c.a)(T,2),I=N[0],S=N[1];function C(e,n){!function(e,a,t){e({type:"UPDATE_ADMINP_UUID",value:a}),e(function(e){return{type:"UPDATE_ADMINP_NAME",value:e}}(t))}(r,e,n),t.push("/org/"+a+"/profileSettings")}function U(e){var t={orgID:a,level:e,profileUUID:m.profileUUID};s.a.post("/userProfile/priority",t).then((function(e){d((function(a){return Object(V.a)(Object(V.a)({},a),{},{profiles:e.data.profiles})}))})).catch((function(e){console.log(e)}))}return l.a.createElement("div",null,l.a.createElement("table",{width:"100%",border:"1px"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,l.a.createElement("div",{className:"heading-text"},l.a.createElement(Z.a,{className:"plus-image",src:m.open?wa.a:ja.a,onClick:function(){m.open?d((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})})):E()}})," User Profiles"),l.a.createElement("br",null),l.a.createElement(Aa.a,{in:m.open},l.a.createElement("div",null,l.a.createElement("div",{className:"margin-text-hide"},"-"),l.a.createElement("div",{className:"normal-text"},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(J.a.Check,{type:"checkbox",checked:m.useProfiles,label:"Use User Profiles",onClick:function(e){var t=e.target.checked;d((function(e){return Object(V.a)(Object(V.a)({},e),{},{useProfiles:t})}));var n={orgID:a,use:t};s.a.post("/userProfile/useProfiles",n).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},onChange:function(){}}),l.a.createElement("br",null))),l.a.createElement(O.a,null,l.a.createElement(A.a,null,m.useProfiles?l.a.createElement("div",null,l.a.createElement("div",{className:"UP_priorities_Left"},l.a.createElement(L.a,{variant:"primary",onClick:function(){S((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!0})}))}},"Create User Profile"),l.a.createElement("p",null,"Double click on a profile to edit it's settings")),l.a.createElement("div",{className:"UP_priorities_Right"},m.subMenu?l.a.createElement("div",null,l.a.createElement(L.a,{onClick:function(){return U("increase")}},"Increase Priority")," ",l.a.createElement(L.a,{onClick:function(){return U("decrease")}},"Decrease Priority"),"  ",l.a.createElement(L.a,{onClick:function(){p({heading:"Remove Profile",message:"This feature has not be completed yet!",open:!0})}},"Remove"),l.a.createElement(Z.a,{className:"help-image",src:Wa.a,onClick:function(){j({heading:"Help: Priority System",message:"The priority system only affects the rooms in the profiles. If the same room in two different profiles is marked \u2018view\u2019, the priority profile settings are set for that room.",message2:"The priority system does not affect any other settings in the profile. If a setting is turned on in any profile that is assigned to a particular user, the setting is on for that user.",message3:"'1' is the highest profile in the priority system",open:!0})}})):null)):null)),l.a.createElement(O.a,null,l.a.createElement(A.a,null,m.useProfiles?l.a.createElement("div",null,l.a.createElement(ba.a,null,m.defaultProfile?l.a.createElement(ba.a.Item,{className:"userProfiles_default_ListItem",action:!0,onClick:function(){d((function(e){return Object(V.a)(Object(V.a)({},e),{},{subMenu:!1})}))},onDoubleClick:function(){return C("default","Default Profile (Access Level)")}},l.a.createElement(O.a,null,l.a.createElement(A.a,null,"Default Profile (Access Level)"),l.a.createElement(A.a,null,m.usersWithoutProfiles," / ",m.totalUsers," users"),l.a.createElement(A.a,null))):null,m.profiles.map((function(e,a){return l.a.createElement(ba.a.Item,{href:"#"+a,key:a,action:!0,onClick:function(){return a=e.uuid,void d((function(e){return Object(V.a)(Object(V.a)({},e),{},{profileUUID:a,subMenu:!0})}));var a},onDoubleClick:function(){return C(e.uuid,e.name)}},l.a.createElement(O.a,null,l.a.createElement(A.a,null,e.name),l.a.createElement(A.a,null,e.noOfUsers," / ",m.totalUsers," users"),l.a.createElement(A.a,null,"Priority: ",e.priority)))}))),l.a.createElement("br",null)):null))))))))),l.a.createElement(z.a,{show:I.open,onHide:function(){S((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,"Create A Profile")),l.a.createElement(z.a.Body,null,"Please enter a name:",l.a.createElement(J.a.Control,{type:"text",value:I.newProfileName,onChange:function(e){var a=e.target.value;S((function(e){return Object(V.a)(Object(V.a)({},e),{},{newProfileName:a})}))}})),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:function(){if(""==I.newProfileName)p({heading:"Create A Profile",message:"Please enter a name",open:!0});else{var e={orgID:a,name:I.newProfileName};s.a.post("/userProfile/createProfile",e).then((function(e){"Profile Created"==e.data.message&&(S((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})})),E())})).catch((function(e){console.log(e)}))}}},"Create"))),l.a.createElement(z.a,{show:f.open,onHide:h},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,f.heading)),l.a.createElement(z.a.Body,null,f.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:h},"Close"))),l.a.createElement(z.a,{show:k.open,onHide:w},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,k.heading)),l.a.createElement(z.a.Body,null,k.message,l.a.createElement("br",null)," ",l.a.createElement("br",null)," ",k.message2," ",l.a.createElement("br",null)," ",l.a.createElement("br",null),k.message3),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:w},"Close"))))};var Va=function(e){var a=e.match.params.id,t=Object(u.c)((function(e){return e.user})),r=Object(u.c)((function(e){return e.userProfile}));return Object(n.useEffect)((function(){document.title="STAFF"}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{fluid:!0,className:"p-3"},l.a.createElement(K.a,{className:"back-color"},r.admin_loginSettings||"seniorAdmin"==t.role?l.a.createElement(Ta,{orgID:a}):null,l.a.createElement("br",null),r.admin_departments||"seniorAdmin"==t.role?l.a.createElement(Na,{orgID:a}):null,l.a.createElement("br",null),r.admin_users||"seniorAdmin"==t.role?l.a.createElement(Sa,{orgID:a}):null," ",l.a.createElement("br",null),r.admin_rooms||"seniorAdmin"==t.role?l.a.createElement(Ca,{orgID:a}):null," ",l.a.createElement("br",null),r.admin_layouts||"seniorAdmin"==t.role?l.a.createElement(Ya,{orgID:a}):null,l.a.createElement("br",null),r.admin_weekSystemHolidays||"seniorAdmin"==t.role?l.a.createElement(Ha,{orgID:a}):null,l.a.createElement("br",null),r.admin_userProfiles||"seniorAdmin"==t.role?l.a.createElement(qa,{orgID:a}):null)))};var Ja=function(e){var a=e.match.params.id,t=Object(u.c)((function(e){return e.UserProfileAdminGlobalSettings})),r=Object(u.c)((function(e){return e.AdminProfileGlobalSettings})),o=Object(D.f)(),i=Object(u.b)();function m(){var e=document.getElementById("viewBtn").offsetWidth,a=document.getElementById("writeBtn").offsetWidth,t=document.getElementById("editBtn").offsetWidth,n=document.getElementById("deleteBtn").offsetWidth,l=document.getElementById("repeatBtn").offsetWidth;g((function(r){return Object(V.a)(Object(V.a)({},r),{},{viewBtnSize:e,writeBtnSize:a,editBtnSize:t,deleteBtnSize:n,repeatBtnSize:l})}))}Object(n.useEffect)((function(){""==r.uuid?(console.log(r.uuid),o.push("/org/"+a+"/organisationAdmin")):"default"!=r.uuid?x(!1):(g((function(e){return Object(V.a)(Object(V.a)({},e),{},{defaultPro:!0})})),x(!0))}),[]),Object(n.useEffect)((function(){return window.addEventListener("resize",m),function(){window.removeEventListener("resize",m)}}),[]);var d=Object(n.useState)({users:[],userUUID:"",nonProfileUsers:[],profileUsers:[],rooms:[],defaultPro:!1,viewBtnSize:0,writeBtnSize:0,editBtnSize:0,deleteBtnSize:0,repeatBtnSize:0}),E=Object(c.a)(d,2),b=E[0],g=E[1],f=Object(n.useState)({users:[]}),p=Object(c.a)(f,2),h=p[0],v=p[1],y=Object(n.useState)({open:!1,heading:"",message:""}),k=Object(c.a)(y,2),j=k[0],w=k[1];function T(){w((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}var N=Object(n.useState)({open:!1,heading:"",message:"",message2:""}),I=Object(c.a)(N,2),S=I[0],C=I[1];function U(){C((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}var B=Object(n.useState)({bookings:!0,admin:!1}),P=Object(c.a)(B,2),R=P[0],_=P[1];function x(e){var n={orgID:a,profileUUID:r.uuid,userSettingKeys:Object.keys(t.settings)};s.a.post("/userProfile/loadProfile",n).then((function(a){var t=a.data;M(e,t.users);var n=t.UPRooms,l=t.orgRooms,r=[];if(e)l.map((function(e){var a={uuid:e.uuid,name:e.name,view:!0,write:!0,edit:!1,delete:!1,repeat:!1};r.push(a)})),g((function(e){return Object(V.a)(Object(V.a)({},e),{},{rooms:r})}));else{l.map((function(e){var a=!1;if(n.map((function(t){if(e.uuid==t.roomUUID){a=!0;var n={uuid:e.uuid,name:e.name,view:"true"==t.view,write:"true"==t.write,edit:"true"==t.edit,delete:"true"==t.delete,repeat:"true"==t.repeat};r.push(n)}})),!a){var t={uuid:e.uuid,name:e.name,view:!1,write:!1,edit:!1,delete:!1,repeat:!1};r.push(t)}})),g((function(e){return Object(V.a)(Object(V.a)({},e),{},{rooms:r})}));for(var o={},c=t.userSettings,s=0,u=Object.keys(c);s<u.length;s++){var d=u[s];o[d]="true"==c[d]}!function(e,a){e(Ge(a))}(i,o)}m()})).catch((function(e){console.log(e)}))}function M(e,a){var t=[],n=[];e?(a.map((function(e){""==e.userProfiles&&n.push(e)})),g((function(e){return Object(V.a)(Object(V.a)({},e),{},{profileUsers:n,users:a,userUUID:""})}))):(a.map((function(e){e.userProfiles.split(",").includes(r.uuid.toString())?n.push(e):t.push(e)})),g((function(e){return Object(V.a)(Object(V.a)({},e),{},{nonProfileUsers:t,profileUsers:n,users:a,userUUID:""})})))}function Y(e,a){var t=b.rooms;t.forEach((function(t){t.uuid==e&&(t[a]?(t[a]=!1,"view"==a&&(t.write=!1,t.edit=!1,t.delete=!1,t.repeat=!1)):t[a]=!0)})),g((function(e){return Object(V.a)(Object(V.a)({},e),{},{rooms:t})}))}function G(){var e=[];h.users.map((function(a){b.users.map((function(t){t.uuid==a&&e.push(t)}))}));var n={orgID:a,profileUUID:r.uuid,usersToUpdate:e,profileUserCount:b.profileUsers.length,rooms:b.rooms,userSettings:t.settings};s.a.post("/userProfile/saveProfile",n).then((function(e){var a=e.data;"User Profile Updated"==a.message&&w({heading:"Profile Settings",message:a.message,open:!0})})).catch((function(e){console.log(e)}))}function F(e){g((function(a){return Object(V.a)(Object(V.a)({},a),{},{userUUID:e})}))}function Q(e){h.users.includes(e)||v((function(a){return{users:[].concat(Object(Ea.a)(h.users),[e])}}))}function W(e){_(Object(ia.a)({},e,!0))}function q(){}function X(e){var a=e.target,n=a.name,l=a.checked;!function(e,a,t,n){var l=e.settings;l[t]=n,a(Ge(l))}(t,i,n,l)}function $(e){var a=e.target,n=a.name,l=a.checked;!function(e,a,t,n){var l,r=e.settings;r[t]=n,l=!!(r.admin_loginSettings||r.admin_departments||r.admin_users||r.admin_rooms||r.admin_layouts||r.admin_weekSystemHolidays||r.admin_userProfiles),r.orgAdminAccess=l,a(Ge(r))}(t,i,n,l)}return l.a.createElement("div",null,l.a.createElement(H.a,{fluid:!0,className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,"Profile Settings"),l.a.createElement("h2",null,r.name),l.a.createElement("br",null),l.a.createElement("div",{className:"align-right"},b.defaultPro?null:l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:G},"Update"),l.a.createElement(Z.a,{className:"help-image",src:Wa.a,onClick:function(){C({heading:"Help: Priority System",message:"The priority system only affects the rooms in the profiles. If the same room in two different profiles is marked \u2018view\u2019, the priority profile settings are set for that room.",message2:"The priority system does not affect any other settings in the profile. If a setting is turned on in any profile that is assigned to a particular user, the setting is on for that user.",open:!0})}}))),l.a.createElement(O.a,{className:"normal-text"},l.a.createElement("strong",null,"Users:")),l.a.createElement("br",null),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("strong",null,"Users in this profile:"),l.a.createElement("div",{className:"align-left, scrollable-300"},l.a.createElement(ba.a,null,b.defaultPro?l.a.createElement("div",null,b.profileUsers.map((function(e,a){return l.a.createElement(ba.a.Item,{href:"#"+a,key:a},e.displayName)}))):l.a.createElement("div",null,b.profileUsers.map((function(e,a){return l.a.createElement(ba.a.Item,{href:"#"+a,key:a,action:!0,onClick:function(){return F(e.uuid)}},e.displayName)})))))),l.a.createElement(A.a,null,l.a.createElement("div",{className:"valign-center"},l.a.createElement("span",{className:"valign"},b.defaultPro?null:l.a.createElement("div",null,l.a.createElement(L.a,{onClick:function(){""==b.userUUID?w({heading:"Move User",message:"You need to select an user first",open:!0}):b.users.map((function(e){if(e.uuid==b.userUUID){var a=[];""!=e.userProfiles&&(a=e.userProfiles.split(",")),a.length>5?w({heading:"Move User",message:"This user has already got 5 profile assigned to them",open:!0}):(a.length,a.push(r.uuid),e.userProfiles=a.toString()),Q(b.userUUID),M(b.defaultPro,b.users)}}))}},"Move into profile"),l.a.createElement("br",null),l.a.createElement(L.a,{onClick:function(){""==b.userUUID?w({heading:"Move User",message:"You need to select an user first",open:!0}):b.users.map((function(e){if(e.uuid==b.userUUID){var a=[];""!=e.userProfiles&&(a=e.userProfiles.split(","));var t=a.indexOf(r.uuid.toString());a.splice(t,1),e.userProfiles=a.toString(),Q(b.userUUID),M(b.defaultPro,b.users)}}))}},"Move out of profile"))))),l.a.createElement(A.a,null,b.defaultPro?l.a.createElement("div",null,l.a.createElement("strong",null,"This profile cannot be updated as it is the default profile which the system uses if a user is not assigned to a profile. ",l.a.createElement("br",null),l.a.createElement("br",null),"This is the profile for User Level which is set up by High-View Studios. ",l.a.createElement("br",null)," ",l.a.createElement("br",null),"An 'user' can see all the rooms and make bookings.",l.a.createElement("br",null)," ",l.a.createElement("br",null),"An 'admin' can make bookings on behalf of any user and any department. They are also able to make repeated bookings and able to delete any booking. ",l.a.createElement("br",null)," ",l.a.createElement("br",null),"To have custom settings please make a profile and assign users to it.")):l.a.createElement("div",null,l.a.createElement("strong",null,"Users not in this profile:"),l.a.createElement("div",{className:"align-left, scrollable-300"},l.a.createElement(ba.a,null,b.nonProfileUsers.map((function(e,a){return l.a.createElement(ba.a.Item,{key:a,action:!0,onClick:function(){return F(e.uuid)}},e.displayName)}))))))),l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"align-left"},l.a.createElement("strong",null,"Rooms:")),l.a.createElement(A.a,{className:"align-left"},b.defaultPro?null:l.a.createElement("strong",null,"User Settings:"))),l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"align-left profileSettings_warning"},l.a.createElement("strong",null,"Rooms are affected by the priority system, see 'help' for more information.")),l.a.createElement(A.a,null)),l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"align-right"},l.a.createElement(L.a,{variant:"primary",disabled:!0},"Selected"),l.a.createElement(L.a,{variant:"outline-primary",disabled:!0},"Unselected")),l.a.createElement(A.a,{className:"align-left"},b.defaultPro?null:l.a.createElement("div",null,l.a.createElement(L.a,{variant:R.bookings?"primary":"outline-primary",onClick:function(){W("bookings")}},"Bookings"),l.a.createElement(L.a,{variant:R.admin?"primary":"outline-primary",onClick:function(){W("admin")}},"Administrator")))),l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"align-left"},l.a.createElement("div",{className:"scrollable-300"},l.a.createElement(ba.a,null,b.rooms.map((function(e,a){return l.a.createElement(ba.a.Item,{key:a},b.defaultPro?l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,e.name),l.a.createElement(A.a,null,l.a.createElement(L.a,{variant:e.view?"primary":"outline-primary",disabled:!0},"View")),l.a.createElement(A.a,null,e.view?l.a.createElement(L.a,{variant:e.write?"primary":"outline-primary",disabled:!0},"Write"):null),l.a.createElement(A.a,null,e.view?l.a.createElement(L.a,{variant:e.edit?"primary":"outline-primary",disabled:!0},"Edit"):null),l.a.createElement(A.a,null,e.view?l.a.createElement(L.a,{variant:e.delete?"primary":"outline-primary",disabled:!0},"Delete"):null),l.a.createElement(A.a,null,e.view?l.a.createElement(L.a,{variant:e.repeat?"primary":"outline-primary",disabled:!0},"Repeat"):null))):l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"col-lg-2 button-width"},e.name),l.a.createElement(A.a,{className:"col-lg-10"},l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"col-lg-2"}),l.a.createElement(A.a,{className:"col-lg-2"},l.a.createElement(L.a,{id:0==a?"viewBtn":null,className:"button-width",variant:e.view?"primary":"outline-primary",onClick:function(){return Y(e.uuid,"view")}},b.viewBtnSize<=50?l.a.createElement("i",{class:"fas fa-eye"}):"View")),l.a.createElement(A.a,{className:"col-lg-2"},l.a.createElement(L.a,{id:0==a?"writeBtn":null,className:e.view?"button-width":"button-width btn-hidden",variant:e.write?"primary":"outline-primary",onClick:function(){return Y(e.uuid,"write")}},b.writeBtnSize<=60?l.a.createElement("i",{class:"fas fa-pencil-alt"}):"Write")),l.a.createElement(A.a,{className:"col-lg-2"},l.a.createElement(L.a,{id:0==a?"editBtn":null,className:e.view?"button-width":"button-width btn-hidden",variant:e.edit?"primary":"outline-primary",onClick:function(){return Y(e.uuid,"edit")}},b.editBtnSize<=50?l.a.createElement("i",{class:"fas fa-edit"}):"Edit")),l.a.createElement(A.a,{className:"col-lg-2"},l.a.createElement(L.a,{id:0==a?"deleteBtn":null,className:e.view?"button-width":"button-width btn-hidden",variant:e.delete?"primary":"outline-primary",onClick:function(){return Y(e.uuid,"delete")}},b.deleteBtnSize<=70?l.a.createElement("i",{class:"fas fa-trash-alt"}):"Delete")),l.a.createElement(A.a,{className:"col-lg-2"},l.a.createElement(L.a,{id:0==a?"repeatBtn":null,className:e.view?"button-width":"button-width btn-hidden",variant:e.repeat?"primary":"outline-primary",onClick:function(){return Y(e.uuid,"repeat")}},b.repeatBtnSize<=70?l.a.createElement("i",{class:"fas fa-redo-alt"}):"Repeat")))))))}))))),l.a.createElement(A.a,{className:"align-left"},b.defaultPro?null:l.a.createElement("div",null,l.a.createElement("div",{className:"userProfileTabs"},R.bookings?l.a.createElement("div",null,l.a.createElement(J.a.Check,{type:"checkbox",name:"viewAllUsers",checked:t.settings.viewAllUsers,label:"View All Users",onClick:X,onChange:q}),l.a.createElement(J.a.Check,{type:"checkbox",name:"viewAllDepartments",checked:t.settings.viewAllDepartments,label:"View All Departments",onClick:X,onChange:q})):null,R.admin?l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(J.a.Check,{type:"checkbox",checked:t.settings.orgAdminAccess,label:"Organisation Admin Access",disabled:!0,onChange:q})," ",l.a.createElement("br",null),"Select one section to activite the Organisation Admin Access"),l.a.createElement(A.a,null,l.a.createElement("strong",null,"Sections: "),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(J.a.Check,{type:"checkbox",name:"admin_loginSettings",checked:t.settings.admin_loginSettings,label:"Login Settings",onClick:$,onChange:q}),l.a.createElement(J.a.Check,{type:"checkbox",name:"admin_departments",checked:t.settings.admin_departments,label:"Departments",onClick:$,onChange:q}),l.a.createElement(J.a.Check,{type:"checkbox",name:"admin_users",checked:t.settings.admin_users,label:"Users",onClick:$,onChange:q}),l.a.createElement(J.a.Check,{type:"checkbox",name:"admin_rooms",checked:t.settings.admin_rooms,label:"Rooms",onClick:$,onChange:q}),l.a.createElement(J.a.Check,{type:"checkbox",name:"admin_layouts",checked:t.settings.admin_layouts,label:"Layouts",onClick:$,onChange:q}),l.a.createElement(J.a.Check,{type:"checkbox",name:"admin_weekSystemHolidays",checked:t.settings.admin_weekSystemHolidays,label:"Week System / Holidays",onClick:$,onChange:q}),l.a.createElement(J.a.Check,{type:"checkbox",name:"admin_userProfiles",checked:t.settings.admin_userProfiles,label:"User Profiles",onClick:$,onChange:q})))):null)))),l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"align-right"},b.defaultPro?null:l.a.createElement(L.a,{variant:"primary",onClick:G},"Update"))))),l.a.createElement(z.a,{show:j.open,onHide:T},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,j.heading)),l.a.createElement(z.a.Body,null,j.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:T},"Close"))),l.a.createElement(z.a,{show:S.open,onHide:U},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,S.heading)),l.a.createElement(z.a.Body,null,S.message,l.a.createElement("br",null)," ",l.a.createElement("br",null)," ",S.message2),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:U},"Close"))))};var za=function(e){var a=e.match.params.id,t=Object(u.c)((function(e){return e.user})),r=Object(u.c)((function(e){return e.organisation})),o=Object(u.c)((function(e){return e.globalVars})),i=Object(D.f)(),y=Object(u.b)(),O=Object(n.useState)(""),A=Object(c.a)(O,2),w=A[0],T=A[1];return Object(n.useEffect)((function(){document.title="STAFF - Sign In",j(),t.auth&&i.push("/")}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,r.name)," ",l.a.createElement("br",null),l.a.createElement("h3",null,"Please Sign In!"),l.a.createElement("p",null,r.message),r.signInLocal?l.a.createElement("div",null,l.a.createElement("form",null,l.a.createElement("label",{id:"lblEmail"},"Email:"),l.a.createElement("br",null),l.a.createElement("input",{id:"txtEmail",type:"email"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"lblPassword"},"Password:"),l.a.createElement("br",null),l.a.createElement("input",{id:"txtPassword",type:"password"}),l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("p",null,w)),l.a.createElement("br",null),l.a.createElement(L.a,{variant:"warning",onClick:function(e){e.preventDefault();var a=document.getElementById("txtEmail").value,t=document.getElementById("txtPassword").value,n={email:a,password:t};s.a.post("/login",n).then((function(e){console.log(e.data),"Logged in successful"===e.data.message?(y(m(!0)),y(d(e.data.uuid)),y(E(e.data.displayName)),y(h(e.data.departments)),y(b(e.data.role)),y(g(e.data.new)),y(f(e.data.requestedPassword)),y(p(e.data.orgID)),y(v(e.data.SARequest)),o.forceSignIn?(y(ta(!0)),y(aa(!1))):(y(ta(!0)),y(aa(!0)))):T(e.data.info)})).catch((function(e){console.log(e)}))}},"Log in"),l.a.createElement(L.a,{variant:"warning",onClick:function(){return i.push("/org/"+a+"/forgotPassword")}},"Forgot Password"),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",null),r.signInGoogle?l.a.createElement(L.a,{variant:"danger",href:k+"/auth/google"},l.a.createElement("i",{className:"fab fa-google"})," Log in with Google"):l.a.createElement("div",null))))};var Xa=function(e){var a=e.match.params.id,t=Object(u.c)((function(e){return e.user})),r=Object(u.c)((function(e){return e.globalVars})),o=Object(u.c)((function(e){return e.UserProfileAdminGlobalSettings})),i=Object(u.b)(),m=Object(D.f)(),d=Object(n.useState)(!1),E=Object(c.a)(d,2),b=E[0],g=E[1];return Object(n.useEffect)((function(){document.title="STAFF",function(){var e={orgID:a,userProfiles:t.profiles,userSettingsKeys:Object.keys(o.settings)};s.a.post("/organisation/getOrganisation",e).then((function(e){console.log(e.data),"Yes"!=e.data.error?(i({type:"ORG_UPDATE_NAME",value:e.data.organisation.name}),i(je("true"==e.data.organisation.auth_Local)),i(De("true"==e.data.organisation.auth_Google)),i(we(e.data.organisation.message)),i(Te("true"==e.data.organisation.useDepartments)),i(Ne(e.data.organisation.noOfDepartments)),i(Ie(e.data.departments)),i(function(e){return{type:"ORG_UPDATE_ALLOCATEDROOMS",value:e}}(e.data.organisation.allocatedRooms)),i(Se(e.data.organisation.redeemedRooms)),i(Ce(e.data.rooms)),i(function(e){return{type:"ORG_UPDATE_LAYOUTS",value:e}}(e.data.layouts)),i(Ue(e.data.holidays)),i(Be("true"==e.data.organisation.locked)),"true"!=e.data.organisation.useProfiles||e.data.userProfile.default?function(e,a){a({type:"UPUPDATE_DEFAULT",value:!0}),"user"==e.role?(a(Pe(!0)),a(Re(!0))):"admin"==e.role?(a(Pe(!0)),a(Re(!0)),a(Le(!0)),a(xe(!0)),a(Me(!0))):"seniorAdmin"==e.role&&(a(Pe(!0)),a(Re(!0)),a(Le(!0)),a(xe(!0)),a(Me(!0)),a(Ye(!0)))}(t,i):function(e,a){console.log(a),e({type:"UPUPDATE_ROOMS",value:a.rooms}),e(xe(a.viewAllUsers)),e(Me(a.viewAllDepartments)),e(Ye(a.orgAdminAccess)),e(function(e){return{type:"UPUPDATE_ADMIN_LOGINSETTINGS",value:e}}(a.admin_loginSettings)),e(function(e){return{type:"UPUPDATE_ADMIN_DEPARTMENTS",value:e}}(a.admin_departments)),e(function(e){return{type:"UPUPDATE_ADMIN_USERS",value:e}}(a.admin_users)),e(function(e){return{type:"UPUPDATE_ADMIN_ROOMS",value:e}}(a.admin_rooms)),e(function(e){return{type:"UPUPDATE_ADMIN_LAYOUTS",value:e}}(a.admin_layouts)),e(function(e){return{type:"UPUPDATE_ADMIN_WEEKSYSTEMHOLIDAYS",value:e}}(a.admin_weekSystemHolidays)),e(function(e){return{type:"UPUPDATE_ADMIN_USERPROFILES",value:e}}(a.admin_userProfiles))}(i,e.data.userProfile),0==t.auth?m.push("/org/"+a+"/signIn"):t.orgID!=a?m.push("/org/"+t.orgID+"/wrongOrganisation"):"true"==t.requestedPassword?m.push("/org/"+a+"/changePassword"):"true"==t.new?m.push("/org/"+a+"/createPassword"):"true"==t.SARequest?m.push("/org/"+a+"/changeOfSeniorRequest"):r.fromSignIn&&m.push("/org/"+a),g(!0)):("Yes"==e.data.dataError?F(i,!0):F(i,!1),m.push("/org/"+a+"/organisationNotFound"),g(!0))})).catch((function(e){console.log(e)}))}()}),[r.forceSignIn]),l.a.createElement("div",null,b?l.a.createElement("div",null,l.a.createElement(D.a,{path:"/org/:id",exact:!0,component:ca}),l.a.createElement(D.a,{path:"/org/:id/collisionBookings",component:ma}),l.a.createElement(D.a,{path:"/org/:id/organisationAdmin",component:Va}),l.a.createElement(D.a,{path:"/org/:id/userDetails",component:ga}),l.a.createElement(D.a,{path:"/org/:id/profileSettings",component:Ja}),l.a.createElement(D.a,{path:"/org/:id/signIn",component:za}),l.a.createElement(D.a,{path:"/org/:id/forgotPassword",component:fa}),l.a.createElement(D.a,{path:"/org/:id/changePassword",component:pa}),l.a.createElement(D.a,{path:"/org/:id/changeOfSeniorRequest",component:da}),l.a.createElement(D.a,{path:"/org/:id/createPassword",component:ha}),l.a.createElement(D.a,{path:"/org/:id/wrongOrganisation",component:va}),l.a.createElement(D.a,{path:"/org/:id/organisationNotFound",component:ya})):null)};t(486);var Za=function(e){var a=e.match.params.id,t=Object(D.f)(),r=Object(u.c)((function(e){return e.user})),o=Object(u.c)((function(e){return e.organisation})),i=Object(u.c)((function(e){return e.globalVars})),m=Object(u.c)((function(e){return e.userProfile})),d=Object(n.useState)({userList:[],departmentList:[],user:"Users",userID:"",department:"Departments",departmentID:"",sessionLength:"Length",sessionLengthTitle:"",showSessionLength:!0,sessions:[],repeat:!1,daily:!1,weekly:!1,endOfYear:!1,untilDate:la()(),showUserDropdown:!0,sessDes:"",sessDesTitle:"",comments:"",times:[]}),E=Object(c.a)(d,2),b=E[0],g=E[1],f=Object(n.useState)({open:!1,heading:"",message:""}),p=Object(c.a)(f,2),h=p[0],v=p[1],y=Object(n.useState)({open:!1}),k=Object(c.a)(y,2),j=k[0],w=k[1];function T(){v((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function N(){w((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function I(e){var a=e.target.innerText;g((function(e){return Object(V.a)(Object(V.a)({},e),{},{sessionLength:a})}))}function S(e){var a=e.target,t=a.name,n=a.value;g((function(e){return Object(V.a)(Object(V.a)({},e),{},Object(ia.a)({},t,n))}))}function C(){var e="",n="",l="",c=[],u=i.sessionID.split("-");if("Timetable"==i.layoutData.layout)if(u[1].toString().includes("b"))c.push(u[1]);else for(var m=parseInt(u[1]),d=0;d<b.sessionLength;d++)c.push(m),m++;else if("Diary"==i.layoutData.layout)for(var E=la()(i.sessionLabel,"HH:mm"),g=la()(b.sessionLength,"HH:mm");E.isBefore(g);)c.push(E.format("HH:mm").replace(":","")),E.add(i.timeInterval,"m");b.repeat?(e="repeat",b.daily?(n="daily",l=b.untilDate.toLocaleDateString()):(b.weekly||b.endOfYear)&&(n="weekly",l=b.untilDate.toLocaleDateString())):(e="single",l="");var f,p="",h=Object(Fe.a)(o.holidays);try{for(h.s();!(f=h.n()).done;){var y=f.value;if(y.titleUUID==i.weekUUID){p=y.weeks;break}}}catch(j){h.e(j)}finally{h.f()}var O,A=la()(i.date,"DD/MM/YYYY");"repeat"==e?O=la()(l,"DD/MM/YYYY").format("DD/MM/YYYY"):O="";var k={orgID:a,roomID:i.roomID,user:b.userID,departmentID:b.departmentID,sessionDes:b.sessDes,sessionTotal:c.length,sessions:c.toString(),comments:b.comments,bookingType:e,repeatType:n,startDate:A.format("DD/MM/YYYY"),repeatUntil:O,createdBy:r.uuid,dayList:i.dayList,weekSystem:i.weekSystem,weekSysWeeks:p};s.a.post("/booking/createBooking",k).then((function(e){var n=e.data;console.log(n),"null"==n.error?"null"==n.userError?t.push("/org/"+a):v((function(){return{heading:"Booking",message:n.message,open:!0}})):"MSQL error"==n.message?w((function(){return{open:!0}})):v((function(){return{heading:"Booking",message:n.message,open:!0}}))})).catch((function(e){console.log(e)}))}return Object(n.useEffect)((function(){""==i.date?t.push("/org/"+a):function(){if(function(){var e={orgID:a,users:m.viewAllUsers,departments:m.viewAllDepartments};s.a.post("/organisation/usersAndDepartments",e).then((function(e){var a=e.data;"none"!=a.userList?g((function(e){return Object(V.a)(Object(V.a)({},e),{},{userList:a.userList})})):g((function(e){return Object(V.a)(Object(V.a)({},e),{},{showUserDropdown:!1,user:r.name,userID:r.uuid})})),"none"!=a.departmentList?g((function(e){return Object(V.a)(Object(V.a)({},e),{},{departmentList:a.departmentList})})):function(){var e,a=r.userDepartments.split(","),t=[],n=Object(Fe.a)(a);try{for(n.s();!(e=n.n()).done;){var l,c=e.value,i=Object(Fe.a)(o.departments);try{for(i.s();!(l=i.n()).done;){var s=l.value;s.uuid==c&&t.push(s)}}catch(u){i.e(u)}finally{i.f()}}}catch(u){n.e(u)}finally{n.f()}g((function(e){return Object(V.a)(Object(V.a)({},e),{},{departmentList:t})}))}()})).catch((function(e){console.log(e)}))}(),"Timetable"==i.layoutData.layout){if(i.sessionID.includes("b"))g((function(e){return Object(V.a)(Object(V.a)({},e),{},{showSessionLength:!1,sessionLength:"1"})}));else{for(var e=i.sessionID.split("-"),t=parseInt(e[1]),n=[],l=1,c=t;c<=i.totalSessions;c++)n.push(l),l++;g((function(e){return Object(V.a)(Object(V.a)({},e),{},{sessions:n})}))}g((function(e){return Object(V.a)(Object(V.a)({},e),{},{sessDesTitle:"Class",sessionLengthTitle:"Session Length"})}))}else if("Diary"==i.layoutData.layout){!function(e,a,t){var n=[],l=la()(e,"HH:mm"),r=la()(a,"HH:mm");l.add(t,"m");for(;l.isSameOrBefore(r);)n.push(l.format("HH:mm")),l.add(t,"m");g((function(e){return Object(V.a)(Object(V.a)({},e),{},{sessions:n})})),console.log(n)}(la()(i.sessionLabel,"HH:mm"),i.finishTime,i.timeInterval),g((function(e){return Object(V.a)(Object(V.a)({},e),{},{sessDesTitle:"Subject",sessionLengthTitle:"Until"})}))}var u=la()(i.date,"DD/MM/YYYY");g((function(e){return Object(V.a)(Object(V.a)({},e),{},{untilDate:u})}))}()}),[]),l.a.createElement("div",{className:"body booking-content"},l.a.createElement(H.a,{fluid:!0,className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement(O.a,null,l.a.createElement(A.a,null),l.a.createElement(A.a,{xs:8},l.a.createElement(O.a,null,l.a.createElement(A.a,{className:"booking-topInfo"},l.a.createElement("strong",null,"Date: ",i.date)),l.a.createElement(A.a,{className:"booking-topInfo"},l.a.createElement("strong",null,"Room: ",i.roomName)),l.a.createElement(A.a,{className:"booking-topInfo"},l.a.createElement("strong",null,"Session: ",i.sessionLabel))),l.a.createElement("hr",null),l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement(J.a.Group,null,"User:",b.showUserDropdown?l.a.createElement("div",null,l.a.createElement(_.a,null,l.a.createElement(_.a.Toggle,{variant:"primary",id:"dropdown-users"},b.user),l.a.createElement(_.a.Menu,{className:"dropdown-items"},b.userList.map((function(e,a){return l.a.createElement(_.a.Item,{key:a,onClick:function(){return a=e.displayName,t=e.uuid,void g((function(e){return Object(V.a)(Object(V.a)({},e),{},{user:a,userID:t})}));var a,t}},e.displayName)}))))):l.a.createElement("div",null,b.user)),l.a.createElement(J.a.Group,null,"Department:",l.a.createElement(_.a,null,l.a.createElement(_.a.Toggle,{variant:"primary",id:"dropdown-departments"},b.department),l.a.createElement(_.a.Menu,{className:"dropdown-items"},b.departmentList.map((function(e,a){return l.a.createElement(_.a.Item,{key:a,onClick:function(){return a=e.name,t=e.uuid,g((function(e){return Object(V.a)(Object(V.a)({},e),{},{department:a,departmentID:t})})),void console.log(i.roomID);var a,t}},e.name)}))))),l.a.createElement(J.a.Group,null,b.sessDesTitle,":",l.a.createElement(J.a.Control,{type:"text",name:"sessDes",onChange:S})),l.a.createElement(J.a.Group,null,"Comments:",l.a.createElement(J.a.Control,{as:"textarea",rows:"3",name:"comments",onChange:S}))),l.a.createElement(A.a,null,l.a.createElement(J.a.Group,null,b.sessionLengthTitle,":",b.showSessionLength?l.a.createElement("div",null,l.a.createElement(_.a,null,l.a.createElement(_.a.Toggle,{variant:"primary",id:"dropdown-sessionLength"},b.sessionLength),l.a.createElement(_.a.Menu,{className:"dropdown-items"},b.sessions.map((function(e,a){return l.a.createElement(_.a.Item,{key:a,onClick:I},e)}))))):" "+b.sessionLength),l.a.createElement(O.a,null,m.room_Repeat?l.a.createElement("div",null,l.a.createElement(J.a.Group,null,l.a.createElement(J.a.Check,{className:"check-side-by-side-b",type:"checkbox",label:"Repeat",onChange:function(e){var a=e.target.checked;g((function(e){return Object(V.a)(Object(V.a)({},e),{},{repeat:a})}))}}))):null),b.repeat?l.a.createElement("div",null,l.a.createElement(O.a,null,l.a.createElement(J.a.Group,null,l.a.createElement(J.a.Check,{className:"check-side-by-side-b",type:"checkbox",label:"Daily",checked:b.daily,onChange:function(e){var a=e.target.checked;g(a?function(e){return Object(V.a)(Object(V.a)({},e),{},{daily:a,weekly:!a,endOfYear:!a})}:function(e){return Object(V.a)(Object(V.a)({},e),{},{daily:a})})}}),l.a.createElement(J.a.Check,{className:"check-side-by-side",type:"checkbox",label:"Weekly",checked:b.weekly,onChange:function(e){var a=e.target.checked;g(a?function(e){return Object(V.a)(Object(V.a)({},e),{},{weekly:a,daily:!a,endOfYear:!a})}:function(e){return Object(V.a)(Object(V.a)({},e),{},{weekly:a})})}}),l.a.createElement(J.a.Check,{className:"check-side-by-side",type:"checkbox",label:"End of Year (Weekly)",checked:b.endOfYear,onChange:function(e){var a=e.target.checked;a?(g((function(e){return Object(V.a)(Object(V.a)({},e),{},{endOfYear:a,daily:!a,weekly:!a})})),function(){var e=la()(),a=la()();if(a.month()>6){var t=la()("31/07/"+a.year(),"DD/MM/YYYY");t.add(1,"y"),e=la()(t,"DD/MM/YYYY")}else{var n=la()("31/07/"+a.year(),"DD/MM/YYYY");e=la()(n,"DD/MM/YYYY")}g((function(a){return Object(V.a)(Object(V.a)({},a),{},{untilDate:new Date(e)})}))}()):g((function(e){return Object(V.a)(Object(V.a)({},e),{},{endOfYear:a})}))}}))),l.a.createElement(O.a,null,l.a.createElement(A.a,null),l.a.createElement(A.a,null,l.a.createElement(J.a.Group,null,"Until:",l.a.createElement("br",null),l.a.createElement(Qa.a,{dateFormat:"dd/MM/yyyy",selected:new Date(b.untilDate),onChange:function(e){g((function(a){return Object(V.a)(Object(V.a)({},a),{},{untilDate:e})}))}}))))):null,l.a.createElement("div",{className:"add-button"},l.a.createElement(L.a,{variant:"primary",onClick:function(){if(la()(),"Users"==b.user)v({heading:"Booking",message:"Please select an user",open:!0});else if("Departments"==b.department)v({heading:"Booking",message:"Please select a department",open:!0});else if("Length"==b.sessionLength)v({heading:"Booking",message:"Please select a session length",open:!0});else if(""==b.sessDes)v({heading:"Booking",message:"Please put a class",open:!0});else if(b.repeat)if(b.daily||b.weekly||b.endOfYear){var e=la()(b.untilDate,"DD/MM/YYYY"),a=la()(i.date,"DD/MM/YYYY");if(e.isSameOrBefore(a))v({heading:"Booking",message:"Please select a date after the selected booking date",open:!0});else{var t=la()(i.date,"DD/MM/YYYY");t.add(2,"y"),e.isAfter(t)?v({heading:"Booking",message:"You cannot repeat a booking for more than two years.",open:!0}):C()}}else v({heading:"Booking",message:"Please select a repeat method",open:!0});else C()}},"Book"))))),l.a.createElement(A.a,null)))),l.a.createElement(z.a,{show:h.open,onHide:T},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,h.heading)),l.a.createElement(z.a.Body,null,h.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:T},"Close"))),l.a.createElement(z.a,{show:j.open,onHide:N},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,"Booking Error!")),l.a.createElement(z.a.Body,null,"I am very sorry but you have run into an error.",l.a.createElement("br",null),l.a.createElement("br",null),"Please inform the Senior Admin of your organisation's account on My-STAFF.co.uk ",l.a.createElement("br",null)," ",l.a.createElement("br",null),l.a.createElement("strong",null,"Week System"),l.a.createElement("br",null),l.a.createElement("br",null),"If you have the week system enabled, please make sure that all weeks are assigned to a title.",l.a.createElement("br",null)," ",l.a.createElement("br",null)),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:N},"Close"))))};function $a(e,a){e({type:"MAIN_UPDATE_ORGANISATIONS",value:a})}var et=function(e){var a=Object(u.b)(),t=Object(n.useState)({open:!1,heading:"",message:"",acceptFunction:"",acceptName:"",showAccept:!1,cancelName:"",showCancel:!1}),r=Object(c.a)(t,2),o=r[0],i=r[1];function m(){i((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function d(){f((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}var E=Object(n.useState)({open:!1,heading:"",message:""}),b=Object(c.a)(E,2),g=b[0],f=b[1],p=Object(n.useState)({open:!1,orgName:"",orgID:"",allocatedRooms:0,redeemedRooms:0,newAllocation:0,inputNumber:0,updateBtn:!1}),h=Object(c.a)(p,2),v=h[0],y=h[1];function k(){y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1})}))}function j(e,a,t){var n={email:a};s.a.post("/organisation/getSALoginMethod",n).then((function(n){var l,r=n.data.method;"local"==r?l="google":"google"==r&&(l="local"),i({heading:"Change Login Method",message:e+"'s login method is "+r+". Are you sure you want to change it to a "+l+" method?",acceptName:"Yes",acceptFunction:function(){!function(e,a,t){i({open:!1});var n={email:e,method:a,orgID:t};s.a.post("/organisation/changeASLoginMethod",n).then((function(e){"Strategy Updated"==e.data.message&&f({heading:"Change Login Method",message:"This user's login method has now been changed",open:!0})})).catch((function(e){console.log(e)}))}(a,l,t)},showAccept:!0,cancelName:"No",showCancel:!0,open:!0})})).catch((function(e){console.log(e)}))}function D(e){if(""==v.inputNumber)f({heading:"Rooms",message:"Please enter the number of rooms",open:!0});else if("plus"==e){var a=v.allocatedRooms+parseInt(v.inputNumber),t=!1;a!=v.allocatedRooms&&(t=!0),y((function(e){return Object(V.a)(Object(V.a)({},e),{},{newAllocation:a,inputNumber:"",updateBtn:t})}))}else if("minus"==e){var n=v.allocatedRooms-parseInt(v.inputNumber);if(n<v.redeemedRooms)f({heading:"Rooms",message:"You cannot decrease the allocation lower than the redeemed rooms",open:!0});else if(n<1)f({heading:"Rooms",message:"Invalid Data: You cannot have a minus number for the allocation of rooms",open:!0});else{var l=!1;n!=v.allocatedRooms&&(l=!0),y((function(e){return Object(V.a)(Object(V.a)({},e),{},{newAllocation:n,inputNumber:"",updateBtn:l})}))}}}return l.a.createElement("div",null,l.a.createElement($.a,{body:!0,className:"Organisations-ListBox"},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("label",null,e.name)),l.a.createElement(A.a,null,l.a.createElement("label",null,e.email)),l.a.createElement(A.a,null,l.a.createElement("label",null,e.poc)),l.a.createElement(A.a,null,l.a.createElement("label",null,e.orgID)),l.a.createElement(A.a,null,l.a.createElement(_.a,null,l.a.createElement(_.a.Toggle,{variant:"primary"},"More"),l.a.createElement(_.a.Menu,null,l.a.createElement(_.a.Item,{onClick:function(){j(e.poc,e.email,e.orgID)}},"Change Login Method"),l.a.createElement(_.a.Item,{onClick:function(){var a,t,n,l;a=e.name,t=e.orgID,n=e.allocatedRooms,l=e.redeemedRooms,y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!0,orgName:a,orgID:t,allocatedRooms:n,redeemedRooms:l,inputNumber:"",newAllocation:""})}))}},"Rooms")))))),l.a.createElement(z.a,{show:g.open,onHide:d},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,g.heading)),l.a.createElement(z.a.Body,null,g.message),l.a.createElement(z.a.Footer,null,l.a.createElement(L.a,{variant:"primary",onClick:d},"Close"))),l.a.createElement(z.a,{show:o.open,onHide:m},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,o.heading)),l.a.createElement(z.a.Body,null,o.message),l.a.createElement(z.a.Footer,null,o.showAccept?l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:o.acceptFunction},o.acceptName)):null,o.showCancel?l.a.createElement("div",null,l.a.createElement(L.a,{variant:"primary",onClick:m},o.cancelName)):null)),l.a.createElement(z.a,{show:v.open,onHide:k,centered:!0},l.a.createElement(z.a.Header,{closeButton:!0},l.a.createElement(z.a.Title,null,"Rooms")),l.a.createElement(z.a.Body,null,l.a.createElement(H.a,null,l.a.createElement(O.a,null,"Update the Allocated Rooms in ",v.orgName),l.a.createElement("br",null),l.a.createElement(O.a,null,l.a.createElement(A.a,null,"Allocated Rooms: ",v.allocatedRooms," ",l.a.createElement("br",null),"Redeemed Rooms: ",v.redeemedRooms,l.a.createElement("br",null),l.a.createElement("br",null),"New Allocation: ",v.newAllocation),l.a.createElement(A.a,null,l.a.createElement("strong",null,"Edit Rooms:"),l.a.createElement(J.a.Control,{onKeyPress:function(e){var a=String.fromCharCode(e.which);/[0-9]/.test(a)||e.preventDefault()},onChange:function(e){var a=e.target.value;y((function(e){return Object(V.a)(Object(V.a)({},e),{},{inputNumber:a})}))},value:v.inputNumber}),l.a.createElement(L.a,{onClick:function(){D("plus")}},"+"),l.a.createElement(L.a,{onClick:function(){D("minus")}},"-"))))),l.a.createElement(z.a.Footer,null,v.updateBtn?l.a.createElement(L.a,{variant:"primary",onClick:function(){var e={orgID:v.orgID,newAllocation:v.newAllocation};s.a.post("/organisation/updateAlocatedRooms",e).then((function(e){"Updated room allocation"==e.data.message&&($a(a,e.data.organisations),y((function(e){return Object(V.a)(Object(V.a)({},e),{},{open:!1,updateBtn:!1})})),f({heading:"Rooms",message:"Updated room allocation!",open:!0}))})).catch((function(e){console.log(e)}))}},"Update"):null,l.a.createElement(L.a,{variant:"primary",onClick:k},"Close"))))};var at=function(){var e=Object(u.c)((function(e){return e.MainAdminGlobalSettings})),a=Object(D.f)(),t=Object(u.b)(),r=Object(n.useState)(!1),o=Object(c.a)(r,2),i=o[0],m=o[1];return Object(n.useEffect)((function(){s.a.get("/organisation/all").then((function(e){$a(t,e.data),m(!0)})).catch((function(e){console.log(e)}))}),[]),l.a.createElement("div",null,l.a.createElement("div",{className:"AH-AddOrganisationBtn"},l.a.createElement(L.a,{variant:"warning",onClick:function(){return a.push("/administrator/organisationRegister")}},"Add Organisation")),l.a.createElement("br",null),i?l.a.createElement("div",null,l.a.createElement($.a,{body:!0,className:"Organisations-ListTitles"},l.a.createElement(O.a,null,l.a.createElement(A.a,null,l.a.createElement("label",null,"Name")),l.a.createElement(A.a,null,l.a.createElement("label",null,"Email")),l.a.createElement(A.a,null,l.a.createElement("label",null,"Point of Contact")),l.a.createElement(A.a,null,l.a.createElement("label",null,"Org ID")),l.a.createElement(A.a,null))),l.a.createElement("br",null),e.organisations.map((function(e,a){return l.a.createElement("div",{key:a},l.a.createElement(et,{name:e.name,email:e.POC_Email,poc:e.POC_Name,orgID:e.orgID,allocatedRooms:e.allocatedRooms,redeemedRooms:e.redeemedRooms}),l.a.createElement("br",null))}))):l.a.createElement("div",null))};var tt=function(){var e=Object(D.f)(),a=Object(u.c)((function(e){return e.user}));return console.log("viewed..."),a.auth&&"superAdmin"==a.role||e.push("/administrator/signIn"),Object(n.useEffect)((function(){document.title="STAFF - Administrator"}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{fluid:!0,className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement(at,null))))};var nt=function(){var e=Object(n.useState)(!0),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(u.c)((function(e){return e.user})),i=Object(D.f)();return Object(n.useEffect)((function(){j(),o.auth&&("superAdmin"==o.role?i.push("/"):r(!1))}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,"Administrator Sign In"),t?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(L.a,{variant:"dark",href:k+"/auth/github"},l.a.createElement("i",{className:"fab fa-github"}),"  Log in with Github"),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",null,l.a.createElement("h1",null,"Access Denied"),l.a.createElement(L.a,{variant:"warning",href:"/"},"Back to Home "),l.a.createElement("br",null),l.a.createElement("br",null)))))};var lt=function(){var e=Object(n.useState)(""),a=Object(c.a)(e,2),t=a[0],r=a[1],o=Object(D.f)();return Object(n.useEffect)((function(){document.title="STAFF - Administrator"}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(H.a,{className:"p-3"},l.a.createElement(K.a,{className:"back-color"},l.a.createElement("h1",null,"Organisation Register"),l.a.createElement(J.a,{className:"A-AddOrganisationText"},l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Label,{id:"lblOrgName"},"Organisation Name:"),l.a.createElement("br",null),l.a.createElement(J.a.Control,{id:"txtOrgName",type:"text",required:!0})),l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Label,{id:"lblAlRooms"},"Allocated Rooms:"),l.a.createElement("br",null),l.a.createElement(J.a.Control,{id:"txtAlRooms",type:"text",onKeyPress:function(e){var a=String.fromCharCode(e.which);/[0-9]/.test(a)||e.preventDefault()},required:!0}))),l.a.createElement(J.a.Label,{id:"lblAuthTypes"},"Types of Authencation:"),l.a.createElement("br",null),l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Check,{id:"ckbLocal",type:"checkbox",label:"Local Login"})),l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Check,{id:"ckbGoggle",type:"checkbox",label:"Google Login"}))),l.a.createElement(J.a.Label,{className:"A-AddOrganisationTextColor",id:"lblPOC"},"Point of Contact (Senior Admin):"),l.a.createElement("br",null),l.a.createElement(J.a.Row,null,l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Label,{id:"lblName"},"Name:"),l.a.createElement("br",null),l.a.createElement(J.a.Control,{id:"txtName",type:"text",required:!0})),l.a.createElement(J.a.Group,{as:A.a},l.a.createElement(J.a.Label,{id:"lblEmail"},"Email:"),l.a.createElement("br",null),l.a.createElement(J.a.Control,{id:"txtEmail",type:"text",required:!0}))),l.a.createElement("p",null,t),l.a.createElement(L.a,{type:"submit",onClick:function(e){e.preventDefault();var a=document.getElementById("txtOrgName").value,t=document.getElementById("txtAlRooms").value,n=document.getElementById("ckbLocal").checked,l=document.getElementById("ckbGoggle").checked,c=document.getElementById("txtName").value,i=document.getElementById("txtEmail").value,u={orgName:a,orgRooms:t,authLocal:n.toString(),authGoogle:l.toString(),pName:c,pEmail:i};s.a.post("/administrator/addOrganisation",u).then((function(e){var a=e.data;"null"!=a.error?console.log(a.message):"Yes"==a.userError?r(a.message):"Successfully added"==a.message&&o.push("/administrator")})).catch((function(e){console.log(e)}))},variant:"warning"},"Register")))))},rt=t(20);var ot=function(){var e=Object(u.b)(),a=Object(n.useState)(!1),t=Object(c.a)(a,2),r=t[0],o=t[1];return Object(n.useEffect)((function(){s.a.get("/auth",{withCredentials:!0}).then((function(a){console.log(a.data);var t=a.data.auth;e(m(t)),t&&("superAdmin"==a.data.role?(e(E("High-ViewStudios")),e(b("superAdmin"))):(e(d(a.data.user.uuid)),e(E(a.data.user.displayName)),e(b(a.data.user.role)),e(g(a.data.user.new)),e(f(a.data.user.requestedPassword)),e(p(a.data.user.orgID)),e(h(a.data.user.departments)),e(v(a.data.user.SARequest)),e({type:"USER_UPDATE_PROFILES",value:a.data.user.userProfiles}))),o(!0)})).catch((function(e){console.log("Authe"+e)}))}),[]),l.a.createElement("div",null,r?l.a.createElement(rt.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(y,null),l.a.createElement(M,null),l.a.createElement(D.c,null,l.a.createElement(D.a,{path:"/",exact:!0,component:Oe})," ",l.a.createElement(D.a,{path:"/administrator",exact:!0,component:tt})," ",l.a.createElement(D.a,{path:"/administrator/signIn",component:nt})," ",l.a.createElement(D.a,{path:"/administrator/organisationRegister",component:lt}),l.a.createElement(D.a,{path:"/org/:id",exact:!0,component:Xa}),l.a.createElement(D.a,{path:"/org/:id/collisionBookings",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/organisationAdmin",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/signIn",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/forgotPassword",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/changePassword",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/changeOfSeniorRequest",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/createPassword",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/wrongOrganisation",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/userDetails",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/profileSettings",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/organisationNotFound",component:Xa}),l.a.createElement(D.a,{path:"/org/:id/book",component:Za}),l.a.createElement(D.a,{path:"/org/:id/wrongLogin/",component:ke}),l.a.createElement(D.a,{path:"/notConnected",component:Ae})))):l.a.createElement("div",null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ct=t(68),it=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{auth:!1,uuid:"",name:"",email:"",role:"",new:"",requestedPassword:!1,orgID:"",userDepartments:"",SARequest:"",profiles:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"USER_UPDATE_AUTH":return Object(V.a)(Object(V.a)({},e),{},{auth:a.value});case"USER_UPDATE_UUID":return Object(V.a)(Object(V.a)({},e),{},{uuid:a.value});case"USER_UPDATE_NAME":return Object(V.a)(Object(V.a)({},e),{},{name:a.value});case"USER_UPDATE_EMAIL":return Object(V.a)(Object(V.a)({},e),{},{email:a.value});case"USER_UPDATE_ROLE":return Object(V.a)(Object(V.a)({},e),{},{role:a.value});case"USER_UPDATE_NEW":return Object(V.a)(Object(V.a)({},e),{},{new:a.value});case"USER_UPDATE_REQUESTEDPASSWORD":return Object(V.a)(Object(V.a)({},e),{},{requestedPassword:a.value});case"USER_UPDATE_ORGID":return Object(V.a)(Object(V.a)({},e),{},{orgID:a.value});case"USER_UPDATE_USERDEPARTMENTS":return Object(V.a)(Object(V.a)({},e),{},{userDepartments:a.value});case"USER_UPDATE_SAREQUEST":return Object(V.a)(Object(V.a)({},e),{},{SARequest:a.value});case"USER_UPDATE_PROFILES":return Object(V.a)(Object(V.a)({},e),{},{profiles:a.value});default:return e}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{name:"",signInLocal:!1,signInGoogle:!1,message:"",useDepartments:!1,noOfDepartments:"",departments:[],allocatedRooms:0,redeemedRooms:0,rooms:[],layouts:[],holidays:[],locked:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"ORG_UPDATE_NAME":return Object(V.a)(Object(V.a)({},e),{},{name:a.value});case"ORG_UPDATE_SIGNIN_LOCAL":return Object(V.a)(Object(V.a)({},e),{},{signInLocal:a.value});case"ORG_UPDATE_SIGNIN_GOOGLE":return Object(V.a)(Object(V.a)({},e),{},{signInGoogle:a.value});case"ORG_UPDATE_MESSAGE":return Object(V.a)(Object(V.a)({},e),{},{message:a.value});case"ORG_UPDATE_USEDEPARTMENTS":return Object(V.a)(Object(V.a)({},e),{},{useDepartments:a.value});case"ORG_UPDATE_NOOFDEPARTMENTS":return Object(V.a)(Object(V.a)({},e),{},{noOfDepartments:a.value});case"ORG_UPDATE_DEPARTMENTS":return Object(V.a)(Object(V.a)({},e),{},{departments:a.value});case"ORG_UPDATE_ALLOCATEDROOMS":return Object(V.a)(Object(V.a)({},e),{},{allocatedRooms:a.value});case"ORG_UPDATE_REDEEMEDROOMS":return Object(V.a)(Object(V.a)({},e),{},{redeemedRooms:a.value});case"ORG_UPDATE_ROOMS":return Object(V.a)(Object(V.a)({},e),{},{rooms:a.value});case"ORG_UPDATE_LAYOUTS":return Object(V.a)(Object(V.a)({},e),{},{layouts:a.value});case"ORG_UPDATE_HOLIDAYS":return Object(V.a)(Object(V.a)({},e),{},{holidays:a.value});case"ORG_UPDATE_LOCKED":return Object(V.a)(Object(V.a)({},e),{},{locked:a.value});default:return e}},ut=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{roomName:"",roomID:"",sessionID:"",sessionLabel:"",date:"",weekBeginDate:"",totalSessions:0,dayList:[],layoutData:{},weekSystem:!1,weekUUID:"",collideBookingsUpdate:!1,startTime:"",finishTime:"",timeInterval:"",forceSignIn:!1,fromSignIn:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_ROOM_NAME":return Object(V.a)(Object(V.a)({},e),{},{roomName:a.value});case"UPDATE_ROOM_ID":return Object(V.a)(Object(V.a)({},e),{},{roomID:a.value});case"UPDATE_ROOM_LAYOUT_DATA":return Object(V.a)(Object(V.a)({},e),{},{layoutData:a.value});case"UPDATE_ROOM_SESSION_ID":return Object(V.a)(Object(V.a)({},e),{},{sessionID:a.value});case"UPDATE_ROOM_SESSION_LABEL":return Object(V.a)(Object(V.a)({},e),{},{sessionLabel:a.value});case"UPDATE_ROOM_DATE":return Object(V.a)(Object(V.a)({},e),{},{date:a.value});case"UPDATE_ROOM_WEEK_BEGIN":return Object(V.a)(Object(V.a)({},e),{},{weekBeginDate:a.value});case"UPDATE_ROOM_TOTAL_SESSIONS":return Object(V.a)(Object(V.a)({},e),{},{totalSessions:a.value});case"UPDATE_ROOM_DAY_LIST":return Object(V.a)(Object(V.a)({},e),{},{dayList:a.value});case"UPDATE_ROOM_WEEK_SYSTEM":return Object(V.a)(Object(V.a)({},e),{},{weekSystem:a.value});case"UPDATE_ROOM_WEEK_UUID":return Object(V.a)(Object(V.a)({},e),{},{weekUUID:a.value});case"UPDATE_FORCE_COLLIDED_BOOKINGS":return Object(V.a)(Object(V.a)({},e),{},{collideBookingsUpdate:a.value});case"UPDATE_DIARY_START_TIME":return Object(V.a)(Object(V.a)({},e),{},{startTime:a.value});case"UPDATE_DIARY_FINISH_TIME":return Object(V.a)(Object(V.a)({},e),{},{finishTime:a.value});case"UPDATE_DIARY_TIME_INTERVAL":return Object(V.a)(Object(V.a)({},e),{},{timeInterval:a.value});case"UPDATE_FORCE_SIGNIN":return Object(V.a)(Object(V.a)({},e),{},{forceSignIn:a.value});case"UPDATE_FROM_SIGNIN":return Object(V.a)(Object(V.a)({},e),{},{fromSignIn:a.value});default:return e}},mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{editBooking:!1,bookingID:0,user:"",department:"",sessionDes:"",sessionLength:"",bookingType:"",bookingUntil:"",comments:"",createdBy:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_EDIT_BOOKING":return Object(V.a)(Object(V.a)({},e),{},{editBooking:a.value});case"UPDATE_BOOKING_ID":return Object(V.a)(Object(V.a)({},e),{},{bookingID:a.value});case"UPDATE_BOOKING_USER":return Object(V.a)(Object(V.a)({},e),{},{user:a.value});case"UPDATE_BOOKING_DEPARTMENT":return Object(V.a)(Object(V.a)({},e),{},{department:a.value});case"UPDATE_BOOKING_SESSIONDES":return Object(V.a)(Object(V.a)({},e),{},{sessionDes:a.value});case"UPDATE_BOOKING_SESSIONLENGTH":return Object(V.a)(Object(V.a)({},e),{},{sessionLength:a.value});case"UPDATE_BOOKING_BOOKINGTYPE":return Object(V.a)(Object(V.a)({},e),{},{bookingType:a.value});case"UPDATE_BOOKING_BOOKINGUNTIL":return Object(V.a)(Object(V.a)({},e),{},{bookingUntil:a.value});case"UPDATE_BOOKING_COMMENTS":return Object(V.a)(Object(V.a)({},e),{},{comments:a.value});case"UPDATE_BOOKING_CREATEDBY":return Object(V.a)(Object(V.a)({},e),{},{createdBy:a.value});default:return e}},dt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{default:!1,rooms:[],room_View:!1,room_Write:!1,room_Edit:!1,room_Delete:!1,room_Repeat:!1,viewAllUsers:!1,viewAllDepartments:!1,orgAdminAccess:!1,admin_loginSettings:!1,admin_departments:!1,admin_users:!1,admin_rooms:!1,admin_layouts:!1,admin_weekSystemHolidays:!1,admin_userProfiles:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPUPDATE_DEFAULT":return Object(V.a)(Object(V.a)({},e),{},{default:a.value});case"UPUPDATE_ROOMS":return Object(V.a)(Object(V.a)({},e),{},{rooms:a.value});case"UPUPDATE_ROOM_VIEW":return Object(V.a)(Object(V.a)({},e),{},{room_View:a.value});case"UPUPDATE_ROOM_WRITE":return Object(V.a)(Object(V.a)({},e),{},{room_Write:a.value});case"UPUPDATE_ROOM_EDIT":return Object(V.a)(Object(V.a)({},e),{},{room_Edit:a.value});case"UPUPDATE_ROOM_DELETE":return Object(V.a)(Object(V.a)({},e),{},{room_Delete:a.value});case"UPUPDATE_ROOM_REPEAT":return Object(V.a)(Object(V.a)({},e),{},{room_Repeat:a.value});case"UPUPDATE_VIEWALLUSERS":return Object(V.a)(Object(V.a)({},e),{},{viewAllUsers:a.value});case"UPUPDATE_VIEWALLDEPARTMENTS":return Object(V.a)(Object(V.a)({},e),{},{viewAllDepartments:a.value});case"UPUPDATE_ORGADMINACCESS":return Object(V.a)(Object(V.a)({},e),{},{orgAdminAccess:a.value});case"UPUPDATE_ADMIN_LOGINSETTINGS":return Object(V.a)(Object(V.a)({},e),{},{admin_loginSettings:a.value});case"UPUPDATE_ADMIN_DEPARTMENTS":return Object(V.a)(Object(V.a)({},e),{},{admin_departments:a.value});case"UPUPDATE_ADMIN_USERS":return Object(V.a)(Object(V.a)({},e),{},{admin_users:a.value});case"UPUPDATE_ADMIN_ROOMS":return Object(V.a)(Object(V.a)({},e),{},{admin_rooms:a.value});case"UPUPDATE_ADMIN_LAYOUTS":return Object(V.a)(Object(V.a)({},e),{},{admin_layouta:a.value});case"UPUPDATE_ADMIN_WEEKSYSTEMHOLIDAYS":return Object(V.a)(Object(V.a)({},e),{},{admin_weekSystemHolidays:a.value});case"UPUPDATE_ADMIN_USERPROFILES":return Object(V.a)(Object(V.a)({},e),{},{admin_userProfiles:a.value});default:return e}},Et=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{tab:"home",formSent:!1,dataError:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_TAB":return Object(V.a)(Object(V.a)({},e),{},{tab:a.value});case"UPDATE_FORMSENT":return Object(V.a)(Object(V.a)({},e),{},{formSent:a.value});case"UPDATE_DATAERROR":return Object(V.a)(Object(V.a)({},e),{},{dataError:a.value});default:return e}},bt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{sessions:{},order:[],breakBtns:{view:!1,breakID:""}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_SESSIONS":return Object(V.a)(Object(V.a)({},e),{},{sessions:a.value});case"UPDATE_ORDER":return Object(V.a)(Object(V.a)({},e),{},{order:a.value});case"UPDATE_BREAKBTNS":return Object(V.a)(Object(V.a)({},e),{},{breakBtns:a.value});default:return e}},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{settings:{viewAllUsers:!1,viewAllDepartments:!1,orgAdminAccess:!1,admin_loginSettings:!1,admin_departments:!1,admin_users:!1,admin_rooms:!1,admin_layouts:!1,admin_weekSystemHolidays:!1,admin_userProfiles:!1}},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MODIFY_SETTINGS":return Object(V.a)(Object(V.a)({},e),{},{settings:a.value});default:return e}},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{uuid:"",name:""},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_ADMINP_UUID":return Object(V.a)(Object(V.a)({},e),{},{uuid:a.value});case"UPDATE_ADMINP_NAME":return Object(V.a)(Object(V.a)({},e),{},{name:a.value});default:return e}},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{uuid:0,fromDetails:!1},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"UPDATE_ADMINU_UUID":return Object(V.a)(Object(V.a)({},e),{},{uuid:a.value});case"UPDATE_ADMINU_FROMDETAILS":return Object(V.a)(Object(V.a)({},e),{},{fromDetails:a.value});default:return e}},ht=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{organisations:[]},a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"MAIN_UPDATE_ORGANISATIONS":return Object(V.a)(Object(V.a)({},e),{},{organisations:a.value});default:return e}},vt=Object(ct.b)({user:it,organisation:st,globalVars:ut,bookings:mt,userProfile:dt,HomePageGlobalSettings:Et,AdminLayoutsGlobalSettings:bt,UserProfileAdminGlobalSettings:gt,AdminProfileGlobalSettings:ft,AdminUserGlobalSettings:pt,MainAdminGlobalSettings:ht}),yt=Object(ct.c)(vt,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(l.a.createElement(u.a,{store:yt},l.a.createElement(ot,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[229,1,2]]]);
//# sourceMappingURL=main.c0fb2c36.chunk.js.map