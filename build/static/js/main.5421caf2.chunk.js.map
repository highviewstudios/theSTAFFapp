{"version":3,"sources":["public/images/help.png","public/images/screen-timetable.png","public/images/screen-diary.png","public/images/icons/users.png","public/images/icons/departments.png","public/images/icons/rooms.png","public/images/icons/layouts.png","public/images/icons/weekSystemHolidays.png","public/images/icons/userProfiles.png","public/images/icons/admin.png","public/images/plus.png","public/images/minus.png","store/actions/user.js","components/NavBar/betaBanner.js","ServerPath.jsx","store/actions/bookings.js","components/NavBar/userNav.js","components/NavBar/Nav.js","globalSettings/homePageSettings.js","store/actions/globalSettings/homePageGlobalSettings.js","components/pages/windowSize.js","pages/homeComponents/orgNumberSignIn.js","pages/homeComponents/homePage.js","pages/homeComponents/features.js","pages/homeComponents/contact.js","pages/home.js","pages/notConnected.js","pages/wrongLogin.js","store/actions/organistion.js","store/actions/userProfile.js","store/actions/globalSettings/userProfileAdminGlobalSettings.js","store/actions/globalVars.js","components/pages/organisationHome/timetable.js","components/pages/organisationHome/diary.js","pages/organisationHome.js","globalSettings/userProfileSettings.js","components/pages/organisationAdmin/collides_bookingSlot.js","components/pages/organisationAdmin/collides_collideSlot.js","pages/orgAdminComponets/collisionBookings.js","pages/orgAdminComponets/changeOfSeniorRequest.js","pages/orgAdminComponets/userDetails.js","pages/forgotPassword.js","pages/changePassword.js","pages/createPassword.js","pages/wrongOrganisation.js","pages/orgAdminComponets/loginSettings.js","pages/orgAdminComponets/departmentSettings.js","globalSettings/adminUserSettings.js","store/actions/globalSettings/adminUserGlobalSettings.js","pages/orgAdminComponets/users.js","pages/orgAdminComponets/rooms.js","store/actions/globalSettings/adminLayoutsGlobalSettings.js","globalSettings/adminLayoutsSettings.js","pages/orgAdminComponets/sessionSlot.js","pages/orgAdminComponets/breakSlot.js","pages/orgAdminComponets/layoutSettings.js","pages/orgAdminComponets/weekSystemHolidays.js","pages/orgAdminComponets/userProfiles.js","globalSettings/adminProfileSettings.js","store/actions/globalSettings/adminProfileGlobalSettings.js","pages/organisationAdmin.js","pages/orgAdminComponets/profileSettings.js","pages/signIn.js","pages/organisationRouter.js","pages/book.js","globalSettings/mainAdminSettings.js","store/actions/globalSettings/mainAdminGlobalSettings.js","components/pages/administrator/organisationItem.js","components/pages/administrator/organisationList.js","pages/administrator/home.js","pages/administrator/signIn.jsx","pages/administrator/registerOrganisation.js","pages/organisationNotFound.js","App.js","serviceWorker.js","store/reducers/userDetails.js","store/reducers/organisationDetails.js","store/reducers/globalVars.js","store/reducers/bookings.js","store/reducers/userProfile.js","store/reducers/globalSettings/homePageGlobalSettings.js","store/reducers/globalSettings/adminLayoutsGlobalSettings.js","store/reducers/globalSettings/userProfileAdminGlobalSettings.js","store/reducers/globalSettings/adminProfileGlobalSettings.js","store/reducers/globalSettings/adminUserGlobalSettings.js","store/reducers/globalSettings/mainAdminGlobalSettings.js","store/reducers/index.js","index.js"],"names":["module","exports","userUpdateAuth","val","type","value","userUpdateUUID","userUpdateName","userUpdateRole","userUpdateNew","userUpdateRequestedPassword","userUpdateOrgID","userUpdateUserDepartments","userUpdateSARequest","BetaBanner","className","hostPath","BuildHostPath","host","window","location","hostname","protocol","UpdateBookingEdit","UpdateBookingID","UpdateBookingUser","UpdateBookingDepartment","UpdateBookingSessionDes","UpdateBookingSessionLength","UpdateBookingBookingType","UpdateBookingBookingUntil","UpdateBookingComments","UpdateBookingCreatedBy","User","history","useHistory","user","useSelector","state","userProfile","dispatch","useDispatch","useState","name","show","details","setDetails","logOut","Axios","get","then","res","console","log","data","message","page","role","orgID","push","catch","err","useEffect","ServerPath","auth","orgAdminAccess","Dropdown","Toggle","variant","id","Button","onClick","Menu","Item","Nav","Row","Col","href","UpdateTab","tab","UpdateFormSettings","sent","UpdateDataErrorSetting","useWindowSize","innerHeight","innerWidth","size","setSize","handleResize","addEventListener","removeEventListener","OrgNumberSignIn","globalVars","open","heading","modal","setModal","handleModalClose","prevState","Form","Control","onKeyPress","event","char","String","fromCharCode","which","test","preventDefault","number","document","getElementById","axios","post","error","dataError","Modal","onHide","Header","closeButton","Title","Body","Footer","HomePage","windowWidth","onClickContact","Image","src","screenTimetable","screenDiary","Card","Features","usersIcon","departmentsIcon","roomsIcon","layoutsIcon","weekSystemIcon","userProfilesIcon","adminIcon","Contact","HomePageGlobalSettings","sm","formSent","Group","Label","required","as","rows","email","subject","Home","changeTab","title","Container","fluid","Jumbotron","Navbar","Link","NotConnected","WrongLogin","props","organisationID","match","params","orgUpdateSignInLocal","orgUpdateSignInGoogle","orgUpdateMessage","orgUpdateUseDepartments","orgUpdateNoOfDepartments","orgUpdateDepartments","orgUpdateRedeemedRooms","orgUpdateRooms","orgUpdateHolidays","orgUpdateLocked","UPUpdateRoom_View","UPUpdateRoom_Write","UPUpdateRoom_Delete","UPUpdateRoom_Repeat","UPUpdateViewAllUsers","UPUpdateViewAllDepartments","UPUpdateOrgAdminAccess","ModifySettings","UpdateRoomName","UpdateRoomID","UpdateRoomLayoutData","UpdateRoomSessionID","UpdateRoomSessionLabel","UpdateRoomDate","UpdateRoomWeekBegin","UpdateRoomDayList","UpdateRoomWeekSystem","UpdateRoomWeekUUID","CollideBookingsForceUpdate","UpdateForceSignIn","UpdateFromSignIn","Timetable","organisation","dayNames","slotClass","dayClass","dates","weekSlot","dayIndex","holiday","weekSystemUUID","settings","setSettings","days","order","sessions","sessionTotal","layout","setLayout","BuildDataSlots","weekBg","weekBG","moment","slot","department","formatString","week","format","i","sess","day","add","mySQLData","room","roomID","recievedData","bookings","CheckHoliday","date","holidayTitle","holidays","weeks","includes","titleUUID","weekSystem","time","toString","replace","length","handleBookClick","target","IDs","split","roomName","layoutData","breakText","customText","handleEditBooking","uuid","booking","GetDepartment","departmentID","sessionDes","bookingType","repeatType","repeatUntil","comments","createdBy","RebuildDates","firstDate","departments","layoutDays","newSessions","sessionOrder","layoutUUID","session","totalDays","weekBeginDate","today","startOf","entries","index","FindWeekBegin","FindDayIndex","setup","newDate","subtract","thisWeek","width","border","map","key","style","backgroundColor","bgColor","color","textColor","Object","keys","locked","data-tip","hoverText","ReactTooltip","rebuild","Dairy","times","startTime","finishTime","interval","timeInterval","sTime","fTime","ti","start","finish","isBefore","BuildTimes","weekbegin","UpdateDiaryFinishTime","UpdateDiaryTimeInterval","OrganisationHome","organisationId","orgTitle","orgLocked","roomLayout","view","acceptFunction","acceptName","showAccept","cancelName","showCancel","modalYN","setModalYN","handleModalYNClose","handleRoomDropdownClick","layouts","default","roomUUID","profile","rooms","prop_View","prop_Write","prop_Edit","prop_Delete","prop_Repeat","updateRoomProfileSettings","setTimeout","acceptDelete","bookingID","xs","disabled","editBooking","sessionLength","bookingUntil","room_Delete","Collides_bookingSlot","body","startDate","bookingUUID","collideBookingsUpdate","handleDelete","Collides_collideSlot","collideUUID","CollisionBookings","collides","firstSession","lay","collideUUIDs","bookingCollides","collide","cFirstSession","collideBookings","WorkBookings","onOpen","ChangeOfSeniorRequest","forceSignIn","org","POC_Name","UserDetails","AdminUserGlobalSettings","roles","role_User","role_Admin","role_SeniorAdmin","depToUser","setUser","modalChangeSA","setModalChangeSA","handleModalChangeSAClose","option1Function","option1Name","showOption1","option2Function","option2Name","showOption2","modalTO","setModalTO","handleRadioChange","ConvertIDsToDepartments","userDepartments","departmentArray","dep","handleChange","acceptToChangeToGoogle","method","acceptToChangeToLocal","acceptRemove","displayName","onChange","Check","checked","label","newDep","filter","ListGroup","action","departmentIndex","ConvertDepartmentsToIDs","newMethod","acceptToChangeMethods","newUUID","ForgotPassword","setmessage","setSent","userError","ChangePassword","passwordHelp","setPasswordHelp","oldPassword","newPassword","confirmPassword","requestedPassword","CreatePassword","new","WrongOrganisation","LoginSettings","auth_local","auth_google","save","showSave","loginSettings","setLoginSettings","tour","Shepherd","Tour","defaultStepOtions","classes","scrollTo","useModalOverlay","handleCheckChange","Boolean","addStep","text","attachTo","element","on","buttons","next","minus","plus","preState","signInLocal","signInGoogle","Collapse","in","DepartmentSettings","activeRemove","remove","setRemove","saved","useDepartments","aname","names","setDepartments","check","CheckDepartment","departmentName","noOfDepartments","setFromDetails","Users","fromDetails","getAllOrgUsers","multiAdd","users","edit","editID","onDoubleClick","setGUserID","handleClickedItem_User","Rooms","newAdd","editRoom","yourLayouts","editAdd","weekSystemModal","setWeekSystemModal","checkIfAddRoomsAllowed","allocatedRooms","redeemedRooms","getLayoutName","handleChangeLayout","checkNameExsist","UpdateSessions","UpdateOrder","UpdateBreakBtns","resetSessions","toggleBreakBtns","breakID","SessionSlot","AdminLayoutsGlobalSettings","handleBreakBtns","onFocus","store","obj","updateCustomText","updateHoverText","BreakSlot","property","colorModal","setColorModal","breakBtns","updateBreakText","dialogClassName","onChangeComplete","SetColorInModal","hex","updateBreakColor","Layouts","layoutText","yourLayoutText","currentLayout","breaks","showPreview","timeIntervalLbl","showTimetableSave","showDiarySave","newName","addModal","setAddModal","innerText","loadSettings","forEach","SetSessions","SetOrder","breakTotal","lbl","findIntervalText","handleChangeStartTime","handleChangeFinishTime","handleChangeInterval","parseInt","handleChecked","temp","handlePickLayout","addSession","tempSessions","newOrder","orderIndex","minusSession","addBreak","breID","newID","removeBreak","ID","indexOf","splice","orderMoveUp","orderMoveDown","WeekSystemHolidays","endDate","startDateValue","endDateValue","holidayTitles","addNew","newHoliday","editWeek","editWeekIndex","editTitle","showWeeks","downloadedHolidays","weeksNum","message1","message2","message3","boldMessage","modalLg","setModalLg","modalLock","setModalLock","renameText","renameModal","setRenameModal","holidayTitlesBorder","weeksBorder","datesText","holidayTitlesText","weeksText","weekNums","weekNumsText","help","setHelp","handleModalLgClose","restoreAcceptence","AcceptenceOK","getWeeks","sDate","eDate","handleHolidayTitle","showHelp","startDateString","endDateString","holidayStartDate","holidayEndDate","titles","workDownloadedHolidays","weekNum","BuildWeekNums","dateFormat","selected","Date","deleteInWeeks","MarkNormalAsWeek","MarkWeekAsNormal","weekNo","pop","newWeek","len","ListGroupItem","num","handleWeekClick","findHoliday","holidayWeeks","weeksNo","collidedBookings","bold","UserProfiles","profiles","useProfiles","totalUsers","usersWithoutProfiles","defaultProfile","subMenu","profileUUID","getProfiles","defaultPro","handleCloseModal","handleCloseHelp","newProfileName","createModal","setCreateModal","goToSettings","UpdateName","setIDAndName","levelPriority","level","use","helpImg","noOfUsers","priority","OrganisationAdmin","admin_loginSettings","admin_departments","admin_users","admin_rooms","admin_layouts","admin_weekSystemHolidays","admin_userProfiles","ProfileSettings","UserProfileAdminGlobalSettings","AdminProfileGlobalSettings","viewBtnSize","offsetWidth","writeBtnSize","editBtnSize","deleteBtnSize","repeatBtnSize","loadProfile","userUUID","nonProfileUsers","profileUsers","userHistory","setHistory","admin","tabs","setTabs","userSettingKeys","getProfileUsers","UPRooms","orgRooms","roomObj","write","delete","repeat","exsit","UPRoom","serverSettings","userSettings","setUserSettings","allUsers","nonProfileusers","userProfiles","handleRoomSelectProperty","rms","handleUpdateProfile","usersToUpdate","profileUserCount","handleUserClicked","insertUserHistory","changeTabs","section","settingOnClick","updateSetting","changeAdminSetting","mainAdminSetting","updateAdminSetting","class","viewAllUsers","viewAllDepartments","SignIn","password","SARequest","info","OrganisationRouter","isLoaded","setLoaded","userSettingsKeys","auth_Local","auth_Google","orgUpdateAllocatedRooms","orgUpdateLayouts","userStore","setDefaultAccessLevelSettings","UPUpdateOrgAdmin_loginSettings","UPUpdateOrgAdmin_departments","UPUpdateOrgAdmin_users","UPUpdateOrgAdmin_rooms","UPUpdateOrgAdmin_layouts","UPUpdateOrgAdmin_weekSystemHoldays","UPUpdateOrgAdmin_userProfiles","setUserProfileSettings","fromSignIn","getOrgisation","path","exact","component","userDetails","ChangeofSeniorRequest","Book","userList","departmentList","userID","sessionLengthTitle","showSessionLength","daily","weekly","endOfYear","untilDate","showUserDropdown","sessDes","sessDesTitle","errorMsg","setErrorMsg","handleErrorMsgClose","handleSessionsDropdownItem","handleTextBoxChange","BookSession","sessionID","firstIndex","sessionLabel","toLocaleDateString","weekSysWeeks","weekUUID","finishDate","dayList","depIndex","FetchUserDepartments","FetchUsersAndDepartments","totalSessions","isSameOrBefore","currentDate","room_Repeat","month","year","endOfYearDate","uDate","cDate","isAfter","UpdateOrganisationsSettings","organisations","OrganisationItem","orgName","newAllocation","inputNumber","updateBtn","roomModal","setRoomModal","handleCloseRoomModal","ChangeLoginMethod","roomButtonsOnClick","sum","total","updateShow","poc","centered","OrganisationList","MainAdminGlobalSettings","loaded","POC_Email","granted","setGranted","OrganisationRegister","setMessage","allocatRooms","authLocal","authGoogle","pName","pEmail","OrganisationNotFound","App","withCredentials","isAuth","AdminHome","AdminSignIn","AdminOrgRegister","organisationDetails","room_View","room_Write","room_Edit","admin_layouta","rootReducer","combineReducers","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.5421caf2.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/screen-timetable.40c2b859.png\";","module.exports = __webpack_public_path__ + \"static/media/screen-diary.ae24dccd.png\";","module.exports = __webpack_public_path__ + \"static/media/users.645012b8.png\";","module.exports = __webpack_public_path__ + \"static/media/departments.53665c45.png\";","module.exports = __webpack_public_path__ + \"static/media/rooms.f072eaa7.png\";","module.exports = __webpack_public_path__ + \"static/media/layouts.c2d95bf7.png\";","module.exports = __webpack_public_path__ + \"static/media/weekSystemHolidays.fdb1de8a.png\";","module.exports = __webpack_public_path__ + \"static/media/userProfiles.e0371762.png\";","module.exports = __webpack_public_path__ + \"static/media/admin.53fdf889.png\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADICAYAAAC+j+5qAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAwKADAAQAAAABAAAAyAAAAAB9S3ILAAADRUlEQVR4Ae3cQQqCYBQE4D/xAkH3qaN1tLpP0AXCMqi2A+0cvjaCT8H5nrO0MfwIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQI/Cewmw/341iW03+3u4vAxgSm6fK47a/fp57fL//zuZy/JxwJNAvslnFe8/0KMDWHlY1AElCAJGReLaAA1esVLgkoQBIyrxZQgOr1CpcEFCAJmVcLKED1eoVLAgqQhMyrBRSger3CJQEFSELm1QIKUL1e4ZKAAiQh82oBBaher3BJQAGSkHm1gAJUr1e4JKAASci8WkABqtcrXBJQgCRkXi2gANXrFS4JKEASMq8WUIDq9QqXBOax/k3E50v5dK05ge0LrO/79kNIQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgsCWBF/saEjPJd4SSAAAAAElFTkSuQmCC\"","export const userUpdateAuth = (val) => {\n    return {\n        type: \"USER_UPDATE_AUTH\",\n        value: val\n    };\n}\n\nexport const userUpdateUUID = (val) => {\n    return {\n        type: \"USER_UPDATE_UUID\",\n        value: val\n    };\n}\n\nexport const userUpdateName = (val) => {\n    return {\n        type: \"USER_UPDATE_NAME\",\n        value: val\n    };\n}\n\nexport const userUpdateEmail = (val) => {\n    return {\n        type: \"USER_UPDATE_EMAIL\",\n        value: val\n    };\n}\n\nexport const userUpdateRole = (val) => {\n    return {\n        type: \"USER_UPDATE_ROLE\",\n        value: val\n    };\n}\n\nexport const userUpdateNew = (val) => {\n    return {\n        type: \"USER_UPDATE_NEW\",\n        value: val\n    }\n}\n\nexport const userUpdateRequestedPassword = (val) => {\n    return {\n        type: \"USER_UPDATE_REQUESTEDPASSWORD\",\n        value: val\n    }\n}\n\nexport const userUpdateOrgID = (val) => {\n    return {\n        type: \"USER_UPDATE_ORGID\",\n        value: val\n    }\n}\n\nexport const userUpdateUserDepartments = (val) => {\n    return {\n        type: \"USER_UPDATE_USERDEPARTMENTS\",\n        value: val\n    }\n}\n\nexport const userUpdateSARequest = (val) => {\n    return {\n        type: \"USER_UPDATE_SAREQUEST\",\n        value: val\n    }\n}\n\nexport const userUpdateProfiles = (val) => {\n    return {\n        type: \"USER_UPDATE_PROFILES\",\n        value: val\n    }\n}\n\n","import React from 'react';\n\nfunction BetaBanner() {\n\n    return (\n        <div className='betaBanner'>\n            <p><strong>This website is a beta verison, please expect errors. Any problems, please contact High-View Studios (Shaun Evans)</strong></p>\n        </div>\n    )\n}\n\nexport default BetaBanner;","import React from \"react\";\n\nlet hostPath = \"\";\n\nfunction BuildHostPath() {\n    \n    const host = window.location.hostname;\n    const protocol = window.location.protocol;\n\n    if(host === \"localhost\") {\n        hostPath = protocol + \"//\" + host + \":8080\";\n    } else {\n        hostPath = protocol +\"//\" + host;\n    }  \n}\n\nexport default BuildHostPath;\nexport { hostPath };","export const UpdateBookingEdit = (val) => {\n    return {\n        type: 'UPDATE_EDIT_BOOKING',\n        value: val\n    };\n}\n\nexport const UpdateBookingID = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_ID',\n        value: val\n    };\n}\n\nexport const UpdateBookingUser = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_USER',\n        value: val\n    };\n}\n\nexport const UpdateBookingDepartment = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_DEPARTMENT',\n        value: val\n    };\n}\n\nexport const UpdateBookingSessionDes = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_SESSIONDES',\n        value: val\n    };\n}\n\nexport const UpdateBookingSessionLength = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_SESSIONLENGTH',\n        value: val\n    };\n}\n\nexport const UpdateBookingBookingType = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_BOOKINGTYPE',\n        value: val\n    };\n}\n\nexport const UpdateBookingBookingUntil = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_BOOKINGUNTIL',\n        value: val\n    };\n}\n\nexport const UpdateBookingComments = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_COMMENTS',\n        value: val\n    };\n}\n\nexport const UpdateBookingCreatedBy = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_CREATEDBY',\n        value: val\n    };\n}","import React, { useState, useEffect } from 'react';\nimport ServerPath, { hostPath } from \"../../ServerPath\";\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {userUpdateAuth, userUpdateName, userUpdateRole, userUpdateNew, userUpdateRequestedPassword, userUpdateOrgID, userUpdateUserDepartments} from \"../../store/actions/user\";\nimport { UpdateBookingEdit } from '../../store/actions/bookings';\n\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport Button from \"react-bootstrap/Button\";\n\n\nfunction User() {\n\n    const history = useHistory();\n    const user = useSelector(state => state.user);\n    const userProfile = useSelector(state => state.userProfile)\n    const dispatch = useDispatch();\n    \n    const [details, setDetails] = useState({\n        name: '',\n        show: false\n    });\n    \n    useEffect(() => {\n        ServerPath();\n    },[])\n\n    useEffect(() => {\n        getUser();\n    }, [user]);\n\n    function getUser() {\n\n        //console.log(user);\n        if(user.auth) {\n\n            if(user.role == \"superAdmin\") {\n                setDetails({\n                    name: \"High-View Studios\",\n                    show: true\n                });\n            } else {\n                setDetails({\n                    name: user.name,\n                    show: true\n                });\n            }\n        } else {\n            setDetails({\n                name: '',\n                show: false\n            })\n        }\n    }\n\n    function logOut() {\n        Axios.get(\"/logout\")\n        .then(res => {\n            console.log(res.data.message);\n            if(res.data.message === \"User logged out\") {\n                console.log(user);\n                let page;\n                if(user.role == 'superAdmin') {\n                    page = \"/\";\n                } else {\n                    const orgID = user.orgID;\n                    page = '/org/' + orgID + '/signIn';\n                }\n                dispatch(userUpdateAuth(false));\n                dispatch(userUpdateName(''));\n                dispatch(userUpdateRole(''));\n                dispatch(userUpdateNew(''));\n                dispatch(userUpdateRequestedPassword(false));\n                dispatch(userUpdateUserDepartments([]));\n                dispatch(userUpdateOrgID(''));\n                dispatch(UpdateBookingEdit(false));\n                history.push(page);\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div>\n        {/* <Button variant=\"warning\" onClick={logOut}>Log Out</Button> */}\n        {details.show ? (\n            <div>\n            <strong>User: {details.name}</strong><br />\n            {user.role == \"seniorAdmin\" || userProfile.orgAdminAccess ? (\n                <div>\n                <Dropdown>\n            <Dropdown.Toggle variant=\"warning\" id=\"dropdown-basic\">\n                Page\n            </Dropdown.Toggle><Button variant=\"warning\" onClick={logOut}>Log Out</Button>\n\n            <Dropdown.Menu>\n                <Dropdown.Item onClick={() => history.push('/')}>Organisation Home</Dropdown.Item>\n                <Dropdown.Item onClick={() => history.push('/org/'+ user.orgID +'/organisationAdmin')}>Organisation Admin</Dropdown.Item>\n            </Dropdown.Menu>\n            </Dropdown>\n                </div>) : (\n                    <div>\n                    <Button variant=\"warning\" onClick={logOut}>Log Out</Button>\n                </div>)}\n            \n            </div>\n        ) : (\n            <div>\n            </div>\n        )}   \n        </div>\n        \n    )\n}\n\nexport default User;","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport UserNav from './userNav';\n\nfunction Nav() {\n  return (\n    <nav>\n    <Row>\n    <Col></Col>\n    <Col>\n      <a className='websiteTitle' href='/'>\n        <div className='clickable'>\n        <h1><strong>My STAFF</strong></h1>\n        <h2><strong>Space, Times, Flexible, Facilities</strong></h2>\n        </div>\n      </a>\n    </Col>\n    <Col>\n        <div className=\"user-nav\">\n          <UserNav />\n        </div>\n      </Col>\n      </Row>\n    </nav>\n  );\n}\n\nexport default Nav;","import { UpdateTabSettings, UpdateFromSent, UpdateDataError } from '../store/actions/globalSettings/homePageGlobalSettings';\n\nexport function UpdateTab(dispatch, tab) {\n    dispatch(UpdateTabSettings(tab));\n}\n\nexport function UpdateFormSettings(dispatch, sent) {\n    dispatch(UpdateFromSent(sent));\n}\n\nexport function UpdateDataErrorSetting(dispatch, value) {\n    dispatch(UpdateDataError(value));\n}","export const UpdateTabSettings = (val) => {\n    return {\n        type: 'UPDATE_TAB',\n        value: val\n    };\n}\n\nexport const UpdateFromSent = (val) => {\n    return {\n        type: 'UPDATE_FORMSENT',\n        value: val\n    };\n}\n\nexport const UpdateDataError = (val) => {\n    return {\n        type: 'UPDATE_DATAERROR',\n        value: val\n    };\n}","import {useState, useEffect} from 'react';\n\nfunction useWindowSize() {\n    const [size, setSize] = useState([window.innerHeight, window.innerWidth]);\n    useEffect(() => {\n        const handleResize = () => {\n            setSize([window.innerHeight, window.innerWidth]);\n        }\n        window.addEventListener('resize', handleResize);\n        return () => {\n            window.removeEventListener('resize', handleResize);\n        }\n    }, [])\n    return size;\n}\n\nexport default useWindowSize;","import React, { useState } from 'react';\nimport { Form, Button, Modal } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport { UpdateDataErrorSetting } from '../../globalSettings/homePageSettings';\nimport {useSelector, useDispatch} from 'react-redux';\nimport axios from 'axios';\n\nfunction OrgNumberSignIn() {\n\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const globalVars = useSelector(state => state.globalVars);\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function onSubmit() {\n\n        const number = document.getElementById('org-number').value;\n\n        if(number == '') {\n            setModal({heading: 'Error!', message: 'Please enter an organisation number', open: true});\n        } else {\n            \n            const data = {orgID: number};\n            axios.post('/organisation/goToPortal', data)\n            .then(res => {\n                const data = res.data;\n\n                if(data.error == 'No') {\n                    history.push('/org/' + number);\n                } else {\n                    if(data.dataError == 'Yes') {\n                        UpdateDataErrorSetting(dispatch, true);\n                    } else {\n                        UpdateDataErrorSetting(dispatch, false);\n                    }\n                    history.push('/organisationNotFound');\n                }\n            })\n            .catch(err => {\n                console.log(err)\n            })\n            \n\n        }\n    }\n\n    function isNumberInput(event) {\n\n        var char = String.fromCharCode(event.which);\n\n        if(!(/[0-9]/.test(char))) {\n            event.preventDefault();\n        }\n    }\n\n    return ( <div className='orgNumber-style'>\n        If you know your organisation's number, please enter it below, <br /><br />\n\n        <div >\n            <strong>Organisation Number:</strong> <br />\n            <Form.Control type='textbox' id='org-number' onKeyPress={isNumberInput} />\n            <Button variant='primary' onClick={onSubmit}>Go To My Portal</Button> <br /><br />\n            <strong>Don't know the organisation's number?</strong><br />\n            Locate the Senior admin of your organisation or find your registration email to locate the direct URL \n        </div>\n\n        <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n    </div>)\n}\n\nexport default OrgNumberSignIn;","import React from 'react';\nimport { useDispatch } from 'react-redux';\nimport { UpdateTab } from '../../globalSettings/homePageSettings';\nimport useWindowSize from '../../components/pages/windowSize';\n\nimport {Row, Col, Image, Card, Button} from 'react-bootstrap';\n\nimport screenTimetable from '../../public/images/screen-timetable.png'\nimport screenDiary from '../../public/images/screen-diary.png'\nimport OrgNumberSignIn from './orgNumberSignIn';\n\nfunction HomePage() {\n\n    const [windowHeight, windowWidth] = useWindowSize();\n\n    const dispatch = useDispatch();\n\n    function onClickContact() {\n        UpdateTab(dispatch, 'contact');\n    }\n\n    return (<div>\n\n        <Row>\n            <Col className='img-padding'>\n                <Image className='home-img' src={screenTimetable}/>\n            </Col>\n            <Col className='img-padding'>\n                <Image className='home-img' src={screenDiary}/>\n            </Col>\n            </Row>\n            <br />\n            <Row>\n            <Col className='home-alignLeft'>\n                <h2 className='blue-heading'><strong>Your very own room booking portal!</strong></h2>\n                <p className='home-text'>With a My STAFF account, your organisation will have its own portal where all your users can book out rooms for education, office meeting rooms and lots more. \n                With the very dymanic design you can create the rooms to suit your needs. From a timetable format to a 24-hour diary format. If you have two rooms that require a timetable format but each\n                room requires a slightly different format, this system can provide you with that functionality. Have a system so users within your organisation can book out any, or paricular rooms, in seconds!</p>\n            </Col>\n        </Row>\n        <br /> <br/>\n        {windowWidth < 2000 ? (<div>\n            <Row>\n                <Col>\n                    <OrgNumberSignIn />\n                </Col>\n            </Row>\n            <br /> <br />\n        </div>) : null}\n        <Row>\n            <Col className='cards-padding'>\n                <Card className='mx-auto home-card'>\n                    <Card.Title className='home-cardTitle'>1 - 5 Rooms</Card.Title>\n                    <Card.Body>\n                        2.99 per room <br /> per month\n                        <br /> <br />\n                        <Button variant='primary' onClick={onClickContact}>Contact</Button>\n                    </Card.Body>\n                </Card>\n            </Col>\n            <Col className='cards-padding'>\n                <Card className='mx-auto home-card'>\n                    <Card.Title className='home-cardTitle'>6 - 10 Rooms</Card.Title>\n                    <Card.Body>\n                        2.50 per room <br /> per month\n                        <br /> <br />\n                        <Button variant='primary' onClick={onClickContact}>Contact</Button>\n                    </Card.Body>\n                </Card>\n            </Col>\n            <Col className='cards-padding'>\n                <Card className='mx-auto home-card'>\n                    <Card.Title className='home-cardTitle'>11 - 20 Rooms</Card.Title>\n                    <Card.Body>\n                        1.99 per room <br /> per month\n                        <br /> <br />\n                        <Button variant='primary' onClick={onClickContact}>Contact</Button>\n                    </Card.Body>\n                </Card>\n            </Col>\n            <Col className='cards-padding'>\n                <Card className='mx-auto home-card'>\n                    <Card.Title className='home-cardTitle'>21 Rooms +</Card.Title>\n                    <Card.Body>\n                        0.99 per room <br /> per month\n                        <br /> <br />\n                        <Button variant='primary' onClick={onClickContact}>Contact</Button>\n                    </Card.Body>\n                </Card>\n            </Col>\n        </Row>\n\n    </div>)\n}\n\nexport default HomePage;","import React from 'react';\n\nimport { Row, Col, Image} from 'react-bootstrap';\n\nimport usersIcon from '../../public/images/icons/users.png';\nimport departmentsIcon from '../../public/images/icons/departments.png';\nimport roomsIcon from '../../public/images/icons/rooms.png';\nimport layoutsIcon from '../../public/images/icons/layouts.png';\nimport weekSystemIcon from '../../public/images/icons/weekSystemHolidays.png';\nimport userProfilesIcon from '../../public/images/icons/userProfiles.png';\nimport adminIcon from '../../public/images/icons/admin.png';\n\n\nfunction Features() {\n\n\n    return(<div>\n    <Row>\n        <Col className='features-alignRight'>\n            <Image className='features-icon' src={usersIcon} />\n        </Col>\n        <Col className='features-alignLeft'>\n            <strong>Users:</strong>\n            <ul className='features-bulletPionts-square'>\n                <li>Three types of accounts,\n                    <ul>\n                        <li>Basic User - can book single bookings in any room</li>\n                        <li>Admin - can book single and repeat bookings in any room, and can delete any booking.</li>\n                        <li>Senior Admin - with this role you have got access to the organisations administration screen where you can make your organisations portal unique to you. \n                        See the administration section for more infromation</li>\n                    </ul>\n                </li>\n            </ul>\n        </Col>\n        <Col className='features-alignRight'>\n            <Image className='features-icon' src={departmentsIcon} />\n        </Col>\n        <Col className='features-alignLeft'>\n            <strong>Departments:</strong>\n            <ul className='features-bulletPionts-square'>\n                <li>Assign users to departments so when they book out rooms they only can make a booking with their assigned departments.</li>\n                <li>Edit departments names or remove them without affecting any bookings</li>\n            </ul>\n        </Col>\n    </Row>\n    <br /><br />\n    <br /><br />\n    <Row>\n        <Col className='features-alignRight'>\n            <Image className='features-icon' src={roomsIcon} />\n        </Col>\n        <Col className='features-alignLeft'>\n            <strong>Rooms:</strong>\n            <ul className='features-bulletPionts-square'>\n                <li>Add as many rooms as you are allocated for</li>\n                <li>Rename rooms in a single click</li>\n                <li>Set different layouts to different rooms</li>\n                <li>Have some rooms on the week system and some rooms free running</li>\n            </ul>\n        </Col>\n        <Col className='features-alignRight'>\n            <Image className='features-icon' src={layoutsIcon} />\n        </Col>\n        <Col className='features-alignLeft'>\n            <strong>Layouts:</strong>\n            <ul className='features-bulletPionts-square'>\n                <li>Have different layouts for different rooms</li>\n                <li>Have different type of layouts, timetable or diary</li>\n                <li>Include breaks into the layouts that can be coloured coded</li>\n                <li>Add hover text or sessions, e.g. have the time which that session is on</li>\n            </ul>\n        </Col>\n    </Row>\n    <br /><br />\n    <br /><br />\n    <Row>\n        <Col className='features-alignRight'>\n                <Image className='features-icon' src={weekSystemIcon} />\n            </Col>\n            <Col className='features-alignLeft'>\n                <strong>Week System / Holidays:</strong>\n                <ul className='features-bulletPionts-square'>\n                    <li>Some education settings have a two-week timetable, you can set this system to handle the timetable</li>\n                    <li>Set each week to the correct week number</li>\n                    <li>Add holidays so repeated bookings miss the holidays</li>\n                    <li>Built it locking and backup system for when editing the weeks</li>\n                    <li>Collision detection on bookings and options to restore</li>\n                </ul>\n            </Col>\n            <Col className='features-alignRight'>\n                <Image className='features-icon' src={userProfilesIcon} />\n            </Col>\n            <Col className='features-alignLeft'>\n                <strong>User Profiles:</strong>\n                <ul className='features-bulletPionts-square'>\n                    <li>Control which user sees which room</li>\n                    <li>Have different settings for different rooms</li>\n                    <li>Priority the user profiles to override some settings from other profiles for particular users</li>\n                    <li>Have up to 5 profiles per user</li>\n                    <li>Automatically have a default profile set up to support users that are not in a profile</li>\n                </ul>\n            </Col>\n    </Row>\n    <br /><br />\n    <br /><br />\n    <Row>\n        <Col className='features-alignRight'>\n                <Image className='features-icon' src={adminIcon} />\n            </Col>\n            <Col className='features-alignLeft'>\n                <strong>Administration:</strong>\n                <ul className='features-bulletPionts-square'>\n                    <li>Have access to all the sections above to edit</li>\n                    <li>Provide your organisation a system tailored to suit your needs</li>\n                    <li>Have access to change users login method</li>\n                    <li>Set an opening message for users at login</li>\n                    <li>Direct users to use a particular login method by disabling and enabling them</li>\n                    <li>Enable particular users to have access to the administration</li>\n                </ul>\n            </Col>\n            <Col></Col>\n            <Col></Col>\n    </Row>\n    </div>)\n}\n\nexport default Features;","import React from 'react';\nimport { Form, Row, Col, Button } from 'react-bootstrap';\nimport Axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { UpdateFormSettings } from '../../globalSettings/homePageSettings'\n\nfunction Contact() {\n\n    const HomePageGlobalSettings = useSelector(state => state.HomePageGlobalSettings);\n    const dispatch = useDispatch();\n\n    function onSubmit(event) {\n        event.preventDefault();\n\n        const name = document.getElementById('contactForm-Name').value;\n        const email = document.getElementById('contactForm-Email').value\n        const subject = document.getElementById('contactForm-Subject').value\n        const message = document.getElementById('contactForm-Message').value\n        console.log(name);\n\n        const data = {name: name, email: email, subject: subject, message: message}\n        Axios.post('/organisation/homepageContact', data)\n        .then(res => {\n            if(res.data.message == 'Email Sent') {\n                UpdateFormSettings(dispatch, true);\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (<div>\n    <br />\n    <Row>\n        <Col sm={2}>\n\n        </Col>\n        <Col sm={8}>\n        {!HomePageGlobalSettings.formSent ? (<div>\n            <Form className='home-contact'>\n            <Form.Group>\n                <Form.Label>Name:</Form.Label>\n                <Form.Control type='textbox' id='contactForm-Name' required />\n            </Form.Group>\n            <Form.Group>\n                <Form.Label>Email:</Form.Label>\n                <Form.Control type='email' id='contactForm-Email' required />\n            </Form.Group>\n            <Form.Group>\n                <Form.Label>Subject:</Form.Label>\n                <Form.Control type='textbox' id='contactForm-Subject' required/>\n            </Form.Group>\n            <Form.Group>\n                <Form.Label>Message:</Form.Label>\n                <Form.Control as='textarea' rows={5} id='contactForm-Message' required />\n            </Form.Group>\n            <Button type='submit' onClick={onSubmit}>Submit</Button>\n            </Form></div>) : (<div className='home-contact-sent'>\n                <p>Message Sent!</p>\n                <p>Thank you for contacting My-STAFF at High-View Studios</p>\n            </div>)}\n            \n        </Col>\n        <Col sm={2}>\n\n        </Col>\n    </Row>\n    </div>)\n}\n\nexport default Contact;","import React, { useEffect } from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { UpdateTab, UpdateFormSettings } from '../globalSettings/homePageSettings';\nimport useWindowSize from '../components/pages/windowSize';\n\n\n\n//Styles\nimport { Container, Jumbotron, Row, Col, Navbar, Nav } from \"react-bootstrap\"\n\nimport OrgNumberSignIn from './homeComponents/orgNumberSignIn';\n\nimport HomePage from './homeComponents/homePage';\nimport Features from './homeComponents/features';\nimport Contact from './homeComponents/contact';\n\n\nfunction Home() {\n\n  const [windowHeight, windowWidth] = useWindowSize();\n  const user = useSelector(state => state.user);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const HomePageGlobalSettings = useSelector(state => state.HomePageGlobalSettings);\n  \n\n  useEffect(() => {\n    document.title = \"STAFF\";\n    console.log(HomePageGlobalSettings);\n    onOpen();\n  },[]);\n\n  function onOpen() {\n    if(user.auth == true) {\n      if(user.role == \"superAdmin\") {\n        history.push(\"/administrator\");\n      } else {\n        history.push('/org/' + user.orgID);\n      }\n    }\n  }\n\n  function changeTab(tab) {\n\n    UpdateTab(dispatch, tab);\n    UpdateFormSettings(dispatch, false);\n    \n  }\n\n  return (\n    <div className=\"body\">\n        <Container fluid className=\"p-3\">\n            <Jumbotron fluid className=\"back-color home-jumbotron\">\n            <Row>\n              <Col>\n                <h1 className='blue-heading'><strong>A place to be flexible with your bookings...</strong></h1><br />\n              </Col>\n            </Row>\n            <Row>\n              <Col sm={10}>\n              <Row>\n                <Col>\n                  <Navbar className='nav-bar' variant='dark'>\n                    <Nav className='mx-auto'>\n                      <Nav.Link className='nav-link' onClick={() => changeTab('home')}>Home &nbsp;</Nav.Link>\n                      <Nav.Link className='nav-link' onClick={() => changeTab('features')}> &nbsp;Features &nbsp;</Nav.Link>\n                      <Nav.Link className='nav-link' onClick={() => changeTab('contact')}> &nbsp;Contact</Nav.Link>\n                    </Nav>\n                  </Navbar>\n                </Col>\n              </Row>\n              <br />\n                {HomePageGlobalSettings.tab == 'home' ? (<HomePage />) : null}\n                {HomePageGlobalSettings.tab == 'features' ? (<Features />) : null}\n                {HomePageGlobalSettings.tab == 'contact' ? (<Contact />) : null}\n              </Col>\n              {windowWidth > 2000 ? (\n                <Col>\n                  <OrgNumberSignIn />\n                </Col>\n              ) : null}\n            </Row>        \n            </Jumbotron>\n        </Container>\n    </div>\n  );\n}\n\nexport default Home;","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport ServerPath, { hostPath } from \"../ServerPath\";\nimport { useSelector} from 'react-redux';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction NotConnected() {\n\n  const user = useSelector(state => state.user);\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = \"STAFF - Not Connected\";\n    ServerPath();\n    onOpen();\n  },[])\n\n  function onOpen() {\n    if(user.auth) {\n      history.push('/');\n    }\n  }\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h3>Email is not connected to any organisation</h3>\n        <Button variant=\"warning\" onClick={() => history.push('/')}>Back to Home</Button><br /><br />\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default NotConnected;\n","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport ServerPath, { hostPath } from \"../ServerPath\";\nimport { useSelector} from 'react-redux';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction WrongLogin(props) {\n\n  const organisationID = props.match.params.id;\n  const user = useSelector(state => state.user);\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = \"STAFF - Not Connected\";\n    ServerPath();\n  },[])\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h3>This is not the login method you use to log in</h3>\n        <Button variant=\"warning\" onClick={() => history.push('/org/'+ organisationID +'/')}>Back</Button><br /><br />\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default WrongLogin;\n","export const orgUpdateName = (val) => {\n    return {\n        type: \"ORG_UPDATE_NAME\",\n        value: val\n    };\n}\n\nexport const orgUpdateSignInLocal = (val) => {\n    return {\n        type: \"ORG_UPDATE_SIGNIN_LOCAL\",\n        value: val\n    };\n}\n\nexport const orgUpdateSignInGoogle = (val) => {\n    return {\n        type: \"ORG_UPDATE_SIGNIN_GOOGLE\",\n        value: val\n    };\n}\n\nexport const orgUpdateMessage = (val) => {\n    return {\n        type: \"ORG_UPDATE_MESSAGE\",\n        value: val\n    };\n}\n\nexport const orgUpdateUseDepartments = (val) => {\n    return {\n        type: \"ORG_UPDATE_USEDEPARTMENTS\",\n        value: val\n    };\n}\n\nexport const orgUpdateNoOfDepartments = (val) => {\n    return {\n        type: \"ORG_UPDATE_NOOFDEPARTMENTS\",\n        value: val\n    };\n}\n\nexport const orgUpdateDepartments = (val) => {\n    return {\n        type: \"ORG_UPDATE_DEPARTMENTS\",\n        value: val\n    };\n}\n\nexport const orgUpdateAllocatedRooms = (val) => {\n    return {\n        type: \"ORG_UPDATE_ALLOCATEDROOMS\",\n        value: val\n    };\n}\n\nexport const orgUpdateRedeemedRooms = (val) => {\n    return {\n        type: \"ORG_UPDATE_REDEEMEDROOMS\",\n        value: val\n    };\n}\n\nexport const orgUpdateRooms = (val) => {\n    return {\n        type: \"ORG_UPDATE_ROOMS\",\n        value: val\n    };\n}\n\nexport const orgUpdateLayouts = (val) => {\n    return {\n        type: \"ORG_UPDATE_LAYOUTS\",\n        value: val\n    };\n}\n\nexport const orgUpdateHolidays = (val) => {\n    return {\n        type: \"ORG_UPDATE_HOLIDAYS\",\n        value: val\n    };\n}\n\nexport const orgUpdateLocked = (val) => {\n    return {\n        type: \"ORG_UPDATE_LOCKED\",\n        value: val\n    };\n}","export const UPUpdateDefault = (val) => {\n    return {\n        type: 'UPUPDATE_DEFAULT',\n        value: val\n    };\n}\n\nexport const UPUpdateRooms = (val) => {\n    return {\n        type: 'UPUPDATE_ROOMS',\n        value: val\n    };\n}\n\nexport const UPUpdateRoom_View = (val) => {\n    return {\n        type: 'UPUPDATE_ROOM_VIEW',\n        value: val\n    };\n}\n\nexport const UPUpdateRoom_Write = (val) => {\n    return {\n        type: 'UPUPDATE_ROOM_WRITE',\n        value: val\n    };\n}\n\nexport const UPUpdateRoom_Edit = (val) => {\n    return {\n        type: 'UPUPDATE_ROOM_EDIT',\n        value: val\n    };\n}\n\nexport const UPUpdateRoom_Delete = (val) => {\n    return {\n        type: 'UPUPDATE_ROOM_DELETE',\n        value: val\n    };\n}\n\nexport const UPUpdateRoom_Repeat = (val) => {\n    return {\n        type: 'UPUPDATE_ROOM_REPEAT',\n        value: val\n    };\n}\n\nexport const UPUpdateViewAllUsers = (val) => {\n    return {\n        type: 'UPUPDATE_VIEWALLUSERS',\n        value: val\n    };\n}\n\nexport const UPUpdateViewAllDepartments = (val) => {\n    return {\n        type: 'UPUPDATE_VIEWALLDEPARTMENTS',\n        value: val\n    };\n}\n\nexport const UPUpdateOrgAdminAccess = (val) => {\n    return {\n        type: 'UPUPDATE_ORGADMINACCESS',\n        value: val\n    };\n}\n\nexport const UPUpdateOrgAdmin_loginSettings = (val) => {\n    return {\n        type: 'UPUPDATE_ADMIN_LOGINSETTINGS',\n        value: val\n    };\n}\n\nexport const UPUpdateOrgAdmin_departments = (val) => {\n    return {\n        type: 'UPUPDATE_ADMIN_DEPARTMENTS',\n        value: val\n    };\n}\n\nexport const UPUpdateOrgAdmin_users = (val) => {\n    return {\n        type: 'UPUPDATE_ADMIN_USERS',\n        value: val\n    };\n}\n\nexport const UPUpdateOrgAdmin_rooms = (val) => {\n    return {\n        type: 'UPUPDATE_ADMIN_ROOMS',\n        value: val\n    };\n}\n\nexport const UPUpdateOrgAdmin_layouts = (val) => {\n    return {\n        type: 'UPUPDATE_ADMIN_LAYOUTS',\n        value: val\n    };\n}\n\nexport const UPUpdateOrgAdmin_weekSystemHoldays = (val) => {\n    return {\n        type: 'UPUPDATE_ADMIN_WEEKSYSTEMHOLIDAYS',\n        value: val\n    };\n}\n\nexport const UPUpdateOrgAdmin_userProfiles = (val) => {\n    return {\n        type: 'UPUPDATE_ADMIN_USERPROFILES',\n        value: val\n    };\n}","export const ModifySettings = (val) => {\n    return {\n        type: 'MODIFY_SETTINGS',\n        value: val\n    };\n}","export const UpdateRoomName = (val) => {\n    return {\n        type: 'UPDATE_ROOM_NAME',\n        value: val\n    };\n}\n\nexport const UpdateRoomID = (val) => {\n    return {\n        type: 'UPDATE_ROOM_ID',\n        value: val\n    };\n}\n\nexport const UpdateRoomLayoutData = (val) => {\n    return {\n        type: 'UPDATE_ROOM_LAYOUT_DATA',\n        value: val\n    };\n}\n\nexport const UpdateRoomSessionID = (val) => {\n    return {\n        type: 'UPDATE_ROOM_SESSION_ID',\n        value: val\n    };\n}\n\nexport const UpdateRoomSessionLabel = (val) => {\n    return {\n        type: 'UPDATE_ROOM_SESSION_LABEL',\n        value: val\n    };\n}\n\nexport const UpdateRoomDate = (val) => {\n    return {\n        type: 'UPDATE_ROOM_DATE',\n        value: val\n    };\n}\n\nexport const UpdateRoomWeekBegin = (val) => {\n    return {\n        type: 'UPDATE_ROOM_WEEK_BEGIN',\n        value: val\n    };\n}\n\nexport const UpdateRoomTotalSessions = (val) => {\n    return {\n        type: 'UPDATE_ROOM_TOTAL_SESSIONS',\n        value: val\n    };\n}\n\nexport const UpdateRoomDayList = (val) => {\n    return {\n        type: 'UPDATE_ROOM_DAY_LIST',\n        value: val\n    };\n}\n\nexport const UpdateRoomWeekSystem = (val) => {\n    return {\n        type: 'UPDATE_ROOM_WEEK_SYSTEM',\n        value: val\n    };\n}\n\nexport const UpdateRoomWeekUUID = (val) => {\n    return {\n        type: 'UPDATE_ROOM_WEEK_UUID',\n        value: val\n    };\n}\n\nexport const CollideBookingsForceUpdate = (val) => {\n    return {\n        type: 'UPDATE_FORCE_COLLIDED_BOOKINGS',\n        value: val\n    };\n}\n\nexport const UpdateDiaryStartTime = (val) => {\n    return {\n        type: 'UPDATE_DIARY_START_TIME',\n        value: val\n    };\n}\n\nexport const UpdateDiaryFinishTime = (val) => {\n    return {\n        type: 'UPDATE_DIARY_FINISH_TIME',\n        value: val\n    };\n}\n\nexport const UpdateDiaryTimeInterval = (val) => {\n    return {\n        type: 'UPDATE_DIARY_TIME_INTERVAL',\n        value: val\n    };\n}\n\nexport const UpdateForceSignIn = (val) => {\n    return {\n        type: 'UPDATE_FORCE_SIGNIN',\n        value: val\n    };\n}\n\nexport const UpdateFromSignIn = (val) => {\n    return {\n        type: 'UPDATE_FROM_SIGNIN',\n        value: val\n    };\n}","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ReactTooltip from 'react-tooltip';\nimport { Row, Col, Button, Modal } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport { UpdateRoomName, UpdateRoomID, UpdateRoomSessionID, UpdateRoomSessionLabel, UpdateRoomDate, UpdateRoomWeekBegin, UpdateRoomTotalSessions, UpdateRoomDayList, UpdateRoomWeekSystem, UpdateRoomWeekUUID, UpdateRoomLayoutData } from '../../../store/actions/globalVars';\nimport { UpdateBookingBookingType, UpdateBookingBookingUntil, UpdateBookingSessionDes, UpdateBookingComments, UpdateBookingDepartment, UpdateBookingEdit, UpdateBookingID, UpdateBookingUser, UpdateBookingSessionLength, UpdateBookingCreatedBy } from '../../../store/actions/bookings';\nimport moment from 'moment';\nimport Axios from 'axios';\n\nfunction Timetable(props) {\n\n\n    const orgID = props.orgID;\n    const organisation = useSelector(state => state.organisation);\n    const globalVars = useSelector(state => state.globalVars);\n\n    const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    const [settings, setSettings] = useState({\n        slotClass: '',\n        dayClass: '',\n        dates: ['', '', '', '', '', '', ''],\n        weekSlot: '',\n        dayIndex: 0,\n        data: {},\n        holiday: '',\n        weekSystemUUID: ''\n    });\n\n    const [layout, setLayout] = useState({\n        days: [],\n        order: [],\n        sessions: [],\n        sessionTotal: 0\n    })\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    useEffect(() => {\n        setup();\n    }, []);\n\n\n    function setup() {\n\n        //SETUP NEW LAYOUT FROM REDUX\n        const layoutDays = props.layoutData.days.split(',');\n        const days = [];\n        let newSessions = {};\n        const order = props.layoutData.sessionOrder.split(',');\n\n        for(const day of layoutDays) {\n            days.push(day == 'true');\n        }\n\n        const data = {orgID: orgID, layoutUUID: props.layoutData.uuid};\n        Axios.post('/organisation/getTimetableSessions', data)\n        .then(res => {\n\n            const sessions = res.data.sessions;\n\n            for(const session of sessions) {\n                newSessions[session.id] = session;\n            }\n\n            setLayout(prevState => {\n                return {...prevState, days: days, sessions: newSessions, sessionTotal: props.layoutData.sessions, order: order}\n            });\n\n            /////\n\n            let totalDays = 0;\n            for(const day of days) { \n                if(day) {\n                    totalDays++;\n                }\n            }\n            setSettings(prevState => {\n                return {...prevState, slotClass: 'session' + totalDays + '-slot timetable-layout', dayClass: 'session' + totalDays + '-days timetable-layout'}\n            });\n\n            if(globalVars.weekBeginDate == '') {\n                const weekBG = FindWeekBegin(days);\n                BuildDataSlots(weekBG, order, newSessions);\n                CheckHoliday(weekBG);\n            } else {\n                FindDayIndex(days);\n                const firstDate = moment(globalVars.weekBeginDate, 'DD/MM/YYYY');\n                RebuildDates(firstDate, order, newSessions);\n            }\n\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        //SETUP NEW LAYOUT FROM REDUX ^^^\n    }\n\n    function FindDayIndex(days) {\n        let dayIndex;\n        for(const [index, day] of days.entries()) {\n            if(day) {\n                dayIndex = index;\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, dayIndex: dayIndex}\n        });\n    }\n\n    function BuildDataSlots(weekBg, order, sessions) {\n\n        const data = {};\n        const days = [];\n        const weekBG = moment(weekBg, 'DD/MM/YYYY');\n        const slot = {user: '', department: '', type: ''};\n\n        const weekSlot = formatString(weekBG.week()) + '-' + weekBG.format('YY');\n\n        for(let i = 0; i < 7; i++) {\n            \n            for(const sess of order) {\n                days.push(formatString(weekBG.day()) + '-' + formatString(sessions[sess].id));\n                const sName = formatString(weekBG.week()) + '-' + weekBG.format('YY') + '-' + formatString(weekBG.day()) + '-' + formatString(sessions[sess].id);\n                data[sName] = slot;\n            }\n\n            weekBG.add(1, 'd');\n        }\n\n        const mySQLData = {orgID: orgID, room: props.roomID,week: weekSlot, days: days, weekBG: weekBg};\n        Axios.post('/booking/getBookings', mySQLData)\n        .then(res => {\n            const recievedData = res.data;\n\n            if(recievedData.error === 'null') {\n                setSettings(prevState => {\n                    return {...prevState, weekSlot: weekSlot, data: recievedData.bookings}\n                });     \n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }\n\n    function CheckHoliday(weekBG) {\n        \n        const date = moment(weekBG, 'DD/MM/YYYY');\n        const week = formatString(date.week()) + '-' + date.format('YY');\n        let holidayTitle = '';\n\n        for(const holiday of organisation.holidays) {\n\n            if(holiday.weeks.includes(week)) {\n\n                if(holiday.titleUUID.includes('w')) {\n                    if(props.weekSystem) {\n                        holidayTitle = holiday.name;\n                        setSettings(prevState => {\n                            return {...prevState, weekSystemUUID: holiday.titleUUID}\n                        })\n                    }\n                } else if(holiday.titleUUID.includes('h')){\n                    holidayTitle = 'Holiday: ' + holiday.name\n                }\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, holiday: holidayTitle}\n        });\n    }\n\n    function formatString(time) {\n        \n        if(time.toString().includes('b')) {\n            time = time.replace('b', '');\n\n            if(time.toString().length == 1) {\n                return 'b0' + time;\n            } else {\n                return time;\n            }\n        } else {\n            if(time.toString().length == 1) {\n                return '0' + time;\n            } else {\n                return time;\n            }\n        }\n    }\n\n    function handleReloadTooltip() {\n        ReactTooltip.rebuild();\n    }\n\n    function handleBookClick(event) {\n        \n        dispatch(UpdateBookingEdit(false));\n        const { id } = event.target;\n        const IDs = id.toString().split('-');\n        dispatch(UpdateRoomName(props.roomName));\n        dispatch(UpdateRoomID(props.roomID));\n        dispatch(UpdateRoomSessionID(id));\n        dispatch(UpdateRoomWeekSystem(props.weekSystem));\n        dispatch(UpdateRoomWeekUUID(settings.weekSystemUUID));\n        dispatch(UpdateRoomLayoutData(props.layoutData));\n\n        if(layout.sessions[IDs[1]].id.includes('b')) {\n            \n            dispatch(UpdateRoomSessionLabel(layout.sessions[IDs[1]].breakText));\n        } else {\n            if(layout.sessions[IDs[1]].customText != '') {\n                dispatch(UpdateRoomSessionLabel(layout.sessions[IDs[1]].customText));\n            } else {\n                dispatch(UpdateRoomSessionLabel(layout.sessions[IDs[1]].id));\n            }\n        }\n        dispatch(UpdateRoomWeekBegin(settings.dates[0]));\n        dispatch(UpdateRoomDate(settings.dates[IDs[0]]));\n        dispatch(UpdateRoomTotalSessions(layout.sessionTotal));\n        dispatch(UpdateRoomDayList(layout.days));\n\n        history.push('/org/' + orgID + '/book')\n    }\n\n    function handleEditBooking(uuid) {\n\n        const data = {orgID: orgID, uuid: uuid};\n        Axios.post('/booking/getBookingData', data)\n        .then(res => {\n\n            const data = res.data;\n            dispatch(UpdateBookingUser(data.booking.user));\n            dispatch(UpdateBookingDepartment(GetDepartment(data.booking.departmentID)));\n            dispatch(UpdateBookingSessionDes(data.booking.sessionDes));\n            dispatch(UpdateBookingSessionLength(data.booking.sessionTotal));\n\n            //SINGLE / REPEAT\n            const type = data.booking.bookingType;\n            if(type == 'single') {\n                dispatch(UpdateBookingBookingType('Single'));\n            } else {\n                dispatch(UpdateBookingBookingType('Repeat - ' + data.booking.repeatType));\n                dispatch(UpdateBookingBookingUntil(data.booking.repeatUntil));\n            }\n\n            dispatch(UpdateBookingComments(data.booking.comments));\n            dispatch(UpdateBookingCreatedBy(data.booking.createdBy));       \n            dispatch(UpdateBookingEdit(true));\n            dispatch(UpdateBookingID(uuid));\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function FindWeekBegin(days) {\n\n        let today = moment();\n        today.startOf('week');\n        \n        let dates = [];\n        for(let i = 0; i < 7; i++) {\n            dates.push(today.format('DD/MM/YYYY'));\n            today.add(1, 'd');\n        }\n\n        setSettings(prevState => {\n            return {...prevState, dates: dates}\n        });\n\n        let dayIndex;\n        for(const [index, day] of days.entries()) {\n            if(day) {\n                dayIndex = index;\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, dayIndex: dayIndex}\n        });\n\n        return dates[0];\n    }\n\n    function RebuildDates(firstDate, order, sessions) {\n\n        let dates = [];\n        for(let i = 0; i < 7; i++) {\n            dates.push(firstDate.format('DD/MM/YYYY'));\n            firstDate.add(1, 'd');\n        }\n        \n        setSettings(prevState => {\n            return {...prevState, dates: dates}\n        });\n\n        BuildDataSlots(dates[0], order, sessions);\n        CheckHoliday(dates[0]);\n    }\n\n    function handleAdvancedWeek() {\n        \n        dispatch(UpdateBookingEdit(false));\n        let newDate = moment(settings.dates[0], 'DD/MM/YYYY');\n        newDate.add(1, 'w');\n\n        RebuildDates(newDate, layout.order, layout.sessions);\n    }\n\n    function handleGoBackWeek() {\n        \n        dispatch(UpdateBookingEdit(false));\n        let newDate = moment(settings.dates[0], 'DD/MM/YYYY');\n        newDate.subtract(1, 'w');\n\n        let thisWeek = moment();\n        thisWeek.startOf('week');\n\n        if(newDate < thisWeek) {\n            setModal({heading: props.roomName, message: 'You cannot go back previous from this week', open: true});\n        } else {\n\n            RebuildDates(newDate, layout.order, layout.sessions);\n        }\n    }\n\n    function GetDepartment(id) {\n\n        for(const department of organisation.departments) {\n            if(department.uuid == id) {\n                return department.name;\n            }\n        }\n\n    }\n\n    return (\n        <div>\n        <Row>\n            <Col><strong>\n                <div className='centred'>Week Beginning: {settings.dates[settings.dayIndex]}</div>\n                </strong>\n            </Col>\n            <Col>\n                <strong>\n                    <div className='centred-100'>{settings.holiday}</div>\n                </strong>\n            </Col>\n            <Col>\n                <div className='side-by-side-R'>\n                    <Button variant='primary' onClick={handleGoBackWeek}>-</Button>\n                    <Button variant='primary' onClick={handleAdvancedWeek}>+</Button>\n                </div>\n            </Col>\n        </Row>\n        <Row>\n            <table className='timetable-layout' width='100%' border='1px'>\n            <thead>\n                <tr>\n                    <td className={settings.slotClass}>\n                        Session\n                    </td>\n                    {layout.days.map((day, index) => {\n                        if(day) {\n                            return <td className={settings.dayClass} key={index} >{dayNames[index]} <br /> {settings.dates[index]}</td>\n                        }\n                    })}\n                </tr>\n            </thead>\n            <tbody>{layout.order.map((session, index) => {\n                if(session.toString().includes('b')) { //breaks \\/\\/\n                    return (<tr key={index} style={{backgroundColor:layout.sessions[session].bgColor}}>\n                        <td className={settings.slotClass} style={{color:layout.sessions[session].textColor}}>\n                        {layout.sessions[session].breakText != '' ? layout.sessions[session].breakText : layout.sessions[session].id}</td>\n                        {layout.days.map((day, index) => {\n                            if(day) {\n                                if(Object.keys(settings.data).length > 0) {\n\n                                        const name = settings.weekSlot + '-' + formatString(index) + '-' + formatString(layout.sessions[session].id);\n                                        if(settings.data[name].type == 'single') {\n                                            return <td className=' timetable-layout singleSlot' key={index} id={index + '-' + layout.session} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td> \n                                        } else if (settings.data[name].type == 'repeat') {\n                                            return <td className=' timetable-layout repeatSlot' key={index} id={index + '-' + session} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td>\n                                        } else {\n                                            return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + session} onClick={handleBookClick}>Book</td> \n                                        }\n                                    } else {\n                                        return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + session} onClick={handleBookClick}>Book</td> \n                                    }\n                            }\n                        })}\n                        </tr>)\n                } else { //sessions \\/\\/\n                    return (<tr key={index}>\n                            <td className={settings.slotClass} data-tip={layout.sessions[session].hoverText != '' ? layout.sessions[session].hoverText : null }>\n                            {layout.sessions[session].customText != '' ? layout.sessions[session].customText : layout.sessions[session].id}</td>\n                            {layout.days.map((day, index) => {\n                                if(day) {\n                                    if(Object.keys(settings.data).length > 0) {\n\n                                        const name = settings.weekSlot + '-' + formatString(index) + '-' + formatString(layout.sessions[session].id);\n                                        if(settings.data[name].type == 'single') {\n                                            return <td className=' timetable-layout singleSlot' key={index} id={index + '-' + session} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td> \n                                        } else if (settings.data[name].type == 'repeat') {\n                                            return <td className=' timetable-layout repeatSlot' key={index} id={index + '-' + session} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td>\n                                        } else {\n                                            return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + session} onClick={handleBookClick}>Book</td> \n                                        }\n                                    } else {\n                                        return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + session} onClick={handleBookClick}>Book</td> \n                                    }\n                                    \n                                }\n                            })\n                            }\n                            </tr>)\n                    }\n            })}\n            {handleReloadTooltip()}\n            </tbody>\n            </table>\n            <ReactTooltip />\n            </Row>\n\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Timetable;","import React, {useState, useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Row, Col, Modal, Button} from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport moment from 'moment';\nimport Axios from 'axios';\nimport { UpdateRoomName, UpdateRoomID, UpdateRoomSessionID, UpdateRoomSessionLabel, UpdateRoomDate, UpdateRoomWeekBegin, UpdateRoomDayList, UpdateRoomLayout, UpdateRoomWeekSystem, UpdateRoomWeekUUID, UpdateRoomLayoutData, UpdateDiaryStartTime, UpdateDiaryFinishTime, UpdateDiaryTimeInterval } from '../../../store/actions/globalVars';\nimport { UpdateBookingBookingType, UpdateBookingBookingUntil, UpdateBookingSessionDes, UpdateBookingComments, UpdateBookingDepartment, UpdateBookingEdit, UpdateBookingID, UpdateBookingUser, UpdateBookingSessionLength, UpdateBookingCreatedBy } from '../../../store/actions/bookings';\n\nfunction Dairy(props) {\n\n    const orgID = props.orgID;\n    const organisation = useSelector(state => state.organisation);\n    const globalVars = useSelector(state => state.globalVars);\n\n    const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    const dispatch = useDispatch();\n\n    const times = ['00:00', '00:30', '01:00', '01:30', '02:00', '02:30', '03:00', '03:30', '04:00', '04:30', '05:00', '05:30', '06:00', '06:30', '07:00', '07:30', '08:00', '08:30', '09:00', \n                    '09:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '13:00', '13:30', '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30', '18:00', '18:30',\n                    '19:00', '19:30', '20:00', '20:30', '21:00', '21:30', '22:00', '22:30', '23:00', '23:30'];\n    const history = useHistory();\n\n    const [settings, setSettings] = useState({\n        slotClass: '',\n        dayClass: '',\n        times: [],\n        startTime: '',\n        finishTime: '',\n        interval: '',\n        dates: ['', '', '', '', '', '', ''],\n        dayIndex: 0,\n        weekSlot: '',\n        data: {},\n        holiday: '',\n        days: [],\n        weekSystemUUID: ''\n    });\n\n    useEffect(() => {\n        setup();\n    }, []);\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n\n    function setup() {\n\n        const layoutDays = props.layoutData.days.split(',');\n        const days = [];\n\n        const startTime = props.layoutData.startTime;\n        const finishTime = props.layoutData.finishTime;\n        const timeInterval = props.layoutData.timeInterval;\n\n        for(const day of layoutDays) {\n            days.push(day == 'true');\n        }\n\n        let totalDays = 0;\n        for(const day of days) {\n            if(day) {\n                totalDays++;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, slotClass: 'session' + totalDays + '-slot timetable-layout', dayClass: 'session' + totalDays + '-days timetable-layout', startTime: startTime, \n                    finishTime: finishTime, interval: timeInterval, days: days}\n        });\n\n        const times = BuildTimes(startTime, finishTime, timeInterval);\n\n        if(globalVars.weekBeginDate == '') {\n            const weekBG = FindWeekBegin(days);\n            BuildDataSlots(weekBG, times);\n            CheckHoliday(weekBG);\n        } else {\n            FindDayIndex(days);\n            const firstDate = moment(globalVars.weekBeginDate, 'DD/MM/YYYY');\n            RebuildDates(firstDate, times);\n        }\n    }\n\n    function FindDayIndex(days) {\n        let dayIndex;\n        for(const [index, day] of days.entries()) {\n            if(day) {\n                dayIndex = index;\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, dayIndex: dayIndex}\n        });\n    }\n\n    function FindWeekBegin(days) {\n\n        let today = moment();\n        today.startOf('week');\n        \n        let dates = [];\n        for(let i = 0; i < 7; i++) {\n            dates.push(today.format('DD/MM/YYYY'));\n            today.add(1, 'd');\n        }\n\n        setSettings(prevState => {\n            return {...prevState, dates: dates}\n        });\n\n        let dayIndex;\n        for(const [index, day] of days.entries()) {\n            if(day) {\n                dayIndex = index;\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, weekbegin: dates[0], dayIndex: dayIndex}\n        });\n\n        return dates[0];\n    }\n\n    function CheckHoliday(weekBG) {\n        \n        const date = moment(weekBG, 'DD/MM/YYYY');\n        const week = formatString(date.week()) + '-' + date.format('YY');\n        let holidayTitle = '';\n\n        for(const holiday of organisation.holidays) {\n\n            if(holiday.weeks.includes(week)) {\n\n                if(holiday.titleUUID.includes('w')) {\n                    if(props.weekSystem) {\n                        holidayTitle = holiday.name;\n                        setSettings(prevState => {\n                            return {...prevState, weekSystemUUID: holiday.titleUUID}\n                        })\n                    }\n                } else if(holiday.titleUUID.includes('h')){\n                    holidayTitle = 'Holiday: ' + holiday.name\n                }\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, holiday: holidayTitle}\n        });\n    }\n\n    function BuildDataSlots(weekBg, times) {\n\n        const data = {};\n        const days = [];\n        const weekBG = moment(weekBg, 'DD/MM/YYYY');\n        const slot = {user: '', department: '', type: ''};\n\n        const weekSlot = formatString(weekBG.week()) + '-' + weekBG.format('YY');\n\n        for(let i = 0; i < 7; i++) {\n\n            for(const time of times) {\n\n                days.push(formatString(weekBG.day()) + '-' + time.replace(\":\", ''));\n                const sName = formatString(weekBG.week()) + '-' + weekBG.format('YY') + '-' + formatString(weekBG.day()) + '-' + time.replace(\":\", '');\n                data[sName] = slot;\n            }\n\n            weekBG.add(1, 'd');\n        }\n\n        const mySQLData = {orgID: orgID, room: props.roomID,week: weekSlot, days: days, weekBG: weekBg};\n        Axios.post('/booking/getBookings', mySQLData)\n        .then(res => {\n            const recievedData = res.data;\n            if(recievedData.error === 'null') {\n                setSettings(prevState => {\n                    return {...prevState, weekSlot: weekSlot, data: recievedData.bookings}\n                });     \n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }\n\n    function formatString(time) {\n        \n        if(time.toString().includes('b')) {\n            time = time.replace('b', '');\n\n            if(time.toString().length == 1) {\n                return 'b0' + time;\n            } else {\n                return time;\n            }\n        } else {\n            if(time.toString().length == 1) {\n                return '0' + time;\n            } else {\n                return time;\n            }\n        }\n    }\n\n    function BuildTimes(sTime, fTime, interval) {\n\n        const ti = [];\n        if(sTime !== 'Start Time' && fTime !== 'Finish Time' && interval !== 0) {\n            \n            const start = moment(sTime, \"HH:mm\");\n            const finish = moment(fTime, \"HH:mm\");\n\n            while(start.isBefore(finish)) {\n                ti.push(start.format(\"HH:mm\"));\n                start.add(interval, 'm');\n            }\n\n            setSettings(prevState => {\n                return {...prevState, times: ti}\n            });\n        }\n        \n        return ti;\n    }\n\n    function RebuildDates(firstDate, times) {\n\n        let dates = [];\n        for(let i = 0; i < 7; i++) {\n            dates.push(firstDate.format('DD/MM/YYYY'));\n            firstDate.add(1, 'd');\n        }\n        \n        setSettings(prevState => {\n            return {...prevState, dates: dates}\n        });\n\n        BuildDataSlots(dates[0], times);\n        CheckHoliday(dates[0]);\n    }\n\n    function handleAdvancedWeek() {\n\n        let newDate = moment(settings.dates[0], 'DD/MM/YYYY');\n        newDate.add(1, 'w');\n\n        RebuildDates(newDate, settings.times);\n    }\n\n    function handleGoBackWeek() {\n\n        let newDate = moment(settings.dates[0], 'DD/MM/YYYY');\n        newDate.subtract(1, 'w');\n\n        let thisWeek = moment();\n        thisWeek.startOf('week');\n\n        if(newDate < thisWeek) {\n            setModal({heading: props.roomName, message: 'You cannot go back previous from this week', open: true});\n        } else {\n\n            RebuildDates(newDate, settings.times);\n        }\n    }\n\n    function handleBookClick(event) {\n        \n        const { id } = event.target;\n        console.log(id);\n        const IDs = id.toString().split('-');\n        dispatch(UpdateRoomName(props.roomName));\n        dispatch(UpdateRoomID(props.roomID));\n        dispatch(UpdateRoomLayoutData(props.layoutData));\n        dispatch(UpdateRoomSessionID(id));\n        dispatch(UpdateRoomSessionLabel(IDs[1]))\n        dispatch(UpdateRoomWeekBegin(settings.dates[0]));\n        dispatch(UpdateRoomDate(settings.dates[IDs[0]]));\n        dispatch(UpdateRoomDayList(settings.days));\n        dispatch(UpdateRoomWeekSystem(props.weekSystem));\n        dispatch(UpdateRoomWeekUUID(settings.weekSystemUUID));\n        dispatch(UpdateDiaryStartTime(settings.startTime));\n        dispatch(UpdateDiaryFinishTime(settings.finishTime));\n        dispatch(UpdateDiaryTimeInterval(settings.interval));\n\n        history.push('/org/' + orgID + '/book');\n    }\n\n    function GetDepartment(id) {\n\n        for(const department of organisation.departments) {\n            if(department.uuid == id) {\n                return department.name;\n            }\n        }\n\n    }\n\n    function handleEditBooking(uuid) {\n        \n        const data = {orgID: orgID, uuid: uuid};\n        Axios.post('/booking/getBookingData', data)\n        .then(res => {\n\n            const data = res.data;\n            dispatch(UpdateBookingUser(data.booking.user));\n            dispatch(UpdateBookingDepartment(GetDepartment(data.booking.departmentID)));\n            dispatch(UpdateBookingSessionDes(data.booking.sessionDes));\n            dispatch(UpdateBookingSessionLength(data.booking.sessionTotal));\n\n            //SINGLE / REPEAT\n            const type = data.booking.bookingType;\n            if(type == 'single') {\n                dispatch(UpdateBookingBookingType('Single'));\n            } else {\n                dispatch(UpdateBookingBookingType('Repeat - ' + data.booking.repeatType));\n                dispatch(UpdateBookingBookingUntil(data.booking.repeatUntil));\n            }\n\n            dispatch(UpdateBookingComments(data.booking.comments));\n            dispatch(UpdateBookingCreatedBy(data.booking.createdBy));       \n            dispatch(UpdateBookingEdit(true));\n            dispatch(UpdateBookingID(uuid));\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div>\n        <Row>\n            <Col><strong>\n                <div className='centred'>Week Beginning: {settings.dates[settings.dayIndex]}</div>\n                </strong>\n            </Col>\n            <Col>\n                <strong>\n                    <div className='centred-100'>{settings.holiday}</div>\n                </strong>\n            </Col>\n            <Col>\n                <div className='side-by-side-R'>\n                    <Button variant='primary' onClick={handleGoBackWeek}>-</Button>\n                    <Button variant='primary' onClick={handleAdvancedWeek}>+</Button>\n                </div>\n            </Col>\n        </Row>\n        <Row>\n            <table className='timetable-layout' width='100%' border='1px'>\n            <thead>\n                <tr>\n                    <td className={settings.slotClass}>\n                        Session\n                    </td>\n                    {settings.days.map((day, index) => {\n                        if(day) {\n                            return <td className={settings.dayClass} key={index} >{dayNames[index]} <br /> {settings.dates[index]}</td>\n                        }\n                    })}\n                </tr>\n            </thead>\n            <tbody>\n                {settings.times.map((time, index) => {\n                    return(<tr key={index}>\n                            <td className={settings.slotClass}>{time}</td>\n                            {settings.days.map((day, index) => {\n                                if(day) {\n                                    if(Object.keys(settings.data).length > 0) {\n                                        const name = settings.weekSlot + '-' + formatString(index) + '-' + time.replace(':', '');\n                                        if(settings.data[name].type == 'single') {\n                                            return <td className=' timetable-layout singleSlot' key={index} id={index + '-' + time} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td> \n                                        } else if (settings.data[name].type == 'repeat') {\n                                            return <td className=' timetable-layout repeatSlot' key={index} id={index + '-' + time} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td>\n                                        } else {\n                                            return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + time} onClick={handleBookClick}>Book</td> \n                                        }\n                                    } else {\n                                        return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + time} onClick={handleBookClick}>Book</td>\n                                    }\n                                }\n                            })\n                            }\n                            </tr>)\n                })}\n                </tbody>\n            </table>\n        </Row>\n\n        <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Dairy\n\n","import React, { useEffect, useState } from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport { updateRoomProfileSettings } from '../globalSettings/userProfileSettings';\nimport { useHistory } from 'react-router-dom';\n\nimport Timetable from '../components/pages/organisationHome/timetable';\nimport Diary from '../components/pages/organisationHome/diary';\n\n//Styles\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport { Row, Col, Dropdown, Button, Modal } from 'react-bootstrap';\nimport { UpdateBookingEdit } from '../store/actions/bookings';\nimport Axios from 'axios';\n\n\nfunction OrganisationHome(props) {\n  \n  const organisationId = props.match.params.id;\n\n  const organisation = useSelector(state => state.organisation);\n  const globalVars = useSelector(state => state.globalVars);\n  const bookings = useSelector(state => state.bookings);\n  const user = useSelector(state => state.user);\n  const userProfile = useSelector(state => state.userProfile);\n  const dispatch = useDispatch();\n  const history = useHistory();\n\n  const [settings, setSettings] = useState({\n    orgTitle: '',\n    orgLocked: '',\n    roomName: 'Rooms',\n    roomLayout: '',\n    roomID: '',\n    layoutData: {},\n    view: false,\n    weekSystem: false\n  });\n\n  const [modal, setModal] = useState({\n      open: false,\n      heading: '',\n      message: '',\n  });\n\n  const [modalYN, setModalYN] = useState({\n      open: false,\n      heading: '',\n      message: '',\n      acceptFunction: '',\n      acceptName: '',\n      showAccept: false,\n      cancelName: '',\n      showCancel: false\n  });\n\n  function handleModalClose() {\n      setModal(prevState => {\n          return {...prevState,\n          open: false\n      }\n  });\n  }\n\n  function handleModalYNClose() {\n      setModalYN(prevState => {\n          return {...prevState,\n          open: false\n      }\n  });\n  }\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n    if(!user.auth) {\n      history.replace('/');\n    }\n    CheckPreviousState();\n  },[]);\n\n  function CheckPreviousState() {\n      if(globalVars.roomName != '') {\n\n        setSettings(prevState => {\n          return {...prevState, roomName: globalVars.roomName, roomLayout: globalVars.layoutData.layout, layoutData: globalVars.layoutData, roomID: globalVars.roomID, weekSystem: globalVars.weekSystem};\n        });\n\n        setTimeout(() => {\n          setSettings(prevState => {\n            return {...prevState, view: true}\n          })\n        }, 100)\n      }\n  }\n\n\n\n  function handleRoomDropdownClick(name, layoutUUID, id, weekSystem) {\n\n    setSettings(prevState => {\n      return {...prevState, roomName: name, roomLayout: '---', roomID: id, weekSystem: false}\n    });\n\n    let layoutData;\n    for(const layout of organisation.layouts) {\n      if(layout.uuid == layoutUUID) {\n        layoutData = layout;\n      } \n    }\n\n    setSettings(prevState => {\n      return {...prevState, roomName: name, roomLayout: layoutData.layout, roomID: id, weekSystem: (weekSystem == 'true'), layoutData: layoutData, view: false}\n    });\n\n    //USER PROFILE\n    if(!userProfile.default) {\n        updateRoomProfileSettings(dispatch, id, userProfile);\n    }\n\n    dispatch(UpdateBookingEdit(false))\n    setTimeout(() => {\n      setSettings(prevState => {\n        return {...prevState, view: true}\n      })\n    }, 100);\n  }\n\n  //EDIT BOOKING\n  function handleDeleteBooking() {\n    setModalYN({heading: 'Delete Booking', message: 'Are you sure you want to delete this booking?', acceptFunction: acceptDelete, acceptName: 'Yes', showAccept: true, showCancel: true, cancelName: 'No', open: true});\n  }\n\n  function acceptDelete() {\n\n    setModalYN({open: false});\n\n    const data = {orgID: organisationId, bookingID: bookings.bookingID};\n    Axios.post('/booking/deleteBooking', data)\n    .then(res => {\n      const data = res.data;\n      if(data.error == 'null') {\n        setModal({heading: 'Delete booking', message: 'Booking deleted!', open: true});\n        \n        dispatch(UpdateBookingEdit(false));\n\n        setSettings(prevState => {\n          return {...prevState, view: false}\n        })\n\n        setTimeout(() => {\n          setSettings(prevState => {\n            return {...prevState, view: true}\n          })\n        }, 100);\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    })\n  }\n  ////////////////////////////////////////////////////////\n\n  return (\n    <div className=\"body\">\n        <Container fluid className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n                <h1>{organisation.name}</h1>\n                {organisation.locked ? <h2>Organisation Locked</h2> : null}\n              <Row>\n                <Col></Col>\n                <Col xs={8}>\n                <div className='roomLbl'>\n                Rooms:\n                </div>\n                <Dropdown className='rooms'>\n                        <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                            {settings.roomName}\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu className='dropdown-items'>\n                          {organisation.rooms.map((room, index) => {\n                            return <Dropdown.Item key={index} onClick={() => { handleRoomDropdownClick(room.name, room.layout, room.uuid, room.weekSystem)}}>{room.name}</Dropdown.Item>\n                          })}\n                        </Dropdown.Menu>\n                    </Dropdown>\n                </Col>\n                <Col></Col>                \n              </Row>\n              <Row>\n                <Col></Col>\n                <Col xs={8}>\n                {settings.view ? (<div>\n                  {settings.roomLayout != '' && settings.roomLayout == 'Timetable' ? <Timetable orgID={organisationId} roomName={settings.roomName} roomID={settings.roomID} layoutData={settings.layoutData} weekSystem={settings.weekSystem}/> : null}\n                  {settings.roomLayout != '' && settings.roomLayout == 'Diary' ? <Diary orgID={organisationId} roomName={settings.roomName} roomID={settings.roomID} layoutData={settings.layoutData} weekSystem={settings.weekSystem}/> : null}\n                </div>) : null}\n                </Col>\n                <Col>\n                <Row>\n                  <div className='row-nothing'>\n                    <Button disabled>Test</Button>\n                  </div>\n                </Row>\n                <Row>\n                  <Col>\n                    <div className={bookings.editBooking ? 'edit-booking-show' : 'edit-booking-hide'}>\n                      <strong>Booking Details</strong>\n                      <div className='align-left'>\n                            <br />\n                            <Row>\n                              <Col>\n                                <strong>User:</strong>\n                              </Col>\n                              <Col>\n                                {bookings.user}\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col>\n                                <strong>Department:</strong>\n                              </Col>\n                              <Col>\n                                {bookings.department}\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col>\n                                <strong>Class:</strong>\n                              </Col>\n                              <Col>\n                                {bookings.sessionDes}\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col>\n                                <br /><strong>Session Length:</strong>\n                              </Col>\n                              <Col>\n                                <br />{bookings.sessionLength}\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col>\n                                <strong>Booking Type:</strong>\n                              </Col>\n                              <Col>\n                                {bookings.bookingType}\n                              </Col>\n                            </Row>\n                            {bookings.bookingType == 'Repeat - weekly' || bookings.bookingType == 'Repeat - Daily' ? (\n                              <div>\n                                <Row>\n                                  <Col>\n                                    <strong>Repeat Until:</strong>\n                                  </Col>\n                                  <Col>\n                                    {bookings.bookingUntil}\n                                  </Col>\n                                </Row>\n                              </div>\n                            ) : null}\n                            {bookings.comments != '' ? (<div>\n                              <Row>\n                              <Col>\n                                <br /><strong>Comments</strong>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col>\n                                {bookings.comments}\n                              </Col>\n                            </Row>\n                            </div>) : null}\n                            \n                              <br /> <br />{user.uuid == bookings.createdBy || userProfile.room_Delete ? <Button variant='primary' onClick={handleDeleteBooking}>Delete</Button> : null}\n                      </div>\n                    </div>\n                    </Col>\n                  </Row>\n                </Col>                \n              </Row>\n            </Jumbotron>\n        </Container>\n        <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n          </Modal>\n          <Modal show={modalYN.open} onHide={handleModalYNClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalYN.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalYN.message}</Modal.Body>\n            <Modal.Footer>\n            {modalYN.showAccept ? (<div>\n                <Button variant=\"primary\" onClick={modalYN.acceptFunction}>\n                    {modalYN.acceptName}\n                </Button>\n            </div>) : null}\n            {modalYN.showCancel ? (<div>\n                <Button variant=\"primary\" onClick={handleModalYNClose}>\n                    {modalYN.cancelName}\n                </Button>\n            </div>) : null}\n            </Modal.Footer>\n        </Modal>\n    </div>\n  );\n}\n\nexport default OrganisationHome;","import { UPUpdateDefault, UPUpdateRooms, UPUpdateRoom_View, UPUpdateRoom_Write, UPUpdateRoom_Edit, UPUpdateRoom_Delete, UPUpdateRoom_Repeat, UPUpdateViewAllUsers, UPUpdateViewAllDepartments, \n    UPUpdateOrgAdminAccess, UPUpdateOrgAdmin_loginSettings, UPUpdateOrgAdmin_departments, UPUpdateOrgAdmin_users, UPUpdateOrgAdmin_rooms, UPUpdateOrgAdmin_layouts, UPUpdateOrgAdmin_weekSystemHoldays, \n    UPUpdateOrgAdmin_userProfiles } from '../store/actions/userProfile';\n\nimport { ModifySettings } from '../store/actions/globalSettings/userProfileAdminGlobalSettings';\n\n/* ----------SETTINGS DESCRPTIONS--------------------------\n\n    varaible (action method) - description\n\n    default (UPUpateDefault) - set the default profile on and off.\n    rooms (UPUpateRooms) - holds the room data from the profile.\n    room_View (UPUpdateRoom_View) - set the current room's view setting.\n    room_Write (UPUpdateRoom_Write) - set the current room's write setting.\n    room_Edit (UPUpdateRoom_Edit) - set the current room's edit setting.\n    room_Delete (UPUpdateRoom_Delete) - set the current room's repeat setting.\n    room_Repeat (UPUpdateRoom_Repeat) - set the current room's delete setting.\n    viewAllUsers (UPUpateViewAllUsers) - set the current user to see only them or all of the users in the organisation.\n    viewAllDepartments (UPUpateViewAllDepartments) - set the current use to see only their departments or all of the departments in the organisation.\n    orgAdminAccess (UPUpateOrgAdminAccess) gives the current user access to the organisation admin.\n\n*/\n\nexport function setDefaultAccessLevelSettings(userStore, dispatch) {\n    dispatch(UPUpdateDefault(true)); \n\n    //Access Level Settings\n    if(userStore.role == 'user') {\n        \n        dispatch(UPUpdateRoom_View(true));\n        dispatch(UPUpdateRoom_Write(true));\n\n    } else if(userStore.role == 'admin') {\n\n        dispatch(UPUpdateRoom_View(true));\n        dispatch(UPUpdateRoom_Write(true));\n        dispatch(UPUpdateRoom_Repeat(true));\n\n        dispatch(UPUpdateViewAllUsers(true));\n        dispatch(UPUpdateViewAllDepartments(true));\n\n    } else if(userStore.role == 'seniorAdmin') {\n\n        dispatch(UPUpdateRoom_View(true));\n        dispatch(UPUpdateRoom_Write(true));\n        dispatch(UPUpdateRoom_Repeat(true));\n\n        dispatch(UPUpdateViewAllUsers(true));\n        dispatch(UPUpdateViewAllDepartments(true));\n\n        dispatch(UPUpdateOrgAdminAccess(true));\n    }\n}\n\nexport function setUserProfileSettings(dispatch, profile) {\n\n    console.log(profile);\n    dispatch(UPUpdateRooms(profile.rooms));\n    dispatch(UPUpdateViewAllUsers(profile.viewAllUsers));\n    dispatch(UPUpdateViewAllDepartments(profile.viewAllDepartments));\n\n    dispatch(UPUpdateOrgAdminAccess(profile.orgAdminAccess));\n    dispatch(UPUpdateOrgAdmin_loginSettings(profile.admin_loginSettings));\n    dispatch(UPUpdateOrgAdmin_departments(profile.admin_departments));\n    dispatch(UPUpdateOrgAdmin_users(profile.admin_users));\n    dispatch(UPUpdateOrgAdmin_rooms(profile.admin_rooms));\n    dispatch(UPUpdateOrgAdmin_layouts(profile.admin_layouts));\n    dispatch(UPUpdateOrgAdmin_weekSystemHoldays(profile.admin_weekSystemHolidays));\n    dispatch(UPUpdateOrgAdmin_userProfiles(profile.admin_userProfiles));\n}\n\n//THIS METHOD IS WHEN THE USER CHANGES THE ROOM ON THE FRONT END\nexport function updateRoomProfileSettings(dispatch, roomUUID, profile) {\n    for(const room in profile.rooms) {\n\n        \n        if(profile.rooms[room].roomUUID == roomUUID) {\n            dispatch(UPUpdateRoom_View((profile.rooms[room].prop_View == 'true')));\n            dispatch(UPUpdateRoom_Write((profile.rooms[room].prop_Write == 'true')));\n            dispatch(UPUpdateRoom_Edit((profile.rooms[room].prop_Edit == 'true')));\n            dispatch(UPUpdateRoom_Delete((profile.rooms[room].prop_Delete == 'true')));\n             dispatch(UPUpdateRoom_Repeat((profile.rooms[room].prop_Repeat == 'true')));\n        }\n    }\n}\n\n//ADMIN SETTINGS\n\nexport function setUserSettings(dispatch, settings) {\n\n    dispatch(ModifySettings(settings));\n}\n\nexport function updateSetting(store, dispatch, name, value) {\n\n    let settings = store.settings;\n\n    settings[name] = value;\n\n    dispatch(ModifySettings(settings));\n}\n\nexport function updateAdminSetting(store, dispatch, name, value) {\n\n    let settings = store.settings;\n\n    settings[name] = value;\n\n    let mainAdminSetting;\n    if(settings.admin_loginSettings || settings.admin_departments || settings.admin_users || settings.admin_rooms || settings.admin_layouts || settings.admin_weekSystemHolidays || settings.admin_userProfiles) {\n        mainAdminSetting = true;\n    } else {\n        mainAdminSetting = false;\n    }\n\n    settings.orgAdminAccess = mainAdminSetting;\n\n    dispatch(ModifySettings(settings));\n}","import React from 'react';\nimport { Card, Row, Col, Button } from 'react-bootstrap';\nimport Axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CollideBookingsForceUpdate } from '../../../store/actions/globalVars';\n\nfunction Collides_bookingSlot(props) {\n\n    const dispatch = useDispatch();\n    const globalVars = useSelector(state => state.globalVars);\n\n    function handleDelete(uuid) {\n        \n        const data = {orgID: props.orgID, bookingUUID: uuid};\n        Axios.post('/organisation/collide/deleteBooking', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.error == 'null') {\n                if(!globalVars.collideBookingsUpdate) {\n                    dispatch(CollideBookingsForceUpdate(true));\n                } else {\n                    dispatch(CollideBookingsForceUpdate(false));\n                }\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div>\n            <Card body className='collides_bookingSlot'>\n                 <Row>\n                    Booking - Room: {props.roomName}\n                </Row>\n                <Row>\n                    <Col>\n                        User: <br />{props.user}\n                    </Col>\n                    <Col>\n                        Description: <br/>{props.sessionDes}\n                    </Col>\n                    <Col>\n                        Booking Type:<br /> {props.bookingType} - {props.repeatType}\n                    </Col>\n                    <Col>\n                        Start Date: <br/> {props.startDate}\n                    </Col>\n                    <Col>\n                        Session: {props.session}\n                    </Col>\n                    <Col>\n                        Session Length: {props.sessionTotal}\n                    </Col>\n                    <Col>\n                        <Button variant='primary' onClick={() => handleDelete(props.uuid)}>Delete</Button>\n                    </Col>\n                </Row>\n            </Card>\n        </div>\n    )\n}\n\nexport default Collides_bookingSlot;","import React from 'react';\nimport { Card, Row, Col, Button } from 'react-bootstrap';\nimport Axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CollideBookingsForceUpdate } from '../../../store/actions/globalVars';\n\nfunction Collides_collideSlot(props) {\n\n    const dispatch = useDispatch();\n    const globalVars = useSelector(state => state.globalVars);\n\n    function handleDelete(bookingUUID, uuid) {\n        \n        const data = {orgID: props.orgID, bookingUUID: bookingUUID, collideUUID: uuid}\n        Axios.post('/organisation/collide/deleteCollide', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.error == 'null') {\n                if(!globalVars.collideBookingsUpdate) {\n                    dispatch(CollideBookingsForceUpdate(true));\n                } else {\n                    dispatch(CollideBookingsForceUpdate(false));\n                }\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div>\n            <Card body className='collides_collideSlot'>\n                <Row>\n                    Collided Booking\n                </Row>\n                <Row>\n                    <Col>\n                        User: <br />{props.user}\n                    </Col>\n                    <Col>\n                        Description: <br/>{props.sessionDes}\n                    </Col>\n                    <Col>\n                        Booking Type:<br /> {props.bookingType}\n                    </Col>\n                    <Col>\n                        Start Date: <br/> {props.startDate}\n                    </Col>\n                    <Col>\n                        Session: {props.session}\n                    </Col>\n                    <Col>\n                        Session Length: {props.sessionTotal}\n                    </Col>\n                    <Col>\n                        <Button variant='primary' onClick={() => handleDelete(props.bookingUUID, props.uuid)}>Delete</Button>\n                    </Col>\n                </Row>\n            </Card>\n        </div>\n    )\n}\n\nexport default Collides_collideSlot;","import React, { useEffect, useState } from 'react';\nimport { Container, Jumbotron } from 'react-bootstrap'\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport Axois from 'axios';\nimport Axios from 'axios';\n\nimport BookingSlot from '../../components/pages/organisationAdmin/collides_bookingSlot';\nimport CollideSlot from '../../components/pages/organisationAdmin/collides_collideSlot';\n\nfunction CollisionBookings(props) {\n\n    const orgID = props.match.params.id;\n    const organisation = useSelector(state => state.organisation);\n    const globalVars = useSelector(state => state.globalVars);\n    const history = useHistory();\n\n    const [settings, setSettings] = useState({\n        bookings: [],\n    })\n\n\n    useEffect(() => {\n        onOpen();\n    }, [globalVars.collideBookingsUpdate]);\n    \n    function onOpen() {\n        if(!organisation.locked) {\n            history.push('/org/' + orgID);\n        } else {\n\n            const data = {orgID, orgID}\n            Axios.post('/organisation/collidedbookings', data)\n            .then(res => {\n                const data = res.data;\n\n                if(data.error != 'null') {\n                    history.push('/org/' + orgID + '/organisationAdmin');\n                } else {\n                    if(data.bookings.length > 0) {\n                        WorkBookings(data.bookings, data.collides, data.sessions);\n                    } else {\n                        history.push('/org/' + orgID + '/organisationAdmin');\n                    }\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    function WorkBookings(bookings, collides, sessions) {\n\n        for(const booking of bookings) {\n            \n            const sessionData = booking.sessions.split(',')[0];\n            const firstSession = sessionData.split('-')[1];\n            let layoutUUID = '';\n            let layout = ''\n\n            for(const room of organisation.rooms) {\n                if(room.uuid == booking.roomID) {\n                    booking.roomName = room.name;\n                    layoutUUID = room.layout;\n                }\n            }\n\n            for(const lay of organisation.layouts) {\n                if(lay.uuid == layoutUUID) {\n                    layout = lay.layout;\n                }\n            }\n\n            if(layout == 'Timetable') {\n                for(const sess of sessions) {\n                    if(sess.layoutUUID == layoutUUID && formatString(sess.id) == firstSession) {\n                        if(firstSession.includes('b')) {\n                            if(sess.breakText != '') {\n                                booking.firstSession = sess.breakText;\n                            } else {\n                                booking.firstSession = firstSession;\n                            }\n                        } else {\n                            if(sess.customText != '') {\n                                booking.firstSession = sess.customText;\n                            } else {\n                                booking.firstSession = firstSession;\n                            }\n                        }\n                    }\n                }\n            } else if(layout == 'Diary') {\n                booking.firstSession = firstSession[0] + firstSession[1] + ':' + firstSession[2] + firstSession[3];\n            }\n\n            const collideUUIDs = booking.collideUUID.split(',');\n\n            let bookingCollides = [];\n            for(const uuid of collideUUIDs) {\n\n                for(const collide of collides) {\n\n                    if(collide.uuid == uuid) {\n                        const cSessionData = collide.sessions.split(',')[0];\n                        const cFirstSession = cSessionData.split('-')[1];\n                        \n                        if(layout == 'Timetable') {\n                            for(const sess of sessions) {\n                                if(sess.layoutUUID == layoutUUID && formatString(sess.id) == cFirstSession) {\n                                    if(cFirstSession.includes('b')) {\n                                        if(sess.breakText != '') {\n                                            collide.firstSession = sess.breakText;\n                                        } else {\n                                            collide.firstSession = cFirstSession;\n                                        }\n                                    } else {\n                                        if(sess.customText != '') {\n                                            collide.firstSession = sess.customText;\n                                        } else {\n                                            collide.firstSession = cFirstSession;\n                                        }\n                                    }\n                                }\n                            }\n                        } else if(layout == 'Diary') {\n                            collide.firstSession = cFirstSession[0] + cFirstSession[1] + ':' + cFirstSession[2] + cFirstSession[3];\n                        }\n\n                        bookingCollides.push(collide);\n                    }\n                }\n            }\n\n            booking.collideBookings = bookingCollides;\n        }\n\n        setSettings(prevState => {\n            return {...prevState, bookings: bookings}\n        });\n    }\n\n    function formatString(time) {\n        \n        if(time.toString().includes('b')) {\n            time = time.replace('b', '');\n    \n            if(time.toString().length == 1) {\n                return 'b0' + time;\n            } else {\n                return time;\n            }\n        } else {\n            if(time.toString().length == 1) {\n                return '0' + time;\n            } else {\n                return time;\n            }\n        }\n    }\n\n    return (\n        <div className='body'>\n            <Container fluid className='p-3'>\n                <Jumbotron className='back-color'>\n                    <h1>Collision Bookings</h1>\n                    <br />\n                    {settings.bookings.map((booking, index) => {\n                        return(<div key={index}>\n                            <BookingSlot orgID={orgID} uuid={booking.uuid} roomName={booking.roomName} user={booking.user} sessionDes={booking.sessionDes} bookingType={booking.bookingType} repeatType={booking.repeatType} startDate={booking.startDate} sessionTotal={booking.sessionTotal} session={booking.firstSession}/>\n\n                            {settings.bookings[index].collideBookings.map((collide, index) => {\n                                return <CollideSlot orgID={orgID} bookingUUID={booking.uuid} uuid={collide.uuid} key={index} user={collide.user} sessionDes={collide.sessionDes} bookingType={collide.bookingType} startDate={collide.startDate} sessionTotal={collide.sessionTotal} session={collide.firstSession}/>\n                            })}\n                            <br />\n                        </div>) \n                    })}\n                </Jumbotron>\n            </Container>\n        </div>\n    )\n}\n\nexport default CollisionBookings;","import Axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport { Button, Col, Container, Jumbotron, Row, Modal } from 'react-bootstrap';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { userUpdateRole, userUpdateSARequest} from '../../store/actions/user';\nimport { UpdateForceSignIn, UpdateFromSignIn } from '../../store/actions/globalVars';\n\nfunction ChangeOfSeniorRequest(props) {\n\n    const orgID = props.match.params.id;\n    const user = useSelector(state => state.user);\n    const globalVars = useSelector(state => state.globalVars);\n    const dispatch = useDispatch();\n\n    const [settings, setSettings] = useState({\n        organisation: {}\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleModalClose() {\n        \n        if(globalVars.forceSignIn) {\n            dispatch(UpdateFromSignIn(true));\n            dispatch(UpdateForceSignIn(false));\n        } else {\n            dispatch(UpdateFromSignIn(true));\n            dispatch(UpdateForceSignIn(true));\n        }\n        \n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    })\n    }\n\n    useEffect(() => {\n        onOpen();\n    }, [])\n\n    function onOpen() {\n\n        const data = {orgID: orgID}\n        Axios.post('/organisation/getSARData', data)\n        .then(res => {\n            console.log(res.data.org);\n            setSettings({organisation: res.data.org});\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleAccept() {\n\n        const data = {orgID, orgID, invate: 'Accept', newUserID: user.uuid}\n        Axios.post('/organisation/SAInvate', data)\n        .then(res => {\n            console.log(res.data);\n            if(res.data.message == 'Senior Admin Updated') {\n                dispatch(userUpdateRole(res.data.role));\n                dispatch(userUpdateSARequest(''));\n\n                setModal({heading: 'Request Accepted', open: true})\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleDecline() {\n\n        const data = {orgID, orgID, invate: 'Decline', newUserID: user.uuid}\n        Axios.post('/organisation/SAInvate', data)\n        .then(res => {\n            \n            if(res.data.message =='Senior Admin Request Declined') {\n                dispatch(userUpdateSARequest(''));\n\n                if(globalVars.forceSignIn) {\n                    dispatch(UpdateFromSignIn(true));\n                    dispatch(UpdateForceSignIn(false));\n                } else {\n                    dispatch(UpdateFromSignIn(true));\n                    dispatch(UpdateForceSignIn(true));\n                }\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div className='body changeOfSenior'>\n        <Container className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n                <h1>Change of Senior Admin Request</h1><br/>\n                <p>You are viewing this screen because {settings.organisation.POC_Name} has requested a change of Senior Admin role to you. </p>\n                <p>This means that you will be responible for the admin side of your organisation.</p>\n                <p>If you require help, please speak to {settings.organisation.POC_Name} or contact High-View Studios</p>\n                <p>Do you want to Accept or Decline this invitation?</p>\n                <Row>\n                    <Col>\n                        <Button variant='primary' onClick={handleAccept}>Accept</Button>\n                    </Col>\n                    <Col>\n                        <Button variant='primary' onClick={handleDecline}>Decline</Button>\n                    </Col>\n                </Row>\n            </Jumbotron>\n        </Container>\n        <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                <p>You are now the Senior Admin of this organisation.</p>\n                <p>To get to the Admin side, go on the organisation page drop-down at the top-right of the screen</p>\n                </Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ChangeOfSeniorRequest;","import React, { useEffect, useState } from 'react'\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport {Container, Jumbotron, Col, Row, Form, Button, ListGroup, Modal} from 'react-bootstrap'\nimport Axios from 'axios';\n\nfunction UserDetails(props) {\n\n    const orgID = props.match.params.id;\n    const organisation = useSelector(state => state.organisation);\n    const AdminUserGlobalSettings = useSelector(state => state.AdminUserGlobalSettings);\n    const history = useHistory();\n\n    const [user, setUser] = useState({\n        name: '',\n        email: '',\n        roles: true,\n        role_User: false,\n        role_Admin: false,\n        role_SeniorAdmin: false,\n        departments: [],\n        depToUser: ''\n    });\n\n    const [modalChangeSA, setModalChangeSA] = useState({\n        open: false\n    });\n\n    function handleModalChangeSAClose() {\n        setModalChangeSA(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    const [modalYN, setModalYN] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        acceptFunction: '',\n        acceptName: '',\n        showAccept: false,\n        cancelName: '',\n        showCancel: false\n    });\n\n    const [modalTO, setModalTO] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        option1Function: '',\n        option1Name: '',\n        showOption1: false,\n        option2Function: '',\n        option2Name: '',\n        showOption2: false\n    });\n\n    function handleModalYNClose() {\n        setModalYN(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalTOClose() {\n        setModalTO(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    useEffect(() => {\n        onOpen();\n    }, []);\n\n    function handleRadioChange(event) {\n\n        const { name } = event.target;\n\n        if(name == 'role_User') {\n            setUser(prevState => {\n                return {...prevState,\n                role_Admin: false,\n                role_User: true}\n            })\n        }\n        if(name == 'role_Admin') {\n            setUser(prevState => {\n                return {...prevState,\n                role_Admin: true,\n                role_User: false}\n            })\n        }\n    }\n\n    function onOpen() {\n\n        const data = {uuid: AdminUserGlobalSettings.uuid}\n        Axios.post('/organisation/getJustUser', data)\n        .then(res => {\n            const data = res.data;\n            console.log(data);\n            if(data.error == 'no user') {\n                history.push('/org/' + orgID + '/organisationAdmin');\n            } else {\n                setUser(prevState => {\n                    return {...prevState, name: data.user.displayName, email: data.user.email, departments: ConvertIDsToDepartments(data.user.departments)};\n                });\n            }\n            if(data.user.role == 'seniorAdmin') {\n                setUser(prevState => {\n                    return {...prevState, roles: false, role_SeniorAdmin: true, role_Admin: false, role_User: false};\n                });\n            } else if(data.user.role == 'admin') {\n                setUser(prevState => {\n                    return {...prevState, roles: true, role_SeniorAdmin: false, role_Admin: true, role_User: false};\n                });\n            } else if(data.user.role == 'user') {\n                setUser(prevState => {\n                    return {...prevState, roles: true, role_SeniorAdmin: false, role_Admin: false, role_User: true};\n                });\n            }\n            \n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function ConvertIDsToDepartments(IDs) {\n\n        const userDepartments = IDs.split(',');\n\n        let departmentArray = [];\n\n        for(const department of userDepartments) {\n\n            for( const dep of organisation.departments) {\n                if(dep.uuid == department) {\n                    departmentArray.push(dep.name);\n                }\n            }\n        }\n\n        return departmentArray;\n    }\n\n    function handleClickedItem_Deparment(name) {\n        \n        setUser(prevState => {\n            return {...prevState, depToUser: name}\n        });\n    }\n\n    function handleAddDepToUser() {\n\n        if(!user.departments.includes(user.depToUser)) {\n            setUser(prevState => {\n                return {...prevState, departments: [...user.departments, user.depToUser]}\n            });\n        }\n    }\n\n    function hanldeRemoveDepFromUser() {\n\n        if(user.departments.includes(user.depToUser)) {\n            const newDep = user.departments.filter(name => {\n                return name != user.depToUser;\n            })\n\n            setUser(prevState => {\n                return {...prevState, departments: newDep}\n            })\n        }\n    }\n\n    function handleChange(event) {\n\n        const { name, value } = event.target;\n\n        setUser(prevState => {\n            return {... prevState, [name]: value}\n        })\n    }\n\n    function handleUpdate() {\n\n        const departments = ConvertDepartmentsToIDs();\n        \n        let role = '';\n        if(user.role_SeniorAdmin) role = 'seniorAdmin';\n        if(user.role_User) role = 'user';\n        if(user.role_Admin) role = 'admin';\n\n        const data = {uuid: AdminUserGlobalSettings.uuid, name: user.name, email: user.email, role: role, departments: departments, orgID: orgID};\n\n        Axios.post('/organisation/updateUser', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.message == 'User updated successfully') {\n                setModal(prevState => {\n                    return {...prevState, heading: 'Update User', message: 'User has been updated', open: true};\n                });\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function ConvertDepartmentsToIDs() {\n\n        let departmentIndex = [];\n\n        for(const department of organisation.departments) {\n\n            if(user.departments.includes(department.name)) {\n                departmentIndex.push(department.uuid);\n            }\n        }\n        console.log(departmentIndex)\n\n        return departmentIndex.toString();\n    }\n\n    function handleSeniorAdminRequest() {\n\n        setModalChangeSA({open: true})\n    }\n\n    function handleAcceptOfSARequest() {\n\n        const data = {orgID: orgID, newUUID: AdminUserGlobalSettings.uuid};\n        Axios.post('/organisation/changeSeniorAdmin', data)\n        .then(res => {\n            \n            if(res.data.message == 'Request sent successfully') {\n\n                setModalChangeSA({open: false});\n                setModal({heading: 'Change of Senior Admin Request', message: 'A request has been sent to ' + user.name, open: true});\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleUserChangeMethod() {\n\n        const data = {uuid: AdminUserGlobalSettings.uuid};\n        Axios.post('/organisation/getUserLoginMethod', data)\n        .then(res => {\n\n            const method = res.data.method;\n\n            if(method == '') {\n\n                const message = res.data.name + \" has not logged into the website yet, you can choose which method you want them to log in with.\";\n\n                setModalTO({heading: 'Change Login Method', message: message, option1Name: 'Local', option2Name: 'Google', option1Function: acceptToChangeToLocal, option2Function: acceptToChangeToGoogle,\n                            showOption1: true, showOption2: true, open: true})\n\n            } else {\n            let newMethod;\n            if(method == 'local') {\n                newMethod = 'google'\n            } else if(method == 'google') {\n                newMethod = 'local'\n            }\n\n            const message = res.data.name + \"'s login method is \" + method + \". Are you sure you want to change it to a \" + newMethod + \" method?\";\n\n            setModalYN({heading: 'Change Login Method', message: message, acceptName: 'Yes', acceptFunction: () => {acceptToChangeMethods(AdminUserGlobalSettings.uuid, newMethod, orgID)}, showAccept: true, cancelName: 'No', showCancel: true, open: true});    \n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function acceptToChangeMethods(id, newMethod, orgID) {\n\n        setModalYN({open: false});\n        \n        const data = {orgID: orgID, uuid: id, method: newMethod}\n        Axios.post('/organisation/changeUserLoginMethod', data)\n        .then(res => {\n            if(res.data.message == 'Strategy Updated') {\n                setModal({heading: 'Change Login Method', message: \"This user's login method has now been changed\", open: true})\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function acceptToChangeToGoogle() {\n\n        setModalTO({open: false});\n\n        const data = {orgID: orgID, uuid: AdminUserGlobalSettings.uuid, method: 'google'}\n        Axios.post('/organisation/changeUserLoginMethod', data)\n        .then(res => {\n            if(res.data.message == 'Strategy Updated') {\n                setModal({heading: 'Change Login Method', message: \"This user's login method has now been changed\", open: true})\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function acceptToChangeToLocal() {\n\n        setModalTO({open: false});\n\n        const data = {orgID: orgID, uuid: AdminUserGlobalSettings.uuid, method: 'local'}\n        Axios.post('/organisation/changeUserLoginMethod', data)\n        .then(res => {\n            if(res.data.message == 'Strategy Updated') {\n                setModal({heading: 'Change Login Method', message: \"This user's login method has now been changed\", open: true})\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleRemove() {\n\n        if(user.role_SeniorAdmin) {\n            setModal({heading: 'Remove User', message: 'You cannot delete a Senior Admin', open: true});\n        } else {\n\n            setModalYN({heading: 'Remove User', message: 'Are you sure you want to remove this user and all their bookings?', acceptName: 'Yes', acceptFunction: acceptRemove, showAccept: true, showCancel: true, cancelName: 'No', open: true});\n        }\n    }\n\n    function acceptRemove() {\n\n        setModalYN({open: false});\n\n        const data = {uuid: AdminUserGlobalSettings.uuid, orgID: orgID};\n\n            Axios.post('/organisation/removeUser', data)\n            .then(res => {\n                const data = res.data;\n\n                if(data.message == 'User removed successfully') {\n                    setModal(prevState => {\n                        return {...prevState, heading: 'Remove User', message: 'User has been removed and deleted', open: true};\n                    });\n\n                    history.push('/org/'+orgID+'/organisationAdmin');\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }\n\n    return (\n        <div>\n            <Container fluid className=\"p-3\">\n                <Jumbotron className=\"back-color\">\n                    <h1>User Details</h1>\n\n                    <Row>\n                        <Col>\n                            <div className='normal-text'>\n                                <Form>\n                                    <Form.Row>\n                                    <Form.Group as={Col}>\n                                        <Form.Label id='lblName'><strong>Name:</strong></Form.Label>\n                                        <Form.Control id='txtName' name='name' type='text' value={user.name} onChange={handleChange}/>\n                                    </Form.Group>\n                                    </Form.Row>\n                                    <Form.Row>\n                                    <Form.Group as={Col}>\n                                        <Form.Label id='lblEmail'><strong>Email:</strong></Form.Label>\n                                        <Form.Control id='txtEmail' name='email' type='text' value={user.email} onChange={handleChange}/>\n                                    </Form.Group>\n                                    </Form.Row>\n                                    <Form.Row>\n                                        <Form.Group as={Col}>\n                                        <div className={user.roles ? null : 'roles-hidden'}>\n                                            <Form.Label id=\"lblRole\"><strong>Role:</strong></Form.Label>\n                                            <Form.Check id=\"radRoleUser\" type=\"radio\" name='role_User' checked={user.role_User} onChange={handleRadioChange} label=\"User\" /> \n                                            <Form.Check id=\"radRoleAdmin\" type=\"radio\" name='role_Admin' checked={user.role_Admin} onChange={handleRadioChange} label=\"Admin\" />\n                                        </div>\n                                        </Form.Group>\n                                    </Form.Row>\n                                    <Form.Row>\n                                        <Form.Group as={Col}>\n                                            <Form.Label id=\"lblDepartmentsTitle\"><strong>Departments:</strong></Form.Label> <br />\n                                            {user.departments.length == 0 ? (\n                                                <div className='departments-hidden'>\n                                                    <Form.Label>---</Form.Label>\n                                                </div>): (\n                                                <div>\n                                                    <Form.Label id=\"lblDepartments\">{user.departments.toString()}</Form.Label>\n                                                </div>)}\n                                        </Form.Group>\n                                        </Form.Row>\n                                </Form>\n                            </div>\n                        </Col>\n                        <Col>\n                            <h3><strong>Departments</strong></h3>\n                            <Row>\n                                <Col>\n                                    <Button onClick={handleAddDepToUser}>Add</Button><br />\n                                    <Button onClick={hanldeRemoveDepFromUser}>Remove</Button>\n                                </Col>\n                                <Col>\n                                    \n                                    <div className='scrollable-250 normal-text'>\n                                        <ListGroup>\n                                            {organisation.departments.map((department, index) => {\n                                                return <ListGroup.Item href={'#' + index} key={index} action onClick={() => { handleClickedItem_Deparment(department.name) }}>{department.name}</ListGroup.Item>\n                                            })}\n                                        </ListGroup>\n                                    </div>\n                                    <div className='add-button'>\n                                        <Button onClick={handleUpdate}>Update User</Button>\n                                    </div>\n                                </Col>\n                             </Row>\n                        </Col>\n                        <Col>\n                            <div>\n                                <h3><strong>Advanced Actions</strong></h3>\n                                <Button onClick={handleSeniorAdminRequest}>S/A Request</Button> <br />\n                                <Button onClick={handleUserChangeMethod}>Change Login Method</Button><br />\n                                <Button onClick={handleRemove}>Remove</Button>\n                            </div>\n                        </Col>\n                    </Row>\n                </Jumbotron>\n            </Container>\n\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n            <Modal show={modalChangeSA.open} onHide={handleModalChangeSAClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>Change of Senior Admin Request</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <p>You are requesting {user.name} to change roles to the Senior Admin of this organisation. You can only have ONE Senior Admin per organisation, so this means you will not have access to the administrator panel for this organisation. Your role will change to Admin</p>\n                <p>This user will also be to new point of contact for High-View Studios.</p>\n                <p>This user will be sent an email and they have to accept the request. In the meantime you will still have access.</p>\n                <p>You and High-View Studios will be notified when this request has been accepted.</p>\n                <p>Do you want to continue?</p>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleAcceptOfSARequest}>\n                    Yes\n                </Button>\n                <Button variant=\"primary\" onClick={handleModalChangeSAClose}>\n                    No\n                </Button>\n            </Modal.Footer>\n        </Modal>\n        <Modal show={modalYN.open} onHide={handleModalYNClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalYN.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalYN.message}</Modal.Body>\n            <Modal.Footer>\n            {modalYN.showAccept ? (<div>\n                <Button variant=\"primary\" onClick={modalYN.acceptFunction}>\n                    {modalYN.acceptName}\n                </Button>\n            </div>) : null}\n            {modalYN.showCancel ? (<div>\n                <Button variant=\"primary\" onClick={handleModalYNClose}>\n                    {modalYN.cancelName}\n                </Button>\n            </div>) : null}\n            </Modal.Footer>\n        </Modal>\n        <Modal show={modalTO.open} onHide={handleModalTOClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalTO.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalTO.message}</Modal.Body>\n            <Modal.Footer>\n            {modalTO.showOption1 ? (<div>\n                <Button variant=\"primary\" onClick={modalTO.option1Function}>\n                    {modalTO.option1Name}\n                </Button>\n            </div>) : null}\n            {modalTO.showOption2 ? (<div>\n                <Button variant=\"primary\" onClick={modalTO.option2Function}>\n                    {modalTO.option2Name}\n                </Button>\n            </div>) : null}\n            </Modal.Footer>\n        </Modal>\n        </div>\n    )\n}\n\nexport default UserDetails","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { userUpdateNew } from '../store/actions/user';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport { Form } from 'react-bootstrap';\n\nfunction ForgotPassword(props) {\n\n  const organisationID = props.match.params.id;\n\n  const history = useHistory();\n  const [message, setmessage] = useState('');\n  const [sent, setSent] = useState(false);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n  },[]);\n\n  function requestPassword(event) {\n    event.preventDefault();\n\n    const email = document.getElementById('txtEmail').value;\n\n    if(email != '')\n    {\n      const data = {email : email};\n      axios.post('/requestPassword/', data)\n      .then(res => {\n        if(res.data.userError == \"Yes\") {\n          setmessage(res.data.message);\n        } else {\n          setSent(true);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n    }\n}\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h1>Forgot your password?</h1>\n        {sent ? (\n          <div>\n          <h3>Your new password has been requested, please check your email</h3>\n          <Button variant=\"warning\" onClick={() => history.push('/org/' + organisationID + '/signIn')}>Back to Sign In</Button><br /><br />\n          </div>\n        ) : (\n          <div>\n            <h3>Please enter your email below:</h3><br/>\n            <form>\n              <Form.Control id=\"txtEmail\" type=\"email\" required /><br /> <br />\n              <p>{message}</p>\n              <Button type='submit' variant=\"warning\" onClick={requestPassword}>Request New Password</Button><br /><br />\n            </form><br />\n          </div>\n            )}\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default ForgotPassword;\n","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userUpdateRequestedPassword } from '../store/actions/user';\nimport { UpdateForceSignIn, UpdateFromSignIn } from '../store/actions/globalVars';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction ChangePassword(props) {\n\n  const [message, setmessage] = useState('');\n  const [passwordHelp, setPasswordHelp] = useState(false);\n  const dispatch = useDispatch();\n  const globalVars = useSelector(state => state.globalVars);\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n  },[]);\n\n  function setPassword(event) {\n    event.preventDefault();\n\n    const oldPassword = document.getElementById('txtCurrentPassword').value;\n    const newPassword = document.getElementById('txtNewPassword').value;\n    const confirmPassword = document.getElementById('txtConfirmPassword').value;\n\n    if(oldPassword != '' && newPassword != '' && confirmPassword != '')\n    {\n      const data = { oldPassword: oldPassword, newPassword: newPassword, confirmPassword: confirmPassword};\n      \n      axios.post('/changePassword', data)\n      .then(res => {\n        if(res.data.userError == 'Yes') {\n          if(res.data.message == 'Your password is not strong enough') {\n            setmessage(res.data.message);\n            setPasswordHelp(true);\n          } else {\n            setPasswordHelp(false);\n            setmessage(res.data.message);\n          }\n        } else {\n          if(res.data.message == 'Updated user password') {\n            dispatch(userUpdateRequestedPassword(res.data.user.requestedPassword));\n            if(globalVars.forceSignIn) {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(false));\n            } else {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(true));\n            }\n          }\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n    }\n}\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h1>Please create a new password</h1>\n        <form>\n          <label id=\"lblCurrentPassword\">Current Password:</label><br />\n          <input id=\"txtCurrentPassword\" type=\"password\" required /><br /><br />\n          <label id=\"lblNewPassword\">New Password:</label><br />\n          <input id=\"txtNewPassword\" type=\"password\" required /><br /> <br />\n          <label id=\"lblConfirmPassword\">Confirm Password:</label><br />\n          <input id=\"txtConfirmPassword\" type=\"password\" required /><br /> <br />\n          <p>{message}</p>\n          {passwordHelp ? (\n            <div className='password-help-text'>\n              Your password must contain at least 1 uppercase, 1 lowercase, 1 number & 1 special character. It also requires to be a minimum 8 characters in length\n          </div>) : null}\n          <Button type='submit' variant=\"warning\" onClick={setPassword}>Set Password</Button><br /><br />\n        </form><br />\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default ChangePassword;\n","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userUpdateNew } from '../store/actions/user';\nimport { UpdateForceSignIn, UpdateFromSignIn } from '../store/actions/globalVars';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction CreatePassword(props) {\n\n  const [message, setmessage] = useState('');\n  const [passwordHelp, setPasswordHelp] = useState(false);\n  const dispatch = useDispatch();\n  const globalVars = useSelector(state => state.globalVars);\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n  },[]);\n\n  function setPassword(event) {\n    event.preventDefault();\n\n    const oldPassword = document.getElementById('txtCurrentPassword').value;\n    const newPassword = document.getElementById('txtNewPassword').value;\n    const confirmPassword = document.getElementById('txtConfirmPassword').value;\n\n    if(oldPassword != '' && newPassword != '' && confirmPassword != '')\n    {\n      const data = { oldPassword: oldPassword, newPassword: newPassword, confirmPassword: confirmPassword};\n\n      axios.post('/createPassword', data)\n      .then(res => {\n        if(res.data.userError == 'Yes') {\n          if(res.data.message == 'Your password is not strong enough') {\n            setmessage(res.data.message);\n            setPasswordHelp(true);\n          } else {\n            setPasswordHelp(false);\n            setmessage(res.data.message);\n          }\n        } else {\n          if(res.data.message == 'Updated user first password') {\n            dispatch(userUpdateNew(res.data.user.new));\n            if(globalVars.forceSignIn) {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(false));\n            } else {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(true));\n            }\n          }\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n    }\n}\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h1>Hello, and welcome to My STAFF</h1>\n        <h3>Please create a new password</h3>\n        <form>\n          <label id=\"lblCurrentPassword\">Current Password:</label><br />\n          <input id=\"txtCurrentPassword\" type=\"password\" required /><br /><br />\n          <label id=\"lblNewPassword\">New Password:</label><br />\n          <input id=\"txtNewPassword\" type=\"password\" required /><br /> <br />\n          <label id=\"lblConfirmPassword\">Confirm Password:</label><br />\n          <input id=\"txtConfirmPassword\" type=\"password\" required /><br /> <br />\n          <p>{message}</p>\n          {passwordHelp ? (\n            <div className='password-help-text'>\n              Your password must contain at least 1 uppercase, 1 lowercase, 1 number & 1 special character. It also requires to be a minimum 8 characters in length\n          </div>) : null}\n          <Button type='submit' variant=\"warning\" onClick={setPassword}>Set Password</Button><br /><br />\n        </form><br />\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default CreatePassword;\n","import React, { useState, useEffect} from 'react';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { UpdateForceSignIn, UpdateFromSignIn } from '../store/actions/globalVars';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction WrongOrganisation(props) {\n\n  const organisationID = props.match.params.id;\n\n  const globalVars = useSelector(state => state.globalVars);\n  const user = useSelector(state => state.user);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    document.title = \"STAFF - Not Connected\";\n  },[])\n\n  function toOrgSignIn() {\n    \n    if(globalVars.forceSignIn) {\n      dispatch(UpdateFromSignIn(true));\n      dispatch(UpdateForceSignIn(false));\n    } else {\n      dispatch(UpdateFromSignIn(true));\n      dispatch(UpdateForceSignIn(true));\n    }\n  }\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h3>Sorry, this is not your organisation</h3><br /> <br />\n        <Button variant=\"warning\" onClick={toOrgSignIn}>Back to my organisation</Button><br /><br />\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default WrongOrganisation;\n","import React, {useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport { orgUpdateSignInLocal, orgUpdateSignInGoogle, orgUpdateMessage } from \"../../store/actions/organistion\";\nimport Shepherd from 'shepherd.js';\nimport \"../../../node_modules/shepherd.js/dist/css/shepherd.css\";\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Collapse from \"react-bootstrap/Collapse\";\nimport Form from \"react-bootstrap/Form\";\nimport { Row, Col } from 'react-bootstrap';\nimport Image from 'react-bootstrap/Image';\nimport plus from \"../../public/images/plus.png\";\nimport minus from \"../../public/images/minus.png\";\nimport Axios from 'axios';\n\nfunction LoginSettings(props) {\n\n    const orgID = props.orgID;\n\n    const organisation = useSelector(state => state.organisation);\n    const dispatch = useDispatch();\n\n    const [loginSettings, setLoginSettings] = useState({\n        open: false,\n        auth_local: false,\n        auth_google: false,\n        message: '',\n        save: false,\n        showSave: false\n      });\n\n    //TOUR\n    const tour = new Shepherd.Tour({\n      defaultStepOtions: {\n        classes: 'shepherd',\n        scrollTo: true\n      },\n      useModalOverlay: true\n    });\n\n    tour.addStep({\n      id: 'example-step',\n      title: 'Message',\n      text: 'This step is attached to the bottom of the <code>.example-css-selector</code> element.',\n      attachTo: {\n        element: '.example-class-selector',\n        on: 'bottom'\n      },\n      classes: '',\n      buttons: [\n        {\n          text: 'NEXT',\n          action: tour.next\n        }\n      ]\n    });\n\n    function handleTourStart() {\n        tour.start();\n    }\n\n    function openLogin() {\n\n        if(!loginSettings.open) {\n          setLoginSettings(prevState => {\n            return {...prevState,\n            auth_local: organisation.signInLocal,\n            auth_google: organisation.signInGoogle,\n            message: organisation.message,\n            open: true }\n          });\n        } else {\n          setLoginSettings(preState => {\n            return {...preState, open: false}\n          });\n        }\n      }\n    \n    function handleCheckChange(event) {\n\n        const {name, checked} = event.target;\n        setLoginSettings((prevState) => {\n          return {...prevState, [name]: Boolean(checked),\n          showSave: true}\n        })\n    \n        console.log(name)\n      }\n    \n      function handleTextChange(event) {\n    \n        const {name, value} = event.target;\n        setLoginSettings((prevState) => {\n          return {...prevState, [name]: value,\n          showSave: true}\n        })\n      }\n    \n      function updateLoginSettings(event) {\n        event.preventDefault();\n    \n        const auth_local = document.getElementById('LoginSettings_ckbLocal').checked;\n        const auth_google = document.getElementById('LoginSettings_ckbGoogle').checked;\n        const message = document.getElementById('LoginSettings_txtMessage').value;\n    \n        const data = {orgID: orgID, auth_local: auth_local.toString(), auth_google: auth_google.toString(), message: message};\n    \n        Axios.post('/organisation/updateLoginSettings', data)\n        .then( res => {\n          if(res.data.message == 'Login settings updated successfully') {\n            dispatch(orgUpdateSignInLocal(auth_local));\n            dispatch(orgUpdateSignInGoogle(auth_google));\n            dispatch(orgUpdateMessage(message));\n    \n            setLoginSettings(preState => {\n              return {...preState, save: true}\n            });\n    \n            const timer = setTimeout(() => {\n              setLoginSettings(preState => {\n                return {...preState, save: false, showSave: false, open: false}\n              });\n      \n            }, 2000)\n          }\n        })\n        .catch (err => {\n          console.log(err);\n        })\n    \n      }\n    \n    return (\n        <div>\n            <table width='100%' border='1px'>\n                <thead>\n                  <tr>\n                    <th>\n                      <div className=\"heading-text\"> <Image className=\"plus-image\" src={loginSettings.open ? minus : plus} onClick={openLogin} /> Login Settings</div><br />\n                      <Collapse in={loginSettings.open}> \n                      <div>\n                        <div className='margin-text-hide'>\n                          <Button variant='primary' onClick={handleTourStart}>Tour</Button>\n                        </div>\n                        <div className=\"normal-text\">\n                        <Row>\n                        <Col>\n                          <Form>\n                            Login Options: \n                            <Form.Group as={Col}>\n                            <Form.Check id=\"LoginSettings_ckbLocal\" name=\"auth_local\" type=\"checkbox\" checked={loginSettings.auth_local} onChange={handleCheckChange} label=\"Local Login\" />\n                          </Form.Group>\n                          <Form.Group as={Col}>\n                            <Form.Check id=\"LoginSettings_ckbGoogle\" name=\"auth_google\" type=\"checkbox\" checked={loginSettings.auth_google} onChange={handleCheckChange} label=\"Google Login\" />\n                          </Form.Group>\n                          <Form.Label className='example-class-selector' id=\"LoginSettings_lblMessage\">Login Message:</Form.Label><br />\n                          <Form.Control id=\"LoginSettings_txtMessage\" name=\"message\" value={loginSettings.message} onChange={handleTextChange} type=\"text\" required></Form.Control>\n                          </Form>\n                          </Col>\n                          <Col></Col>\n                          </Row>\n                          </div>\n                          <div className={loginSettings.showSave ? \"submit-button-show\" : \"submit-button-hidden\"}>\n                         <Button variant='primary' type='submit' onClick={updateLoginSettings}>Save</Button> {loginSettings.save ? \"Saved!\" : null}\n                          </div>\n                        </div>\n                      </Collapse>\n                    </th>\n                  </tr>\n                </thead>\n              </table>\n        </div>\n    )\n}\n\nexport default LoginSettings;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { orgUpdateUseDepartments, orgUpdateNoOfDepartments, orgUpdateDepartments } from \"../../store/actions/organistion\";\nimport Axios from 'axios';\n\nimport Button from \"react-bootstrap/Button\"\nimport Collapse from \"react-bootstrap/Collapse\";\nimport Form from \"react-bootstrap/Form\";\nimport { Row, Col, ListGroup, Modal } from 'react-bootstrap';\nimport Image from 'react-bootstrap/Image';\nimport plus from \"../../public/images/plus.png\";\nimport minus from \"../../public/images/minus.png\";\n\n\nfunction DepartmentSettings(props) {\n\n    const orgID = props.orgID;\n\n    const organisation = useSelector(state => state.organisation);    \n    const dispatch = useDispatch();\n\n    const [remove, setRemove] = useState({\n        uuid: 0,\n        activeRemove: false\n    });\n\n    const [departments, setDepartments] = useState({\n        open: false,\n        saved: false,\n        showSave: false,\n        useDepartments: false,\n        aname: '',\n        names: []\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    })\n    }\n\n    function openDepartments() {\n\n        if(!departments.open) {\n            setDepartments(prevState => {\n                return {...prevState,\n                    useDepartments: organisation.useDepartments,\n                    names: organisation.departments,\n                    open: true\n                }\n            })\n        } else {\n            setDepartments(prevState => {\n                return {...prevState,\n                    open: false\n                }\n            })\n        }\n    }\n\n    function handleChecked(event) {\n\n        const {name, checked} = event.target;\n        console.log(checked);\n\n       setDepartments(prevState => {\n            return {...prevState, [name]: checked,\n            showSave: true}\n        });\n\n        const data = {useDepartments: checked.toString(), orgID: orgID};\n\n        Axios.post('/organisation/updateUseDepartments', data)\n        .then(res => {\n            console.log(res.data.useDepartments);\n\n            dispatch(orgUpdateUseDepartments(departments.useDepartments));\n        })\n        .catch( err => {\n            console.log(err);\n        })\n    }\n\n    function handleChanged(event) {\n\n        const {name, value} = event.target;\n\n        setDepartments(prevState => {\n            return {...prevState, [name]:value}\n        })\n    }\n\n    function handleAddDepartment() {\n\n        if(departments.aname == '') {\n            setModal(prevState => {\n                return {...prevState,\n                heading: 'Add Deparment',\n                message: 'Please enter a name',\n                open: true\n                }\n            })\n        } else {\n            if(CheckDepartment(departments.aname)) {\n                \n                setModal(prevState => {\n                    return {...prevState,\n                    heading: 'Add Deparment',\n                    message: 'There is already a department with this name',\n                    open: true\n                }\n            });\n\n            } else {\n                const data = {orgID: orgID, departmentName: departments.aname};\n\n                Axios.post('/organisation/addDepartment', data)\n                .then(res => {\n                    console.log(res.data);\n                    dispatch(orgUpdateNoOfDepartments(res.data.noOfDepartments));\n                    dispatch(orgUpdateDepartments(res.data.departments));\n\n                    setDepartments(prevState => {\n                        return {...prevState, names: res.data.departments,\n                        aname: ''}\n                    });\n                })\n                .catch(err => {\n                    console.log(err);\n                })\n            }\n        }\n    }\n\n    function CheckDepartment(name) {\n        let check = false;\n\n        for(const department of organisation.departments) {\n            if(department.name == name) {\n                check = true;\n                break;\n            }\n        }\n\n        return check;\n    }\n\n    function handleRemoveDepartment() {\n        if(remove.activeRemove) {\n\n            const data = {orgID: orgID, uuid: remove.uuid}\n\n            Axios.post('/organisatiton/removeDepartment', data)\n            .then(res => {\n\n                console.log(res.data);\n                dispatch(orgUpdateDepartments(res.data.departments));\n\n                setDepartments(prevState => {\n                    return {...prevState, names: res.data.departments}\n                });\n\n                setRemove(preState => {\n                    return {...preState, activeRemove: false }\n                });\n            })\n            .catch(err => {\n                console.log(err);\n            });\n\n        }\n    }\n\n    function handleItemOnClick(uuid) {\n        setRemove(prevState => {\n            return {...prevState, uuid: uuid, activeRemove: true}\n        })\n\n        console.log(uuid);\n    }\n\n    return (\n        <div>\n            <table width='100%' border='1px'>\n                <thead>\n                    <tr>\n                        <th>\n                        <div className=\"heading-text\"> <Image className=\"plus-image\" src={departments.open ? minus : plus} onClick={openDepartments} /> Departments</div><br />\n                            <Collapse in={departments.open}>\n                                <div>\n                                    <div className='margin-text-hide'>\n                                    -\n                                    </div>\n                                <div className=\"normal-text\">\n                                    <Row>\n                                        <Col>\n                                            <Form>\n                                                <Form.Check id=\"chkUseDepartments\" name=\"useDepartments\" label=\"Use Departments\" checked={departments.useDepartments} onChange={handleChecked}/><br />\n                                                <p>Add new department:</p>\n                                                <Form.Control type=\"text\" value={departments.aname} name=\"aname\" onChange={handleChanged} />\n                                                <div className=\"add-button\">\n                                                    <Button onClick={handleAddDepartment}>Add</Button>\n                                                </div>\n                                            </Form>\n                                        </Col>\n                                        <Col>\n                                            Departments:\n                                            <div className=\"scrollable-300\">\n                                            <ListGroup>\n                                                {departments.names.map((department, index) => {\n                                                   return <ListGroup.Item href={'#' + index} key={index} action onClick={() => { handleItemOnClick(department.uuid) }}>{department.name}</ListGroup.Item>\n                                                })}\n                                            </ListGroup>\n                                            </div>\n                                            <div className={remove.activeRemove ? \"remove-button-show\" : \"remove-button-hidden\"}>\n                                                    <Button onClick={handleRemoveDepartment}>Remove</Button>\n                                            </div>\n                                        </Col>\n                                    </Row>\n                                </div>\n                          </div>\n                            </Collapse>\n                        </th>\n                    </tr>\n                </thead>\n            </table>\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default DepartmentSettings;","import { UpdateUUID, UpdateFromDetails } from '../store/actions/globalSettings/adminUserGlobalSettings';\n\nexport function setGUserID(dispatch, id) {\n\n    dispatch(UpdateUUID(id));\n}\n\nexport function setFromDetails(dispatch, value) {\n\n    dispatch(UpdateFromDetails(value));\n}","export const UpdateUUID = (val) => {\n    return {\n        type: 'UPDATE_ADMINU_UUID',\n        value: val\n    };\n}\n\nexport const UpdateFromDetails = (val) => {\n    return {\n        type: 'UPDATE_ADMINU_FROMDETAILS',\n        value: val\n    }\n}","import React, { useState, useEffect } from 'react';\nimport { Collapse, Image, Row, Col, Form, Button, Modal, ListGroup} from 'react-bootstrap';\n\nimport plus from '../../public/images/plus.png';\nimport minus from '../../public/images/minus.png';\nimport { useSelector, useDispatch } from 'react-redux';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { setGUserID, setFromDetails } from '../../globalSettings/adminUserSettings';\n\nfunction Users(props) {\n\n    const orgID = props.orgID;\n    const organisation = useSelector(state => state.organisation);\n    const AdminUserGlobalSettings = useSelector(state => state.AdminUserGlobalSettings);\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n\n        if(AdminUserGlobalSettings.fromDetails) {\n            setSettings(prevState => {\n                return {...prevState, open: true}\n            });\n            getAllOrgUsers();\n            setFromDetails(dispatch, false);\n        }\n    }, [])\n\n    const [settings, setSettings] = useState({\n        open: false,\n        name: '',\n        email: '',\n        role_User: false,\n        role_Admin: false,\n        role_SeniorAdmin: false,\n        multiAdd: false,\n        departments: [],\n        depToUser: '',\n        userDepartments: [],\n        users: [],\n        edit: false,\n        editID: 0,\n        roles: true\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function openTab() {\n\n        if(!settings.open) {\n            setSettings(prevState => {\n                return {...prevState, open: true}\n            })\n\n            getAllOrgUsers();\n        } else {\n            setSettings(prevState => {\n                return {...prevState, open: false}\n            })\n        }\n    }\n\n    function getAllOrgUsers() {\n\n        const data = {orgID: orgID};\n\n        Axios.post('/organisation/getUsers', data)\n        .then(res => {\n            console.log(res.data)\n            setSettings(prevState => {\n                return {...prevState, users: res.data.users}\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleMultipleAdd() {\n        setModal(prevState => {\n            return {...prevState,\n                heading: 'Multiple Add',\n                message: 'The feature is not advailable yet',\n                open: true\n        }\n    })\n    }\n\n    function handleSingleAdd() {\n\n        if(settings.name == '' || settings.email == '') {\n            setModal(prevState => {\n                return {...prevState,\n                    heading: 'Required',\n                    message: 'Please fill in the name and email field.',\n                    open: true\n                }\n            });\n        } else if(!settings.role_User && !settings.role_Admin){\n            setModal(prevState => {\n                return {...prevState,\n                    heading: 'Role',\n                    message: 'Please pick a role.',\n                    open: true\n                }\n            });\n        } else {\n            const departments = ConvertDepartmentsToIDs();\n            \n            let role = '';\n            if(settings.role_User) role = 'user';\n            if(settings.role_Admin) role = 'admin';\n\n            const data = {orgID: orgID, name: settings.name, email: settings.email, role: role, departments: departments};\n\n            Axios.post('/organisation/addUser', data)\n            .then(res => {\n                const data = res.data;\n\n                if(data.userError == \"Yes\") {\n                    setModal(prevState => {\n                        return {...prevState,\n                            heading: 'Add User',\n                            message: data.message,\n                            open: true\n                        }\n                    });\n                } else {\n                    setSettings(prevState => {\n                        return {...prevState, \n                            users: res.data.users,\n                            name: '',\n                            email: '',\n                            role_User: false,\n                            role_Admin: false,\n                            userDepartments: []\n                            }\n                    })\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    function ConvertDepartmentsToIDs() {\n\n        let departmentIndex = [];\n\n        for(const department of organisation.departments) {\n\n            if(settings.userDepartments.includes(department.name)) {\n                departmentIndex.push(department.uuid);\n            }\n        }\n        console.log(departmentIndex)\n\n        return departmentIndex.toString();\n    }\n\n    function ConvertIDsToDepartments(IDs) {\n\n        const userDepartments = IDs.split(',');\n\n        let departmentArray = [];\n\n        for(const department of userDepartments) {\n\n            for( const dep of organisation.departments) {\n                if(dep.uuid == department) {\n                    departmentArray.push(dep.name);\n                }\n            }\n        }\n\n        return departmentArray;\n    }\n\n    function handleRadioChange(event) {\n\n        const { name } = event.target;\n\n        if(name == 'role_User') {\n            setSettings(prevState => {\n                return {...prevState,\n                role_Admin: false,\n                role_User: true}\n            })\n        }\n        if(name == 'role_Admin') {\n            setSettings(prevState => {\n                return {...prevState,\n                role_Admin: true,\n                role_User: false}\n            })\n        }\n    }\n\n    function handleChange(event) {\n\n        const { name, value } = event.target;\n\n        setSettings(prevState => {\n            return {... prevState, [name]: value}\n        })\n    }\n\n    function handleClickedItem_Deparment(name) {\n        \n        setSettings(prevState => {\n            return {...prevState, depToUser: name}\n        });\n    }\n\n    function handleAddDepToUser() {\n\n        if(!settings.userDepartments.includes(settings.depToUser)) {\n            setSettings(prevState => {\n                return {...prevState, userDepartments: [...settings.userDepartments, settings.depToUser]}\n            });\n        }\n    }\n\n    function hanldeRemoveDepFromUser() {\n\n        if(settings.userDepartments.includes(settings.depToUser)) {\n            const newDep = settings.userDepartments.filter(name => {\n                return name != settings.depToUser;\n            })\n\n            setSettings(prevState => {\n                return {...prevState, userDepartments: newDep}\n            })\n        }\n    }\n\n    function handleClickedItem_User(uuid, name, email, role, departments) {\n\n        setSettings(prevState => {\n            return {...prevState, name: name, email: email, userDepartments: ConvertIDsToDepartments(departments), edit: true, editID: uuid}\n        });\n\n        if(role == 'seniorAdmin') {\n            setSettings(prevState => {\n                return {...prevState, role_SeniorAdmin: true, role_Admin: false, role_User: false, roles: false,}\n            })\n        } else {\n            if(role == 'user') {\n                setSettings(prevState => {\n                    return {...prevState, role_User: true, role_SeniorAdmin: false, role_Admin: false, roles: true}\n                });\n            } else if(role == 'admin') {\n                setSettings(prevState => {\n                    return {...prevState, role_Admin: true, role_SeniorAdmin: false, role_User: false, roles: true}\n                });\n            }\n        }\n    }\n\n    function handleBackToAdd() {\n\n        setSettings(prevState => {\n            return {...prevState, edit: false, name: '', email: '', roles: true, role_Admin: false, role_User: false, userDepartments: ''}\n        })    \n    }\n\n    function handleUpdate() {\n\n        const departments = ConvertDepartmentsToIDs();\n        \n        let role = '';\n        if(settings.role_SeniorAdmin) role = 'seniorAdmin';\n        if(settings.role_User) role = 'user';\n        if(settings.role_Admin) role = 'admin';\n\n        const data = {uuid: settings.editID, name: settings.name, email: settings.email, role: role, departments: departments, orgID: orgID};\n\n        Axios.post('/organisation/updateUser', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.message == 'User updated successfully') {\n                setModal(prevState => {\n                    return {...prevState, heading: 'Update User', message: 'User has been updated', open: true};\n                });\n\n                setSettings(prevState => {\n                    return {...prevState, users: data.users, edit: false};\n                })\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function goToUserDetails(uuid) {\n        setGUserID(dispatch, uuid);\n        setFromDetails(dispatch, true);\n\n        history.push(\"/org/\" + orgID + \"/userDetails\");\n    }\n\n    return (\n        <div>\n            <table width='100%' border='1px'>\n                <thead>\n                    <tr>\n                        <th>\n                            <div className=\"heading-text\"> <Image className=\"plus-image\" src={settings.open ? minus : plus} onClick={openTab} /> Users</div><br />\n                            <Collapse in={settings.open}>\n                            <div>\n                                <div className='margin-text-hide'>\n                                    -\n                                </div>\n                                <div className=\"normal-text\">\n                                    {/* <p>Name</p><p>Email</p><p>Role</p><p>Deparments</p> */}\n                                    <Row>\n                                        <Col>\n                                            <Row>\n                                            <Col className='bordered'>\n                                                <strong>User Details:</strong>\n                                                <Form>\n                                                    <Form.Row>\n                                                    <Form.Group as={Col}>\n                                                        <Form.Label id=\"lblName\">Name:</Form.Label>\n                                                        <Form.Control id=\"txtName\" name=\"name\" type=\"text\" value={settings.name} onChange={handleChange} />\n                                                    </Form.Group>\n                                                    </Form.Row>\n                                                    <Form.Row>\n                                                    <Form.Group as={Col}>\n                                                        <Form.Label id=\"lblEmail\">Email:</Form.Label>\n                                                        <Form.Control id=\"txtEmail\" name=\"email\" value={settings.email} type=\"text\" onChange={handleChange} />\n                                                    </Form.Group>\n                                                    </Form.Row>\n                                                    <Form.Row>\n                                                    <Form.Group as={Col}>\n                                                    <div className={settings.roles ? null : 'roles-hidden'}>\n                                                        <Form.Label id=\"lblRole\">Role:</Form.Label>\n                                                        <Form.Check id=\"radRoleUser\" type=\"radio\" name='role_User' checked={settings.role_User} onChange={handleRadioChange} label=\"User\" /> \n                                                        <Form.Check id=\"radRoleAdmin\" type=\"radio\" name='role_Admin' checked={settings.role_Admin} onChange={handleRadioChange} label=\"Admin\" />\n                                                    </div>\n                                                        \n                                                    </Form.Group>\n                                                    </Form.Row>\n                                                    <Form.Row>\n                                                    <Form.Group as={Col}>\n                                                        <Form.Label id=\"lblDepartmentsTitle\">Departments:</Form.Label> <br />\n                                                        {settings.userDepartments.length == 0 ? (\n                                                            <div className='departments-hidden'>\n                                                                <Form.Label>---</Form.Label>\n                                                            </div>): (\n                                                            <div>\n                                                                <Form.Label id=\"lblDepartments\">{settings.userDepartments.toString()}</Form.Label>\n                                                            </div>)}\n                                                    </Form.Group>\n                                                    </Form.Row>\n                                                    <Form.Row>\n                                                    <div className=\"submit-button-show\">\n                                                        {!settings.edit ? (<div>\n                                                            <Button variant=\"primary\" onClick={handleMultipleAdd}>Add Multiple</Button>\n                                                            <Button variant=\"primary\" onClick={handleSingleAdd}>Add</Button>\n                                                        </div>) : (\n                                                            <div>\n                                                        <Button className='side-by-side' variant=\"primary\" onClick={handleBackToAdd}>Add New User</Button>\n                                                        </div>)}\n                                                    </div>\n                                                    </Form.Row>\n                                                    \n                                                    <Form.Row className={settings.edit ? 'user-edit' : 'user-edit edit-hidden'}>\n                                                        <div> \n                                                            <Button className='side-by-side' variant=\"primary\" onClick={handleUpdate}>Update</Button> \n                                                        </div>\n                                                    </Form.Row>\n                                                </Form>\n                                            </Col>\n                                            <Col className='bordered'>\n                                            <strong>Departments:</strong>\n                                            <div className='scrollable-250'>\n                                            <ListGroup>\n                                                {organisation.departments.map((department, index) => {\n                                                   return <ListGroup.Item href={'#' + index} key={index} action onClick={() => { handleClickedItem_Deparment(department.name) }}>{department.name}</ListGroup.Item>\n                                                })}\n                                            </ListGroup>\n                                            </div>\n                                            <div className=\"add-button\">\n                                            <Button onClick={hanldeRemoveDepFromUser}>Remove</Button>\n                                            <Button onClick={handleAddDepToUser}>Add</Button>\n                                            </div>\n                                            </Col>\n                                            </Row>\n                                        </Col>\n                                        <Col>\n                                            Users: <br />\n                                            Single Click on a user to make quick changes on the left, or Double Click to see Advanced Actions                                            \n                                            <div className='scrollable-250'>\n                                            <ListGroup>\n                                                {settings.users.map((user, index) => {\n                                                    let name = '';\n                                                    if(user.role == 'seniorAdmin') {\n                                                        name = user.displayName + \" (Senior Admin)\";\n                                                    } else if (user.role == 'admin') {\n                                                        name = user.displayName + \" (Admin)\";\n                                                    } else {\n                                                        name = user.displayName;\n                                                    }\n                                                    return <ListGroup.Item href={'#' + index} key={index} action onDoubleClick={() => {goToUserDetails(user.uuid)}} onClick={() => { handleClickedItem_User(user.uuid, user.displayName, user.email, user.role, user.departments) }}>{name}</ListGroup.Item>\n                                                })}\n                                            </ListGroup>\n                                            </div>\n                                        </Col>\n                                    </Row>\n                                </div>\n                            </div>\n                            </Collapse>\n                        </th>\n                    </tr>\n                </thead>\n            </table>\n\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Users;","import React, { useState } from 'react';\nimport { Image, Collapse, Row, Col, Form, Dropdown, Button, Modal, ListGroup } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport plus from '../../public/images/plus.png';\nimport minus from '../../public/images/minus.png';\nimport Axios from 'axios';\nimport { orgUpdateRedeemedRooms, orgUpdateRooms } from '../../store/actions/organistion';\n\nfunction Rooms(props) {\n\n    const orgID = props.orgID;\n    const organisation = useSelector(state => state.organisation);\n    const dispatch = useDispatch();\n\n    const [settings, setSettings] = useState({\n        open: false,\n        layout: 'Layout',\n        layoutUUID: 0,\n        name: '',\n        rooms: [],\n        newAdd: false,\n        layouts: false,\n        editRoom: false,\n        roomUUID: 0,\n        yourLayouts: [],\n        weekSystem: false,\n        editAdd: false\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n    });\n\n    const [weekSystemModal, setWeekSystemModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleWeekSystemModalClose() {\n        setWeekSystemModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleWeekSystemModalYes() {\n\n        setSettings(prevState => {\n            return {...prevState, weekSystem: true}\n        });\n\n        setWeekSystemModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleWeekSystemModalNo() {\n\n        setSettings(prevState => {\n            return {...prevState, weekSystem: false}\n        });\n\n        setWeekSystemModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function openTab() {\n\n        if(!settings.open) {\n\n            const data = {orgID: orgID}\n            Axios.post('/organisation/getLayouts', data)\n            .then(res => {\n                setSettings(prevState => {\n                    return {...prevState, open: true, yourLayouts: res.data.layouts}\n                });\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        } else {\n            setSettings(prevState => {\n                return {...prevState, open: false}\n            })\n        }\n\n        const data = {orgID: orgID};\n\n        Axios.post('/organisation/getRooms', data)\n        .then(res => {\n            const data = res.data;\n            console.log(data);\n            setSettings(prevState => {\n                return{...prevState, rooms: data.rooms}\n            });\n        })\n        .catch(err => {\n            console.log(err);\n        })\n\n        checkIfAddRoomsAllowed(organisation.allocatedRooms, organisation.redeemedRooms);\n    }\n\n    function checkIfAddRoomsAllowed(allocatedRooms, redeemedRooms) {\n        console.log(redeemedRooms);\n        if(allocatedRooms === redeemedRooms) {\n            setSettings(prevState => {\n                return {...prevState, newAdd: false, layouts: false, editAdd: false}\n            });\n        } else {\n            setSettings(prevState => {\n                return {...prevState, newAdd: true, layouts: true, editAdd: true}\n            });\n        }\n    }\n\n    function handleChangeLayout(uuid, layout) {\n\n        setSettings(prevState => {\n            return {...prevState, layout: layout, layoutUUID: uuid};\n        })\n    }\n\n    function handleTextChanged(event) {\n\n        const { value } = event.target;\n\n        setSettings(prevState => {\n            return {...prevState, name: value}\n        })\n    }\n\n    function handleRoomAdd() {\n\n        if(settings.name === '') {\n            setModal(prevState => {\n                return {...prevState, heading: 'Add Room', message: 'The room requires a Name', open: true}\n            });\n        } else if (checkNameExsist(settings.name)) {\n            setModal(prevState => {\n                return {...prevState, heading: 'Add Room', message: 'A room with the same name already exists', open: true}\n            });\n        } else if (settings.layout === 'Layout') {\n            setModal(prevState => {\n                return {...prevState, heading: 'Add Room', message: 'The room requires a Layout', open: true}\n            });\n        } else {\n            \n            const data = {orgID: orgID, name: settings.name, layout: settings.layoutUUID, weekSystem: settings.weekSystem};\n\n            Axios.post('/organisation/addRoom', data)\n            .then(res => {\n                const data = res.data;\n\n                if(data.message === 'Successfully added room') {\n                    dispatch(orgUpdateRedeemedRooms(data.redeemedRooms));\n                    dispatch(orgUpdateRooms(data.rooms));\n\n                    setSettings(prevState => {\n                        return {...prevState, rooms: data.rooms, name: '', layout: 'layout', weekSystem: false};\n                    });\n\n                    checkIfAddRoomsAllowed(organisation.allocatedRooms, data.redeemedRooms);\n                }\n\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    function handleRoomUpdate() {\n\n        const data = {orgID: orgID, uuid: settings.roomUUID, layout: settings.layoutUUID};\n\n        Axios.post('/organisation/updateRoom', data)\n        .then(res => {\n\n            if(res.data.message == 'Updated Room') {\n                setSettings(prevState => {\n                    return {...prevState, rooms: res.data.rooms, roomUUID: 0, editRoom: false, layouts: false};\n                });\n\n                checkIfAddRoomsAllowed(organisation.allocatedRooms, organisation.redeemedRooms);\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n\n    }\n\n    function handleAddNewRoom() {\n\n        setSettings(prevState => {\n            return {...prevState, editRoom: false, layouts: false};\n        });\n\n        checkIfAddRoomsAllowed(organisation.allocatedRooms, organisation.redeemedRooms);\n    }\n\n    function checkNameExsist(name) {\n\n        let check = false;\n\n        for(const room of settings.rooms) {\n            if(room.name == name) {\n                check = true;\n                break;\n            }\n        }\n\n        return check;\n    }\n\n    function handleItemOnClick(uuid, layout, layoutUUID, weekSystem) {\n\n        setSettings(prevState => {\n            return{...prevState, roomUUID: uuid, editRoom: true, layouts: true, newAdd: false, layout: layout, layoutUUID: layoutUUID, weekSystem: (weekSystem == 'true')}\n        })\n    }\n\n    function handleRemoveRoom() {\n\n        setModal(prevState => {\n            return {...prevState, heading: 'Remove Room', message: \"This feature hasn't been completed yet\", open: true }\n        })\n    }\n\n    function getLayoutName(uuid) {\n\n        for(const layout of settings.yourLayouts) {\n            if(layout.uuid == uuid) {\n                return layout.name;\n            }\n        }\n    }\n\n    function handleWeekSystemClicked(event) {\n        \n        const { checked } = event.target;\n        \n        if(checked) {\n\n            const data = {orgID: orgID};\n\n            Axios.post('/organisation/getMainOrgWeekSystem', data)\n            .then(res => {\n                console.log(res.data);\n                if(res.data.weekSystem == 'false') {\n                    setModal({heading: 'Week System', message: \"You cannot turn on a room week system until you turn on the main week system in the 'Week System / Holidays' tab\", open: true});\n\n                    setSettings(prevState => {\n                        return {...prevState, weekSystem: false}\n                    });\n                } else {\n                    setSettings(prevState => {\n                        return {...prevState, weekSystem: checked}\n                    });\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        } else {\n            setSettings(prevState => {\n                return {...prevState, weekSystem: checked}\n            });\n        }\n    }\n\n\n    return (\n        <div>\n\n            <table width='100%' border='1px'>\n                <thead>\n                    <tr>\n                        <th>\n                            <div className=\"heading-text\"> <Image className=\"plus-image\" src={settings.open ? minus : plus} onClick={openTab} /> Rooms</div><br />\n                            <Collapse in={settings.open}>\n                            <div>\n                                <div className='margin-text-hide'>\n                                -\n                                </div>\n                                <div className=\"normal-text\">\n                                    <Row>\n                                        <Col>\n                                                <Row>\n                                                    <div className={settings.newAdd && settings.yourLayouts.length > 0 ? 'rooms-add' : 'rooms-add rooms-hide'}>\n                                                        <Form>\n                                                                <Form.Group>\n                                                                <Form.Label id='lblName'>Name:</Form.Label>\n                                                                <Form.Control id='txtName' value={settings.name} onChange={handleTextChanged} />\n                                                            </Form.Group>\n                                                        </Form>\n                                                    </div>\n                                                    <div className={settings.layouts && settings.yourLayouts.length > 0 ? '' : 'rooms-hide'}>\n                                                        <Form>\n                                                            <Form.Group>\n                                                                <Form.Label className='side-by-side' id='lblName'>Layout:</Form.Label>\n                                                                <Dropdown className='side-by-side'>\n                                                                    <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                                                                        {settings.layout}\n                                                                    </Dropdown.Toggle>\n                                                                    <Dropdown.Menu className='dropdown-items'>\n                                                                        {settings.yourLayouts.map((layout, index) => {\n                                                                            return <Dropdown.Item key={index} onClick={() => {handleChangeLayout(layout.uuid, layout.name)}}>{layout.name}</Dropdown.Item>\n                                                                        })}\n                                                                    </Dropdown.Menu>\n                                                                </Dropdown>\n                                                                {settings.newAdd ? (<div className='centred'>\n                                                                    <Form.Check type='checkbox' checked={settings.weekSystem} onChange={handleWeekSystemClicked} label='Use week system' />\n                                                                </div>) : null}\n                                                                {settings.editRoom && settings.yourLayouts.length > 0 ? (<div className='centred'>\n                                                                    Week System: {settings.weekSystem ? \" Enabled\" : \" Disabled\"}\n                                                                </div>) : null}\n                                                                \n                                                            </Form.Group>\n                                                        </Form>\n                                                    </div>\n                                                        \n                                                </Row>\n                                                <Row className='add-button'>\n                                                    {settings.newAdd && settings.yourLayouts.length > 0 ? <Button variant=\"primary\" onClick={handleRoomAdd}>Add</Button> : null }\n                                                    {settings.editRoom && settings.yourLayouts.length > 0 ? (<div>\n                                                        {settings.editAdd ? <Button variant=\"primary\" onClick={handleAddNewRoom}>Add New Room</Button> : null }\n                                                        <Button variant=\"primary\" onClick={handleRoomUpdate}>Update</Button>\n                                                    </div>) : null }\n                                                </Row>\n                                                <Row>\n                                                    <div className={settings.yourLayouts.length == 0 ? 'rooms-layoutText' : 'rooms-layoutText rooms-hide'}>\n                                                        <strong>\n                                                        There are no layouts in your system yet, use the layouts tab to add one. Then your will be able to assign a room to a layout.\n                                                        </strong>\n                                                    </div>\n                                                </Row>\n                                            </Col>\n                                        <Col>\n                                            Allocated Rooms: {organisation.allocatedRooms} <br />\n                                            Redeemed Rooms: {organisation.redeemedRooms}\n                                        </Col>\n                                        <Col>\n                                            Room List:\n                                            <div className=\"scrollable-300\">\n                                            <ListGroup>\n                                                {settings.rooms.map((room, index) => {\n                                                   return <ListGroup.Item href={'#' + index} variant={settings.roomUUID == room.uuid ? 'primary' : null} key={index} action onClick={() => { handleItemOnClick(room.uuid, getLayoutName(room.layout), room.layout, room.weekSystem) }}>{room.name} ({getLayoutName(room.layout)})</ListGroup.Item>\n                                                })}\n                                            </ListGroup>\n                                            </div>\n                                            <div className={settings.editRoom ? \"remove-button-show\" : \"remove-button-hidden\"}>\n                                                    <Button onClick={handleRemoveRoom}>Remove</Button>\n                                            </div>\n                                        </Col>\n                                    </Row>\n                                </div>\n                            </div>\n                            </Collapse>\n                        </th>\n                    </tr>\n                </thead>\n            </table>\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n            <Modal show={weekSystemModal.open} onHide={handleWeekSystemModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>Week System</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleWeekSystemModalNo}>No</Button>\n                <Button variant=\"primary\" onClick={handleWeekSystemModalYes}>Yes</Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Rooms;","export const UpdateSessions = (val) => {\n    return {\n        type: 'UPDATE_SESSIONS',\n        value: val\n    };\n}\n\nexport const UpdateOrder = (val) => {\n    return {\n        type: 'UPDATE_ORDER',\n        value: val\n    };\n}\n\nexport const UpdateBreakBtns = (val) => {\n    return {\n        type: 'UPDATE_BREAKBTNS',\n        value: val\n    };\n}","import { UpdateSessions, UpdateOrder, UpdateBreakBtns } from '../store/actions/globalSettings/adminLayoutsGlobalSettings';\n\nexport function resetSessions(dispatch) {\n    dispatch(UpdateSessions({}));\n    dispatch(UpdateOrder([]));\n}\n\nexport function SetSessions(dispatch, data) {\n    dispatch(UpdateSessions(data));\n}\n\nexport function SetOrder(dispatch, data) {\n    dispatch(UpdateOrder(data));\n}\n\nexport function addSession(store, dispatch, id) {\n\n    store.sessions[id] = {id: id, customText: '', hoverText: ''};\n    store.order.push(id.toString());\n\n    dispatch(UpdateSessions(store.sessions));\n    dispatch(UpdateOrder(store.order));\n}\n\nexport function minusSession(store, dispatch, index) {\n\n    const tempSessions = store.sessions;\n    let newSessions = {};\n    \n    let order = store.order;\n    let newOrder = [];\n\n    for(var i = 0; i < order.length; i++) {\n        const orderIndex = order[i];\n\n        if(orderIndex != index) {\n\n            let temp = {};\n            if(orderIndex.toString().includes('b')) {\n                temp = {id: tempSessions[orderIndex].id, breakText: tempSessions[orderIndex].breakText, textColor: tempSessions[orderIndex].textColor, bgColor: tempSessions[orderIndex].bgColor};\n            } else {\n                 temp = {id: tempSessions[orderIndex].id, customText: tempSessions[orderIndex].customText, hoverText: tempSessions[orderIndex].hoverText};\n            }\n\n            newSessions[orderIndex] = temp;\n            newOrder.push(orderIndex);   \n        }\n    }\n\n    dispatch(UpdateSessions(newSessions));\n    dispatch(UpdateOrder(newOrder));\n}\n\nexport function addBreak(store, dispatch, id) {\n\n    const name = 'b' + id;\n    store.sessions[name] = {id: name, customText: '', hoverText: ''};\n    store.order.push(name.toString());\n\n    dispatch(UpdateSessions(store.sessions));\n    dispatch(UpdateOrder(store.order));\n}\n\nexport function removeBreak(store, dispatch) {\n    \n    let breID = 1;\n    const tempSessions = store.sessions;\n\n    let newSessions = {};\n    let newOrder = [];\n    \n    for(var i = 0; i < store.order.length; i++) {\n        const orderIndex = store.order[i];\n\n        if(orderIndex != store.breakBtns.breakID) {\n\n            let temp = {};\n            if(orderIndex.toString().includes('b')) {\n                const newID = 'b' + breID;\n                temp = {id: newID, breakText: tempSessions[orderIndex].breakText, textColor: tempSessions[orderIndex].textColor, bgColor: tempSessions[orderIndex].bgColor};\n\n                newSessions[newID] = temp;\n                newOrder.push(newID)\n                breID++;\n            } else {\n                 temp = {id: tempSessions[orderIndex].id, customText: tempSessions[orderIndex].customText, hoverText: tempSessions[orderIndex].hoverText};\n\n                newSessions[orderIndex] = temp;\n                newOrder.push(orderIndex);\n            }\n            \n            \n        }\n    }\n\n    dispatch(UpdateSessions(newSessions));\n    dispatch(UpdateOrder(newOrder));\n\n    dispatch(UpdateBreakBtns({view: false, breakID: ''}));\n}\n\nexport function orderMoveUp(store, dispatch) {\n\n    const ID = store.order.indexOf(store.breakBtns.breakID);\n    let newOrder = store.order;\n\n    if((ID - 1) >= 0) {\n\n        const value = newOrder[ID]; \n        newOrder.splice(ID, 1);\n\n        const newID = ID - 1;\n        newOrder.splice(newID, 0, value);\n\n        dispatch(UpdateOrder(newOrder));\n    } \n}\n\nexport function orderMoveDown(store, dispatch) {\n\n    const ID = store.order.indexOf(store.breakBtns.breakID);\n    let newOrder = store.order;\n\n    if((ID + 1) < newOrder.length) {\n\n        const value = newOrder[ID]; \n        newOrder.splice(ID, 1);\n\n        const newID = ID + 1;\n        newOrder.splice(newID, 0, value);\n\n        dispatch(UpdateOrder(newOrder));\n    }\n}\n\nexport function toggleBreakBtns(dispatch, id, value) {\n\n    if(value) {\n        dispatch(UpdateBreakBtns({view: value, breakID: id}));\n    } else {\n        dispatch(UpdateBreakBtns({view: value, breakID: ''}));\n    }\n}\n\nexport function updateCustomText(store, dispatch, id, text) {\n\n    let sessions = store.sessions;\n\n    const obj = {customText: text, hoverText: sessions[id].hoverText, id: sessions[id].id}\n\n    sessions[id] = obj;\n\n    dispatch(UpdateSessions(sessions));\n}\n\nexport function updateHoverText(store, dispatch, id, text) {\n\n    let sessions = store.sessions;\n\n    const obj = {customText: sessions[id].customText, hoverText: text, id: sessions[id].id}\n\n    sessions[id] = obj;\n\n    dispatch(UpdateSessions(sessions));\n}\n\nexport function updateBreakText(store, dispatch, text) {\n\n    let sessions = store.sessions;\n\n    const obj = {id: sessions[store.breakBtns.breakID].id, breakText: text, textColor: sessions[store.breakBtns.breakID].textColor, bgColor: sessions[store.breakBtns.breakID].bgColor}\n\n    sessions[store.breakBtns.breakID] = obj\n    \n    dispatch(UpdateSessions(sessions));\n}\n\nexport function updateBreakColor(store, dispatch, name, value) {\n\n    let sessions = store.sessions;\n    let obj = {};\n    if(name === 'textColor') {\n        obj = {id: store.sessions[store.breakBtns.breakID].id, breakText: store.sessions[store.breakBtns.breakID].breakText, textColor: value, bgColor: store.sessions[store.breakBtns.breakID].bgColor}\n    }\n    if(name === 'bgColor') {\n        obj = {id: store.sessions[store.breakBtns.breakID].id, breakText: store.sessions[store.breakBtns.breakID].breakText, textColor: store.sessions[store.breakBtns.breakID].textColor, bgColor: value}\n    }\n\n    sessions[store.breakBtns.breakID] = obj;\n\n    dispatch(UpdateSessions(sessions));\n}","import React from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Form, Row, Col } from 'react-bootstrap';\nimport { toggleBreakBtns, updateCustomText, updateHoverText } from '../../globalSettings/adminLayoutsSettings';\n\nfunction SessionSlot(props) {\n\n    const AdminLayoutsGlobalSettings = useSelector(state => state.AdminLayoutsGlobalSettings);\n    const dispatch = useDispatch();\n\n    function handleChangeCustomText(event) {\n\n        const { value } = event.target;\n\n       updateCustomText(AdminLayoutsGlobalSettings, dispatch, props.id, value);\n        \n    }\n\n    function handleChangeHoverText(event) {\n\n        const { value } = event.target;\n\n        updateHoverText(AdminLayoutsGlobalSettings, dispatch, props.id, value);\n    }\n\n    function handleBreakBtns() {\n        toggleBreakBtns(dispatch, 0, false);\n    }\n\n    return (\n        <div>\n            <Row>\n                <Col sm={1}>\n                <div className=\"slot-id\">\n                    {props.id}\n                </div>\n                </Col>\n                <Col>\n                <Form.Control id=\"txtCustomText\" type='text' value={props.customText} onFocus={handleBreakBtns} onChange={handleChangeCustomText}/>\n                </Col>\n                <Col>\n                <Form.Control id=\"txtHoverText\" type='text' value={props.hoverText} onFocus={handleBreakBtns} onChange={handleChangeHoverText}/>\n                </Col>\n            </Row>\n        </div>\n    )\n}\n\nexport default SessionSlot;","import React, { useState } from 'react';\nimport { Row, Col, Form, Dropdown, Modal, Button } from 'react-bootstrap';\nimport { CompactPicker } from 'react-color';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { toggleBreakBtns, updateBreakText, updateBreakColor } from '../../globalSettings/adminLayoutsSettings';\n\nfunction BreakSlot(props) {\n\n    const AdminLayoutsGlobalSettings = useSelector(state => state.AdminLayoutsGlobalSettings);\n    const dispatch = useDispatch();\n\n    const [colorModal, setColorModal] = useState({\n        open: false,\n        color: \"ff0000\",\n        property: ''\n    });\n\n    function handleModalClose() {\n        setColorModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleBreakBtns() {\n        toggleBreakBtns(dispatch, props.id, true);\n    }\n\n    function handleChangeText(event) {\n\n        const { value } = event.target;\n\n        updateBreakText(AdminLayoutsGlobalSettings, dispatch, value);\n    }\n\n    function handleOpenColorModal_TextColor() {\n        \n        toggleBreakBtns(dispatch, props.id, true);\n        setColorModal(prevState => {\n            return {...prevState, open: true, property: 'textColor'}\n        })\n    }\n\n    function handleOpenColorModal_BgColor() {\n        \n        toggleBreakBtns(dispatch, props.id, true);\n        setColorModal(prevState => {\n            return {...prevState, open: true, property: 'bgColor'}\n        })\n    }\n\n    function handleModelPickColor() {\n        updateBreakColor(AdminLayoutsGlobalSettings, dispatch, colorModal.property, colorModal.color)\n        setColorModal(prevState => {\n            return {...prevState,\n            open: false\n        }});\n    }\n\n    function SetColorInModal(color) {\n\n        setColorModal(prevState => {\n            return {...prevState, color: color}\n        })\n    }\n\n    return (\n        <div>\n            <Row>\n                <Col sm={1}>\n                    <div className='break-id'>\n                        {props.id}\n                    </div>\n                </Col>\n                <Col className='break-padding'>\n                    <Form.Control style={{backgroundColor:props.bgColor, color:props.textColor}} id='txtbreakText' value={props.breakText} onFocus={handleBreakBtns} onChange={handleChangeText}/>\n                </Col>\n                <Col>\n                <Dropdown className='side-by-side'>\n                    <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                        Colour\n                    </Dropdown.Toggle>\n                    <Dropdown.Menu>\n                        <Dropdown.Item onClick={handleOpenColorModal_TextColor}>Text Colour</Dropdown.Item>\n                        <Dropdown.Item onClick={handleOpenColorModal_BgColor}>BackgroundColour</Dropdown.Item>\n                    </Dropdown.Menu>\n                </Dropdown>\n                </Col>\n            </Row>\n\n            <Modal show={colorModal.open} dialogClassName=\"color-modal-90w\" onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>Pick Colour</Modal.Title>\n                </Modal.Header>\n                <Modal.Body><CompactPicker color={colorModal.color} onChangeComplete={(color) => {SetColorInModal(color.hex)}} />\n                </Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModelPickColor}>\n                    OK\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default BreakSlot;","import React, { useState } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport plus from '../../public/images/plus.png';\nimport minus from '../../public/images/minus.png';\nimport {Image, Collapse, Row, Col, Dropdown, Form, Button, Modal} from 'react-bootstrap';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { resetSessions, SetOrder, SetSessions, addSession, minusSession, addBreak, removeBreak, orderMoveUp, orderMoveDown } from '../../globalSettings/adminLayoutsSettings';\n\nimport SessionSlot from './sessionSlot';\nimport BreakSlot from './breakSlot';\nimport Axios from 'axios';\nimport moment from 'moment';\n\nfunction Layouts(props) {\n\n     const orgID = props.orgID;\n     const dispatch = useDispatch();\n     const AdminLayoutsGlobalSettings = useSelector(state => state.AdminLayoutsGlobalSettings);\n\n     const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\n     const times = ['00:00', '00:30', '01:00', '01:30', '02:00', '02:30', '03:00', '03:30', '04:00', '04:30', '05:00', '05:30', '06:00', '06:30', '07:00', '07:30', '08:00', '08:30', '09:00', \n                    '09:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '13:00', '13:30', '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30', '18:00', '18:30',\n                    '19:00', '19:30', '20:00', '20:30', '21:00', '21:30', '22:00', '22:30', '23:00', '23:30'];\n\n    const [settings, setSettings] = useState({\n        open: false,\n        layoutText: 'layout',\n        yourLayoutText: 'Layouts',\n        yourLayouts: [],\n        currentLayout: {},\n        sessions: 1,\n        breaks: 0,\n        days: [false, false, false, false, false, false, false],\n        showPreview: false,\n        startTime: 'Start Time',\n        finishTime: 'Finish Time',\n        timeIntervalLbl: 'Interval',\n        timeInterval: 0,\n        times: [],\n        showTimetableSave: false,\n        showDiarySave: false,\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    const [addModal, setAddModal] = useState({\n        open: false,\n        heading: '',\n        newName: ''\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleAddModalClose() {\n        setAddModal(prevState => {\n            return{...prevState, open: false}\n        });\n    }\n\n    function openTab() {\n\n        if(!settings.open) {\n\n            const data = {orgID: orgID}\n            Axios.post('/organisation/getLayouts', data)\n            .then(res => {\n                setSettings(prevState => {\n                    return {...prevState, open: true, yourLayouts: res.data.layouts}\n                });\n            })\n            .catch(err => {\n                console.log(err);\n            })\n\n        } else {\n            setSettings(prevState => {\n                return {...prevState, open: false}\n            });\n            resetSessions(dispatch);\n\n        }\n    }\n\n    function handlePickLayout(uuid) {\n\n        let currentLayout;\n        resetSessions(dispatch);\n        \n        setSettings(prevState => {\n            return {...prevState, sessions: 0, breaks: 0}\n        });\n    \n        for(const [index, layout] of settings.yourLayouts.entries()){\n            if(layout.uuid == uuid) {\n                currentLayout = layout\n                break;\n            }\n        }\n        let layout = 'layout';\n        if(currentLayout.layout != '') {\n            layout = currentLayout.layout\n        }\n\n        setSettings(prevState => {\n            return {...prevState, yourLayoutText: currentLayout.name, layoutText: layout, currentLayout: currentLayout}\n        });\n\n        loadSettings(currentLayout);\n    }\n\n    function handleChangeLayout(event) {\n\n        const { innerText } = event.target;\n\n        let days = [false, false, false, false, false, false, false];\n\n        let showTimetableSave = false;\n        let showDiarySave = false;\n\n        if(settings.currentLayout.layout == innerText) {\n            loadSettings(settings.currentLayout);\n        } else {\n            if(innerText == 'Timetable') {\n                setSettings(prevState => {\n                    return {...prevState, sessions: 1}\n                });\n            } else if(innerText == 'Diary') {\n\n            }\n        }\n\n        let show = false;\n        for(const day of days) {\n            if(day == true) {\n                show = true;\n            }\n        }\n\n        setSettings(preState => {\n            return {...preState, layoutText: innerText, days: days, showDiarySave: showDiarySave, showTimetableSave: showTimetableSave, showPreview: show};\n        });\n\n    }\n\n    function loadSettings(currentLayout) {\n\n        if(currentLayout.layout == 'Timetable') {\n\n            if(currentLayout.days != '') {\n\n                let days = currentLayout.days.split(',');\n                days.forEach((day, index) => {\n                    days[index] = (day == 'true');\n                });\n\n                const data = {orgID: orgID, layoutUUID: currentLayout.uuid};\n                Axios.post('/organisation/getTimetableSessions', data)\n                .then(res => {\n                    const sessions = res.data.sessions;\n                    let newSessions = {};\n                    for(const session of sessions) {\n                        newSessions[session.id] = session;\n                      }\n\n                    SetSessions(dispatch, newSessions);\n                })\n                .catch(err => {\n                    console.log(err);\n                })\n                \n                const order = currentLayout.sessionOrder.split(',');\n                SetOrder(dispatch, order);\n\n                setSettings(prevState => {\n                return {...prevState, open: true, sessions: currentLayout.sessions, breaks: currentLayout.breakTotal, days: days, showTimetableSave: true, showPreview: true}\n                });\n\n            }\n        } else if(currentLayout.layout == \"Diary\") {\n\n            let days = currentLayout.days.split(',');\n            days.forEach((day, index) => {\n                days[index] = (day == 'true');\n            });\n\n            if(currentLayout.days != '') {\n\n                setSettings(prevState => {\n                    return {...prevState, startTime: currentLayout.startTime, finishTime: currentLayout.finishTime, timeInterval: currentLayout.timeInterval, days: days,\n                            showDiarySave: true, showPreview: true}\n                });\n                findIntervalText(currentLayout.timeInterval);\n                BuildTimes(currentLayout.startTime, currentLayout.finishTime, currentLayout.timeInterval)\n            }\n        }\n    }\n\n    function findIntervalText(interval) {\n\n        let lbl = ''\n        if(interval == 30) lbl = '30 Minutes';\n        if(interval == 60) lbl = '1 hour';\n        if(interval == 90) lbl = '1 hour, 30 minutes';\n        if(interval == 120) lbl = '2 hours';\n\n        setSettings(prevState => {\n            return {...prevState, timeIntervalLbl: lbl}\n        })\n    }\n\n    //DIARY DROPDOWNS\n    function handleChangeStartTime(event) {\n\n        const { innerText } = event.target;\n\n        setSettings(preState => {\n            return {...preState, startTime: innerText};\n        });\n\n        BuildTimes(innerText, settings.finishTime, settings.timeInterval);\n    }\n\n    function handleChangeFinishTime(event) {\n\n        const { innerText } = event.target;\n\n        setSettings(preState => {\n            return {...preState, finishTime: innerText};\n        })\n\n        BuildTimes(settings.startTime, innerText, settings.timeInterval);\n    }\n\n    function handleChangeInterval(event) {\n\n        const { innerText, name } = event.target;\n\n        setSettings(preState => {\n            return {...preState, timeIntervalLbl: innerText, timeInterval: parseInt(name)};\n        })\n\n        BuildTimes(settings.startTime, settings.finishTime, parseInt(name));\n    }\n    //DIARY DROPDOWNS^^^\n\n    function BuildTimes(sTime, fTime, interval) {\n\n        const ti = [];\n        if(sTime !== 'Start Time' && fTime !== 'Finish Time' && interval !== 0) {\n\n            const start = moment(sTime, \"HH:mm\");\n            const finish = moment(fTime, \"HH:mm\");\n\n            while(start.isBefore(finish)) {\n                ti.push(start.format(\"HH:mm\"));\n                start.add(interval, 'm');\n            }\n\n            setSettings(prevState => {\n                return {...prevState, times: ti}\n            });\n\n            let show = false;\n\n            for(const day in settings.days) {\n                if(settings.days[day] == true) {\n                    show = true;\n                }\n            }\n\n            setSettings(prevState => {\n                return {...prevState, showDiarySave: show}\n            });\n        }\n        \n    }\n\n    //SESSIONS BUTTONS\n    function handlePlusSessions() {\n\n        setSettings(prevState => {\n            return {...prevState, sessions: settings.sessions + 1}\n        });\n\n        addSession(AdminLayoutsGlobalSettings, dispatch, settings.sessions + 1);\n    }\n\n    function handleMinusSessions() {\n\n        if(settings.sessions > 1) {\n            setSettings(prevState => {\n                return {...prevState, sessions: settings.sessions - 1}\n            });\n\n            minusSession(AdminLayoutsGlobalSettings, dispatch, settings.sessions);\n        }\n\n        \n    }\n    //SESSIONS BUTTONS^^^\n\n    //BREAK BUTTONS\n    function handleAddBreak() {\n\n        setSettings(prevState => {\n            return {...prevState, breaks: settings.breaks + 1}\n        });\n\n        addBreak(AdminLayoutsGlobalSettings, dispatch, settings.breaks + 1);\n    }\n\n    function handleMoveBreakUp() {\n        orderMoveUp(AdminLayoutsGlobalSettings, dispatch);\n    }\n\n    function handleMoveBreakDown() {\n        orderMoveDown(AdminLayoutsGlobalSettings, dispatch);\n    }\n\n    function handleRemoveBreak() {\n\n        setSettings(prevState => {\n            return {...prevState, breaks: settings.breaks - 1}\n        }); \n        removeBreak(AdminLayoutsGlobalSettings, dispatch);\n    }\n    //BREAK BUTTONS^^^\n\n    //DAYS CHECKBOXES\n    function handleChecked(event) {\n\n        const {name, checked} = event.target;\n\n        const temp = settings.days;\n\n        temp[name] = checked;\n\n        let show = false;\n\n        for(const day in temp) {\n            if(temp[day] == true) {\n                show = true;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, days: temp, showPreview: show, showTimetableSave: show}\n        });\n\n        if(settings.layoutText == 'Diary' && settings.startTime !== 'Start Time' && settings.finishTime !== 'Finish Time' && settings.timeInterval !== 0) {\n            setSettings(prevState => {\n                return {...prevState, days: temp, showPreview: show, showDiarySave: show}\n            });\n        }\n        \n    }\n\n    //SAVE METHODS\n    function handleTimetableSave() {\n\n        const data = {orgID: orgID, uuid: settings.currentLayout.uuid, layout: settings.layoutText, sessionTotal: settings.sessions, breakTotal: settings.breaks, sessionOrder: AdminLayoutsGlobalSettings.order, days: settings.days.toString(),\n                     sessions: AdminLayoutsGlobalSettings.sessions};\n\n        Axios.post('/organisation/saveLayout', data)\n        .then(res => {\n            if(res.data.message == 'Success') {\n\n                setSettings(prevState => {\n                    return {...prevState, yourLayouts: res.data.layouts}\n                });\n\n                setModal(prevState => {\n                    return {...prevState, heading: 'Layout: ' + settings.yourLayoutText, message: 'Layout has been saved!', open: true};\n                })\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }\n\n    function handleDiarySave() {\n\n        const data = {orgID: orgID, uuid: settings.currentLayout.uuid, layout: settings.layoutText, days: settings.days.toString(), startTime: settings.startTime,\n                    finishTime: settings.finishTime, timeInterval: settings.timeInterval};\n\n        Axios.post('/organisation/saveLayout', data)\n        .then(res => {\n            if(res.data.message == 'Success') {\n\n                setSettings(prevState => {\n                    return {...prevState, yourLayouts: res.data.layouts}\n                });\n\n                setModal(prevState => {\n                    return {...prevState, heading: 'Layout: ' + settings.yourLayoutText, message: 'Layout has been saved!', open: true};\n                })\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }\n    //SAVE METHODS^^^\n\n    //ADD LAYOUT METHODS\n    function handleAddLayout() {\n        setAddModal(prevState => {\n            return {...prevState, open: true}\n        });\n    }\n\n    function handleAddModalTextChange(event) {\n\n        const { value } = event.target;\n\n        setAddModal(prevState => {\n            return {...prevState, newName: value}\n        });\n    }\n\n    function handleAddModalSubmit() {\n\n        const data = {orgID: orgID, name: addModal.newName};\n\n        Axios.post('/organisation/addLayout', data)\n        .then(res => {\n            if(res.data.message == 'Successfully Added') {\n\n                setSettings(prevState => {\n                    return {...prevState, yourLayouts: res.data.layouts}\n                });\n\n                setAddModal(prevState => {\n                    return {...prevState, newName: '', open: false}\n                });\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n\n    }\n    //ADD LAYOUT METHODS^^^\n\n    function handleReloadTooltip() {\n        ReactTooltip.rebuild();\n    }\n\n    return (\n        <div>\n            <table width='100%' border='1px'>\n                <thead>\n                    <tr>\n                        <th>\n                            <div className=\"heading-text\"> <Image className=\"plus-image\" src={settings.open ? minus : plus} onClick={openTab} /> Layouts</div><br />\n                                <Collapse in={settings.open}>\n                                <div>\n                                <div className='margin-text-hide'>\n                                    -\n                                    </div>\n                                <div className='normal-text'>\n                                    <Row>\n                                        <Col>\n                                            <Row>\n                                                <Col>\n                                                <Row>\n                                                    <div className='centred'>\n                                                        Your Layouts:\n                                                    </div>\n                                                    <Dropdown className='side-by-side'>\n                                                        <Dropdown.Toggle variant='primary'>\n                                                            {settings.yourLayoutText}\n                                                        </Dropdown.Toggle>\n                                                        <Dropdown.Menu>\n                                                            {settings.yourLayouts.map((layout, index) => {\n                                                                return <Dropdown.Item key={index} onClick={() => {handlePickLayout(layout.uuid)}}>{layout.name}</Dropdown.Item>\n                                                            })}\n                                                        </Dropdown.Menu>\n                                                    </Dropdown>\n                                                    <Button variant='primary' onClick={handleAddLayout}>Add</Button>\n                                                </Row>\n                                                <Row>\n                                                    {settings.yourLayoutText != 'Layouts' ? (\n                                                        <div>\n                                                            <div className='centred'>\n                                                                Layouts:\n                                                            </div> \n                                                            <Dropdown className='side-by-side'>\n                                                                <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                                                                    {settings.layoutText}\n                                                                </Dropdown.Toggle>\n                                                                <Dropdown.Menu>\n                                                                    <Dropdown.Item onClick={handleChangeLayout}>Timetable</Dropdown.Item>\n                                                                    <Dropdown.Item onClick={handleChangeLayout}>Diary</Dropdown.Item>\n                                                                </Dropdown.Menu>\n                                                            </Dropdown>\n                                                        </div>) : null}\n                                                </Row>\n                                                <Row>\n                                                    <div className='layout-settings'>\n                                                    {settings.layoutText == 'Timetable' || settings.layoutText == 'Diary' ? (<div>\n                                                        <Form>\n                                                        <Form.Group>\n                                                            <Form.Check className=\"check-side-by-side\" name='0' onChange={handleChecked} type='checkbox' checked={settings.days[0]} label='Sun'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='1' onChange={handleChecked} type='checkbox' checked={settings.days[1]} label='Mon'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='2' onChange={handleChecked} type='checkbox' checked={settings.days[2]} label='Tue'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='3' onChange={handleChecked} type='checkbox' checked={settings.days[3]} label='Wed'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='4' onChange={handleChecked} type='checkbox' checked={settings.days[4]} label='Thu'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='5' onChange={handleChecked} type='checkbox' checked={settings.days[5]} label='Fri'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='6' onChange={handleChecked} type='checkbox' checked={settings.days[6]} label='Sat'/>\n                                                        </Form.Group>\n                                                        </Form></div>) : null }\n                                                        \n                                                    </div>\n                                                </Row>\n                                                <Row>\n                                                    <div className='layout-settings'>\n                                                        \n                                                        {settings.layoutText == 'Timetable' ? (<div>\n                                                            <div className='centred'>\n                                                        Sessions: {settings.sessions}\n                                                        </div>\n                                                        <div className='side-by-side-R'>\n                                                            <Button variant='primary' onClick={handlePlusSessions}>+</Button>\n                                                            <Button variant='primary' onClick={handleMinusSessions}>-</Button>\n                                                        </div>\n                                                        </div>) : null }\n                                                    </div>\n                                                </Row>\n                                                {settings.layoutText == 'Timetable' ? (<div>\n                                                    <Row>\n                                                    <div className='layout-settings'>\n                                                        <Button variant='primary' onClick={handleAddBreak}>Add Break</Button>\n                                                        {AdminLayoutsGlobalSettings.breakBtns.view ? <Button variant='primary' onClick={handleRemoveBreak}>Remove</Button> : null }\n                                                    </div>\n                                                </Row>\n                                                <Row>\n                                                    <div className={AdminLayoutsGlobalSettings.breakBtns.view ? 'layout-settings-move-btn-show' : 'layout-settings-move-btn-hide'}>\n                                                        <Button variant='primary' onClick={handleMoveBreakUp}>Move Up</Button>\n                                                        <Button variant='primary' onClick={handleMoveBreakDown}>Move Down</Button>\n                                                    </div>\n                                                </Row>\n                                                </div>) : null }\n                                                {settings.layoutText == 'Diary' ? (<div>\n                                                    <Row>\n                                                        <Col>\n                                                        <div className='centred'>\n                                                            Start Time:\n                                                        </div>\n                                                        </Col>\n                                                        <Col>\n                                                        <Dropdown className='side-by-side'>\n                                                            <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                                                                {settings.startTime}\n                                                            </Dropdown.Toggle>\n                                                            <Dropdown.Menu className='dropdown-items'>\n                                                                {times.map((time, index) => {\n                                                                    return <Dropdown.Item key={index} onClick={handleChangeStartTime}>{time}</Dropdown.Item>\n                                                                })}\n                                                            </Dropdown.Menu>\n                                                        </Dropdown>\n                                                        </Col>\n                                                    </Row>\n                                                    <Row>\n                                                        <Col>\n                                                        <div className='centred'>\n                                                            Finish Time:\n                                                        </div>\n                                                        </Col>\n                                                        <Col>\n                                                        <Dropdown className='side-by-side'>\n                                                            <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                                                                {settings.finishTime}\n                                                            </Dropdown.Toggle>\n                                                            <Dropdown.Menu className='dropdown-items'>\n                                                                {times.map((time, index) => {\n                                                                    return <Dropdown.Item key={index} onClick={handleChangeFinishTime}>{time}</Dropdown.Item>\n                                                                })}\n                                                            </Dropdown.Menu>\n                                                        </Dropdown>\n                                                        </Col>\n                                                    </Row>\n                                                    <Row>\n                                                        <Col>\n                                                        <div className='centred'>\n                                                            Interval:\n                                                        </div>\n                                                        </Col>\n                                                        <Col>\n                                                        <Dropdown className='side-by-side'>\n                                                            <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                                                                {settings.timeIntervalLbl}\n                                                            </Dropdown.Toggle>\n                                                            <Dropdown.Menu className='dropdown-items'>\n                                                            <Dropdown.Item name='30' onClick={handleChangeInterval}>30 minutes</Dropdown.Item>\n                                                            <Dropdown.Item name='60' onClick={handleChangeInterval}>1 hour</Dropdown.Item>\n                                                            <Dropdown.Item name='90' onClick={handleChangeInterval}>1 hour, 30 minutes</Dropdown.Item>\n                                                            <Dropdown.Item name='120' onClick={handleChangeInterval}>2 hours</Dropdown.Item>\n                                                            </Dropdown.Menu>\n                                                        </Dropdown>\n                                                        </Col>\n                                                    </Row>\n                                                    <Row>\n                                                    <Col></Col><Col>\n                                                        {settings.showDiarySave ? (<Button variant='primary' onClick={handleDiarySave}>Save</Button>) : null}\n                                                    </Col>\n                                                    \n                                                    </Row>\n                                                </div>) : null}\n                                                </Col>\n                                                <Col>\n                                                    {settings.layoutText == 'Timetable' ? (<div>\n                                                        Sessions:\n                                                    <Row>\n                                                        <Col sm={1}>\n                                                        </Col>\n                                                        <Col className=\"slot-headings\">\n                                                        Custom Text\n                                                        </Col>\n                                                        <Col className=\"slot-headings\">\n                                                        Hover Text\n                                                        </Col>\n                                                    </Row>\n                                                    <div className='scrollable-250'>\n                                                    {Object.keys(AdminLayoutsGlobalSettings.sessions).length > 0 ? (<div>\n                                                        {AdminLayoutsGlobalSettings.order.map(session => {\n                                                        if(session.toString().includes('b')) {\n                                                            return <BreakSlot key={session} id={AdminLayoutsGlobalSettings.sessions[session].id} breakText={AdminLayoutsGlobalSettings.sessions[session].breakText} bgColor={AdminLayoutsGlobalSettings.sessions[session].bgColor} textColor={AdminLayoutsGlobalSettings.sessions[session].textColor} />\n                                                        } else {\n                                                            return <SessionSlot key={session} id={AdminLayoutsGlobalSettings.sessions[session].id} customText={AdminLayoutsGlobalSettings.sessions[session].customText} hoverText={AdminLayoutsGlobalSettings.sessions[session].hoverText} />\n                                                        }\n                                                    })}\n                                                    </div>) : null}\n                                                    \n                                                    </div>\n                                                    <div className='add-button'>\n                                                        {settings.showTimetableSave ? (<Button variant='primary' onClick={handleTimetableSave}>Save</Button>) : null}\n                                                    </div>\n                                                    </div>) : null}\n                                                </Col>\n                                            </Row>\n                                        </Col>\n                                        <Col>\n                                        {settings.layoutText == 'Timetable' || settings.layoutText == 'Diary' ? (<div>Preview:</div>) : null }\n                                            <div className='scrollable-300'>\n                                            {settings.showPreview ? (<table width=\"100%\" border='1px'>\n                                                    <thead>\n                                                        <tr>\n                                                            <td>\n                                                                Session\n                                                            </td>\n                                                            {settings.days.map((day, index) => {\n                                                                if(day) {\n                                                                    return <td key={index} data-tip='day'>{days[index]}</td>\n                                                                }\n                                                            })}\n                                                        </tr>\n                                                    </thead>\n                                                    {settings.layoutText == 'Timetable' && Object.keys(AdminLayoutsGlobalSettings.sessions).length > 0 ? (\n                                                        <tbody>{AdminLayoutsGlobalSettings.order.map((session, index) => {\n                                                        if(session.toString().includes('b')) {\n                                                            return (<tr key={index} style={{backgroundColor:AdminLayoutsGlobalSettings.sessions[session].bgColor}}>\n                                                                <td style={{color:AdminLayoutsGlobalSettings.sessions[session].textColor}}>\n                                                                {AdminLayoutsGlobalSettings.sessions[session].breakText != '' ? AdminLayoutsGlobalSettings.sessions[session].breakText : AdminLayoutsGlobalSettings.sessions[session].id}</td>\n                                                                {settings.days.map((day, index) => {\n                                                                    if(day) {\n                                                                        return <td key={index}></td>\n                                                                    }\n                                                                })}\n                                                                </tr>)\n                                                        } else {\n                                                            return (<tr key={index}>\n                                                                    <td data-tip={AdminLayoutsGlobalSettings.sessions[session].hoverText != '' ? AdminLayoutsGlobalSettings.sessions[session].hoverText : null }>\n                                                                    {AdminLayoutsGlobalSettings.sessions[session].customText != '' ? AdminLayoutsGlobalSettings.sessions[session].customText : AdminLayoutsGlobalSettings.sessions[session].id}</td>\n                                                                    {settings.days.map((day, index) => {\n                                                                        if(day) {\n                                                                            return <td key={index}></td>\n                                                                        }\n                                                                    })\n                                                                    }\n                                                                    </tr>)\n                                                            }\n                                                    })}\n                                                    {handleReloadTooltip()}\n                                                    </tbody>\n                                                    ) : null}\n                                                    {settings.layoutText == 'Diary' ? (\n                                                        <tbody>\n                                                        {settings.times.map((time, index) => {\n                                                            return(<tr key={index}>\n                                                                    <td>{time}</td>\n                                                                    {settings.days.map((day, index) => {\n                                                                        if(day) {\n                                                                            return <td key={index}></td>\n                                                                        }\n                                                                    })\n                                                                    }\n                                                                  </tr>)\n                                                        })}\n                                                        </tbody>) : null}\n                                                    \n                                            </table>) : null}\n                                            </div>\n                                        </Col>\n                                    </Row>\n                                </div>\n                                </div>\n                                </Collapse>\n                        </th>\n                    </tr>\n                </thead>\n            </table>\n            <ReactTooltip />\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n            <Modal show={addModal.open} onHide={handleAddModalClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Add Layout</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form.Control value={addModal.newName} onChange={handleAddModalTextChange}/>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant='primary' onClick={handleAddModalSubmit}>\n                        Add\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Layouts;","import React, { useState, useEffect } from 'react';\nimport { orgUpdateHolidays, orgUpdateLocked } from '../../store/actions/organistion';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Collapse, Image, Row, Col, ListGroup, ListGroupItem, Button, Form, Modal } from 'react-bootstrap';\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment';\nimport plus from '../../public/images/plus.png';\nimport minus from '../../public/images/minus.png';\nimport Axios from 'axios';\n\nfunction WeekSystemHolidays(props) {\n\n    const orgID = props.orgID;\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    const [settings, setSettings] = useState({\n        open: false,\n        startDate: moment(),\n        endDate: moment(),\n        startDateValue: '',\n        endDateValue: '',\n        weeks: [],\n        holidayTitles: [],\n        addNew: false,\n        newHoliday: '',\n        editWeek: false,\n        editWeekIndex: 0,\n        editTitle: false,\n        titleUUID: '',\n        showWeeks: false,\n        downloadedHolidays: [],\n        weekSystem: false,\n        weeksNum: [],\n        orgLocked: false,\n        collides: false\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    const [modalYN, setModalYN] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        acceptFunction: '',\n        acceptName: '',\n        showAccept: false,\n        cancelName: '',\n        showCancel: false\n    });\n\n    const [modalLg, setModalLg] = useState({\n        open: false,\n        heading: '',\n        message1: '',\n        message2: '',\n        message3: '',\n        boldMessage: ''\n    });\n\n    const [modalLock, setModalLock] = useState({\n        open: false,\n        heading: '',\n        message1: '',\n        message2: '',\n        message3: '',\n        boldMessage: ''\n    });\n\n    const [renameModal, setRenameModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        renameText: '',\n    });\n\n    const [help, setHelp] = useState({\n        holidayTitlesBorder: false,\n        weeksBorder: false,\n        datesText: '',\n        dates: false,\n        holidayTitlesText: '',\n        holidayTitles: false,\n        weeksText: '',\n        weeks: false,\n        weekNums: false,\n        weekNumsText: ''\n    });\n\n    useEffect(() => {\n        showHelp();\n    },[settings.showWeeks, settings.editWeek, settings.editTitle, settings.holidayTitles])\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalLgClose() {\n        setModalLg(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalLockClose() {\n        setModalLock(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalYNClose() {\n        setModalYN(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalLockRestore() {\n        \n        setModalYN({heading: 'Are you sure?', message: 'Are you sure you want to Restore?', acceptName: 'Yes', showAccept: true, acceptFunction: restoreAcceptence, cancelName: 'No', showCancel: true, open: true})\n    }\n\n    function restoreAcceptence() {\n\n        setModalYN(prevState => {\n            return {...prevState, open: false}\n        });\n\n        setModalLock(prevState => {\n            return {...prevState, open: false}\n        });\n        \n        const data = {orgID: orgID}\n        Axios.post('/organisation/restore', data)\n        .then(res => {\n            const data = res.data;\n            \n            if(data.message == 'System Restored') {\n                dispatch(orgUpdateLocked((data.locked == 'true')));\n                dispatch(orgUpdateHolidays(data.holidays));\n                setModalYN({heading: 'System Restored', message: 'Your system has been restored!', showAccept: true, acceptName: 'Ok', acceptFunction: AcceptenceOK, showCancel: false, open: true});\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function AcceptenceOK() {\n\n        setModalYN(prevState => {\n            return {...prevState, open: false}\n        });\n        history.push('/org/' + orgID);\n\n    }\n\n    function handleModalLockUnlock() {\n\n        setModalLock(prevState => {\n            return {...prevState, open: false}\n        });\n\n        const data = {orgID: orgID}\n        Axios.post('/organisation/unlock', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.error == 'Yes') {\n                setModalLock({open: false});\n                setModal({heading: 'Error Unlocking', message: data.message, open: true});\n            } else {\n                if(data.message == 'System Unlocked') {\n                    dispatch(orgUpdateLocked((data.locked == 'true')));\n                    setModalYN({heading: 'System Unlocked', message: 'Your system has been unlocked!', showAccept: true, acceptName: 'Ok', acceptFunction: AcceptenceOK, showCancel: false, open: true});\n                }\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function showHelp() {\n\n        let holidayTitlesBorder = false, weeksBorder = false, datesText, dates = false, holidayTitlesText, holidayTitles = false, weeksText, weeks = false, weekNums = false, weekNumsText\n        if(!settings.showWeeks) {\n            datesText = \"Set the 'Start Date' and 'End Date' to bring up the weeks under Year Preview\";\n            dates = true;\n            if(settings.holidayTitles.length > 0) {\n                holidayTitlesText = 'Click on a holiday title to edit it.';\n            } else {\n                holidayTitlesText = \"Add a holiday title\"\n            }\n            holidayTitles = true;\n        } else if (!settings.editWeek && !settings.editTitle && settings.showWeeks) {\n            holidayTitlesText = 'Click on a holiday title to edit it.';\n            holidayTitles = true;\n            weeksText = 'Click on a week on the right to assign a holiday to it'\n            weeks = true;\n        } else if(settings.editWeek) {\n            holidayTitlesText = 'Click on a title to assign it to the week';\n            holidayTitles = true;\n            if(settings.weekSystem) {\n                weekNumsText = 'Or Click on a week to assign it to';\n                weekNums = true\n            }\n        } else if(settings.editTitle) {\n            holidayTitlesText = \"Use the 'Rename' or 'Delete' buttons to the left\";\n            holidayTitles = true;\n            weeksText = 'Click on a week on the right to assign a holiday to it'\n            weeks = true;\n        }\n\n        setHelp({holidayTitlesBorder: holidayTitlesBorder, weeksBorder: weeksBorder, datesText: datesText, dates: dates, holidayTitlesText: holidayTitlesText, holidayTitles: holidayTitles, \n                    weeksText: weeksText, weeks: weeks, weekNumsText: weekNumsText, weekNums: weekNums});\n        \n    }\n\n    function handleRenameModalClose() {\n        setRenameModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function openHolidays() {\n\n        if(!settings.open) {\n\n            const data = {orgID: orgID};\n            Axios.post('/organisation/getHolidayData', data)\n            .then(res => {\n                const data = res.data;\n                console.log(data);\n\n                let startDate = moment();\n                let endDate = moment();\n                let startDateString = '';\n                let endDateString = '';\n                if(data.org.holidayStartDate == '') {\n                    startDateString = '';\n                } else {\n                    startDate = moment(data.org.holidayStartDate, 'DD/MM/YYYY');\n                    startDateString = startDate.format('DD/MM/YYYY');\n                }\n                if(data.org.holidayEndDate == '') {\n                    endDateString = '';\n                } else {\n                    endDate = moment(data.org.holidayEndDate, 'DD/MM/YYYY');\n                    endDateString = endDate.format('DD/MM/YYYY');\n                }\n                console.log(startDate);\n                setSettings(prevState => {\n                    return {...prevState, \n                        open: true, \n                        holidayTitles: data.titles,\n                        startDate: startDate,\n                        startDateValue: startDateString,\n                        endDate: endDate,\n                        endDateValue: endDateString,\n                        weekSystem: (data.org.weekSystem == 'true'),\n                        orgLocked: (data.locked == 'true'),\n                        collides: data.collideBookings\n                    };\n                });\n                const weeks = getWeeks(startDateString, endDateString);\n                workDownloadedHolidays(weeks, data.holidays);\n                BuildWeekNums(data.org.weeks)\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        } else {\n            setSettings(prevState => {\n                return {...prevState, open: false}\n            })\n        }\n    }\n\n    function handleStartDateChange(date) {\n        \n        setSettings(prevState => {\n            return {...prevState, startDate: date, startDateValue: moment(date, 'DD/MM/YYYY').format('DD/MM/YYYY')}\n        });\n\n        getWeeks(moment(date, 'DD/MM/YYYY').format('DD/MM/YYYY'), settings.endDateValue);\n    }\n\n    function handleEndDateChange(date) {\n        \n        setSettings(prevState => {\n            return {...prevState, endDate: date, endDateValue: moment(date, 'DD/MM/YYYY').format('DD/MM/YYYY') }\n        });\n\n        getWeeks(settings.startDateValue, moment(date, 'DD/MM/YYYY').format('DD/MM/YYYY'));\n    }\n\n    function getWeeks(startDate, endDate) {\n\n        if(startDate != '' && endDate != '') {\n            let sDate = moment(startDate, 'DD/MM/YYYY').startOf('week');\n            const eDate = moment(endDate, 'DD/MM/YYYY').startOf('week');\n\n            let weeks = [];\n            while(sDate.isBefore(eDate)) {\n                const week = {week: formatString(sDate.week()) + '-' +sDate.format('YY'), date: sDate.format('DD/MM/YYYY'), holiday: 0};\n                weeks.push(week);\n                sDate.add(1, 'w');\n            }\n\n            setSettings(prevState => {\n                return {...prevState, weeks: weeks, showWeeks: true};\n            });\n\n            return weeks;\n        }\n    }\n\n    function workDownloadedHolidays(weeks, holidays) {\n\n        if(holidays.length > 0) {\n\n            for(const holiday of holidays) {\n\n                for(const week of weeks) {\n                    if(holiday.weeks.includes(week.week)) {\n                        week.holiday = holiday.titleUUID;\n                    }\n                }\n            }\n\n            setSettings(prevState => {\n                return {...prevState, weeks: weeks};\n            });\n        }\n    }\n\n    function BuildWeekNums(weekNum) {\n\n        let weeks = [];\n        for(let i = 1; i <= weekNum; i++) {\n            weeks.push(i);\n        }\n\n        setSettings(prevState => {\n            return {...prevState, weeksNum: weeks}\n        });\n    }\n\n    function formatString(time) {\n\n        if(time.toString().length == 1) {\n            return '0' + time;\n        } else {\n            return time;\n        }\n    }\n\n    function handleWeek(id) {\n\n        setSettings(prevState => {\n            return {...prevState, editWeekIndex: id, editWeek: true, editTitle: false};\n        });\n    }\n\n    function handleHolidayTitle(title, uuid) {\n\n        if(settings.editWeek) {\n\n            const weeks = settings.weeks;\n\n            weeks[settings.editWeekIndex].holiday = 'h' + formatString(uuid);\n\n            setSettings(prevState => {\n                return{...prevState, weeks: weeks, editWeek: false}\n            });\n        } else{\n            if(title != 'Normal') {\n                setSettings(prevState => {\n                    return{...prevState, editTitle: true, editWeek: false, titleUUID: uuid}\n                });\n            } else {\n                setSettings(prevState => {\n                    return{...prevState, editTitle: false, editWeek: false}\n                });\n            }\n        }\n    }\n\n    function handleWeekClick(num) {\n\n        if(settings.editWeek) {\n\n            const weeks = settings.weeks;\n\n            weeks[settings.editWeekIndex].holiday = 'w' + formatString(num);\n\n            setSettings(prevState => {\n                return {...prevState, weeks: weeks, editWeek: false}\n            });\n        }\n    }\n\n    function handleAddNew() {\n        setSettings(prevState => {\n            return {...prevState, addNew: true}\n        });\n    }\n\n    function handleAddClose() {\n        setSettings(prevState => {\n            return {...prevState, addNew: false}\n        });\n    }\n\n    function handleTextChange(event) {\n\n        const {name, value } = event.target;\n\n        setSettings(prevState => {\n            return {...prevState, [name]: value}\n        });\n    }\n\n    function handleRenameTextChange(event) {\n\n        const {name, value } = event.target;\n\n        setRenameModal(prevState => {\n            return {...prevState, [name]: value}\n        });\n    }\n\n    function handleAddTitle() {\n\n        const data = {orgID: orgID, title: settings.newHoliday};\n        Axios.post('/organisation/addHolidayTitle', data)\n        .then(res => {\n            const data = res.data;\n            console.log(data);\n            if(data.message == 'Successfully added') {\n                setSettings(prevState => {\n                    return{...prevState, holidayTitles: data.titles, addNew: false, newHoliday: ''};\n                });\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }\n\n    function handleSave() {\n        console.log(settings.weeks);\n        const holidays = {};\n        for(const holiday of settings.weeks) {\n            \n            if(holiday.holiday != '0') {\n                let week = holidays[holiday.holiday];\n                if(week == '' || week == null) {\n                    week = holiday.week;\n                } else {\n                    week += ',' + holiday.week\n                }\n                holidays[holiday.holiday] = week;\n            }\n        }\n\n        const keys = Object.keys(holidays)\n        console.log(keys);\n        console.log(holidays);\n\n        const data = {orgID: orgID, startDate: settings.startDateValue, endDate: settings.endDateValue, holidays: keys, holidayWeeks: holidays, weekSystem: settings.weekSystem.toString(), weeksNo: settings.weeksNum.length};\n        Axios.post('/organisation/saveHolidays', data)\n        .then(res => {\n            const data = res.data;\n            dispatch(orgUpdateHolidays(data.holidays));\n            if(data.locked) {\n\n                dispatch(orgUpdateLocked('true'));\n\n                setSettings(prevState => {\n                    return {...prevState, orgLocked: data.locked, collides: data.collidedBookings};\n                });\n\n                const locked = 'Some or all of your rooms have the week system enabled on them. Due to this your organisation will be locked until you double check all the bookings are where they should be.\\n\\n\\n\\n';\n                const instructions = \"To unlock the organisation, go on 'UNLOCK' and follow the instructions to unlock. Here you will also be able to restore the system back to how it was, by going on 'RESTORE'\";\n                const collide = \"\\n\\nSome of your bookings have been collided with single bookings, as single bookings are not affected with changing the week system. Please go to 'COLLIDED BOOKINGS' to see them\";\n\n                let message = ''\n                let bold = ''\n\n                if(data.collidedBookings) {\n                    message = collide;\n                    bold = 'You will NOT be able to unlock your organisation until you have cleared all the collided bookings';\n                }\n\n                setModalLg({heading: 'Week System', message1: locked, message2: instructions, message3: message, boldMessage: bold, open: true});\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleCollisionBookings() {\n        history.push(\"/org/\" + orgID + \"/collisionBookings\")\n    }\n\n    function handleUnlock() {\n\n        const message = 'To unlock this organisation make sure that you have cleared all of the collided bookings, the system WILL NOT let you unlock until this is done. Backups only stay active for one cycle of locking organisation. Once unlocked, they are deleted and this is unreservable!!';\n        const restore = \"If you want to restore everything to the orginial state, before you edit the week system, click 'RESTORE'\"\n\n        setModalLock({heading: 'Unlock Organisation', message1: message, message2: restore, open: true});\n\n    }\n\n    function findHoliday(uuid) {\n\n        if(uuid == 0) {\n            return 'Normal'\n        } else {\n            let id = '';\n            if(uuid.includes('h')) {\n                const num = uuid.replace('h', '');\n                \n                if(num[0] == '0') {\n                    id = num[1];\n                } else {\n                    id = num;\n                }\n\n                for(const title of settings.holidayTitles) {\n                    if(title.uuid == id) {\n                        return title.name;\n                    }\n                }\n            }\n            if(uuid.includes('w')) {\n                const num = uuid.replace('w', '');\n                \n                if(num[0] == '0') {\n                    return 'Week ' + num[1]; \n                } else {\n                    return 'Week ' + num;\n                }\n            }\n        }\n    }\n\n    function handleRename() {\n\n        let name = ''\n        for(const title of settings.holidayTitles) {\n            if(title.uuid == settings.titleUUID) {\n                name = title.name;\n                break; \n            }\n        }\n        \n        setRenameModal({heading: 'Rename', open: true, renameText: name})\n    }\n\n    function handleRenameSubmit() {\n\n        const data = {orgID: orgID, uuid: settings.titleUUID, title: renameModal.renameText};\n        Axios.post('/organisation/renameHolidayTile', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.message == 'Successfully Updated') {\n                setSettings(prevState => {\n                    return {...prevState, holidayTitles: data.titles, editTitle: false};\n                });\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n\n        setRenameModal({renameText: '', open: false});\n    }\n\n    function handleDelete() {\n\n        const data = {orgID: orgID, uuid: settings.titleUUID}\n\n        Axios.post('/organisation/deleteHolidayTitle', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.message == 'Successfully Deleted') {\n                setSettings(prevState => {\n                    return {...prevState, holidayTitles: data.titles, editTitle: false};\n                });\n                deleteInWeeks(settings.titleUUID);\n\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function deleteInWeeks(uuid) {\n\n        const weeks = settings.weeks;\n        for(const week of weeks) {\n            if(week.holiday == uuid) {\n                week.holiday = 0;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, weeks: weeks}\n        });\n    }\n\n    function handleWeekSystemClicked(event) {\n        \n        const { checked } = event.target;\n        let weeksNum = [];\n        if(checked) {\n            \n            weeksNum = ['1'];\n            setSettings(prevState => {\n                return{...prevState, weekSystem: checked, weeksNum: weeksNum}\n            });\n            MarkNormalAsWeek();\n        } else {\n            const data = {orgID: orgID};\n            Axios.post('/organisation/geRoomsWeekSystem', data)\n            .then(res => {\n                if(res.data.rooms) {\n                    setModal({heading: 'Week System', message: 'There are some rooms still using the week system, delete them first', open: true});\n                } else {\n                    setSettings(prevState => {\n                        return {...prevState, weekSystem: checked, weeksNum: weeksNum}\n                    });\n                    MarkWeekAsNormal();\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    function MarkNormalAsWeek() {\n        \n        let weeks = settings.weeks;\n        for(const week of weeks) {\n            if(week.holiday == '0') {\n                week.holiday = 'w01';\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, weeks: weeks}\n        })\n    }\n    \n    function MarkWeekAsNormal() {\n\n        let weeks = settings.weeks;\n        for(const week of weeks) {\n            if(week.holiday.includes('w')) {\n                week.holiday = '0';\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, weeks: weeks}\n        })\n    }\n\n    function handleWeekSystemPlus() {\n\n        const weeksNum = settings.weeksNum;\n\n        let len = weeksNum.length + 1;\n        if(len == 100) {\n            setModal(prevState => {\n                return {...prevState, heading: 'Weeks', message: 'You cannot exceed 99 weeks', open: true}\n            });\n        } else {\n            weeksNum.push(len);\n\n            setSettings(prevState => {\n                return {...prevState, weeksNum: weeksNum}\n            });\n        }\n    }\n\n    function handleWeekSystemMinus() {\n\n        const weeksNum = settings.weeksNum;\n        if(weeksNum.length > 1) {\n            const weekNo = weeksNum.pop();\n            const newWeek = weekNo - 1;\n\n            let weeks = settings.weeks;\n            for(const week of weeks) {\n                if(week.holiday == 'w' + formatString(weekNo)) {\n                    week.holiday = 'w' + formatString(newWeek);\n                }\n            }\n            setSettings(prevState => {\n                return {...prevState, weeksNum: weeksNum, weeks: weeks}\n            });\n        }\n    }\n\n    return (<div>\n\n        <table width='100%' border='1px'>\n            <thead>\n                <tr>\n                    <th>\n                    <div className=\"heading-text\"> <Image className=\"plus-image\" src={settings.open ? minus : plus} onClick={openHolidays} /> Week System / Holidays</div><br />\n                    <Collapse in={settings.open}>\n                        <div>\n                        <div className='margin-text'>\n                            {help.dates ? (\n                                <div>{help.datesText}</div>\n                            ) : null}\n                            {help.dates && help.holidayTitles ? '---' : null}\n                            {help.holidayTitles ? (\n                                <div className='help-holidayTitles'>{help.holidayTitlesText}</div>\n                                ) : null}\n                            {help.holidayTitles && help.weeks || help.holidayTitles && help.weekNums ? '---' : null}\n                            {help.weeks ? (\n                                <div className='help-weeks'>{help.weeksText}</div>\n                            ) : null}\n                            {help.weekNums ? (\n                                <div className='help-weekNums'>{help.weekNumsText}</div>\n                            ) : null}\n                        </div>\n                        <div className='normal-text'>\n                            <Row>\n                                <Col>\n                                    <Row>\n                                        <Col>\n                                        <Row>\n                                        <Col>Start Date:</Col>\n                                        <Col><DatePicker dateFormat='dd/MM/yyyy' selected={new Date(settings.startDate)} value={settings.startDateValue} onChange={handleStartDateChange}/></Col>\n                                        </Row>\n                                        <Row className='holidays-datePadding'>\n                                        <Col>End Date:</Col>\n                                        <Col><DatePicker dateFormat='dd/MM/yyyy' selected={new Date(settings.endDate)} value={settings.endDateValue} onChange={handleEndDateChange}/></Col>\n                                        </Row>\n                                        <Row className='holidays-datePadding'>\n                                            {!settings.editWeek ? (<div>\n                                                {settings.addNew ? (<div className='holidays-addNew'>\n                                                    <Form.Group>\n                                                    <Form.Label>New Holiday:</Form.Label>\n                                                    <Form.Control name=\"newHoliday\" value={settings.newHoliday} onChange={handleTextChange}></Form.Control>\n                                                    </Form.Group>\n                                                    <Button variant='primary' onClick={handleAddTitle}>Add</Button>\n                                                    <Button variant='primary' onClick={handleAddClose}>Close</Button>\n                                                </div>) : (<div>\n                                                            <Button  className='side-by-side' variant='primary' onClick={handleAddNew}>Add New Holiday Title</Button>\n                                                            <div className={settings.editTitle ? null : 'weeks-holidays-hide'}>\n                                                                <Button className='side-by-side' variant='primary' onClick={handleRename}>Rename</Button>\n                                                                <Button className='side-by-side' variant='primary' onClick={handleDelete}>Delete</Button>\n                                                            </div>\n                                                            </div>)}\n                                                </div>) : null}\n                                        </Row>\n                                        <Row>\n                                            {!settings.editWeek ? (<div>\n                                                <div className='weekSystem-centred'>\n                                                <Form.Check type='checkbox' checked={settings.weekSystem} onChange={handleWeekSystemClicked} label='Use week system' />\n                                                </div>\n                                                {settings.weekSystem ? (<div className='weekSystem-centred'>\n                                                    Weeks: {settings.weeksNum.length}<br />\n                                                    <Button variant='primary' onClick={handleWeekSystemMinus}>-</Button>\n                                                    <Button variant='primary' onClick={handleWeekSystemPlus}>+</Button>\n                                                </div>) : null}\n                                            </div>) : null}\n                                        </Row>\n                                        </Col>\n                                        <Col>\n                                        <Row>\n                                            Holiday Titles:\n                                            <div className={help.holidayTitles ? 'help-holidaytiles-bordered scrollable-150 holidays-titles' : 'scrollable-200 holidays-titles'}>                            \n                                                <ListGroup>\n                                                {!settings.weekSystem ? <ListGroupItem action onClick={() => handleHolidayTitle('Normal', 0)}>Normal</ListGroupItem> : null}\n                                                {settings.holidayTitles.map((title, index) => {\n                                                    return <ListGroupItem key={index} action onClick={() => handleHolidayTitle(title.name, title.uuid)}>{title.name}</ListGroupItem>\n                                                })}\n                                                </ListGroup>\n                                            </div>\n                                        </Row>\n                                        <Row className='weeks-row-padding'>\n                                            <div className={settings.weekSystem ? 'weekSystem-weeks scrollable-150' : 'weeks-holidays-hide'}>\n                                                Weeks: \n                                                <div className={help.weekNums ? 'help-weekNums-bordered' : null}>                        \n                                                    <ListGroup>\n                                                    {settings.weeksNum.map((week, index) => {\n                                                        return <ListGroupItem key={index} action onClick={() => {handleWeekClick(week)}}>Week{week}</ListGroupItem>\n                                                    })}\n                                                    </ListGroup>\n                                                </div>\n                                            </div>\n                                        </Row>\n                                        </Col>\n                                    </Row>\n                                </Col>\n                                <Col>\n                                    Year Preview:\n                                    <div className={help.weeks ? 'help-weeks-bordered scrollable-300' : 'scrollable-300'}>\n                                        <ListGroup>\n                                            {settings.weeks.map((week, index) => {\n                                                return <ListGroupItem href={'#' + index} key={index} action onClick={() => handleWeek(index)}>{week.date} - {findHoliday(week.holiday)}</ListGroupItem>\n                                            })}\n                                        </ListGroup>\n                                    </div>\n                                    <div className={settings.showWeeks ? \"save-button-show\" : \"save-button-hidden\"}>\n                                            {settings.orgLocked ? (<div>\n                                                {settings.collides ? <Button onClick={handleCollisionBookings}>Collided Bookings</Button> : null}\n                                                <Button onClick={handleUnlock}>Unlock</Button>\n                                            </div>) :(<Button onClick={handleSave}>Save</Button>)}\n                                    </div>\n                                </Col>\n                            </Row>\n                        </div>\n                        </div>\n                    </Collapse>\n                    </th>\n                </tr>\n            </thead>\n        </table>\n        <Modal show={modal.open} onHide={handleModalClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modal.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modal.message}</Modal.Body>\n            <Modal.Footer>\n            <Button variant=\"primary\" onClick={handleModalClose}>\n                Close\n            </Button>\n            </Modal.Footer>\n        </Modal>\n        <Modal show={modalYN.open} onHide={handleModalYNClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalYN.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalYN.message}</Modal.Body>\n            <Modal.Footer>\n            {modalYN.showAccept ? (<div>\n                <Button variant=\"primary\" onClick={modalYN.acceptFunction}>\n                    {modalYN.acceptName}\n                </Button>\n            </div>) : null}\n            {modalYN.showCancel ? (<div>\n                <Button variant=\"primary\" onClick={handleModalYNClose}>\n                    {modalYN.cancelName}\n                </Button>\n            </div>) : null}\n            </Modal.Footer>\n        </Modal>\n            <Modal size='lg' show={modalLg.open} onHide={handleModalLgClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modalLg.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {modalLg.message1 != '' ? modalLg.message1 : null}\n                    {modalLg.message2 != '' ? (<div><br />{modalLg.message2}</div>) : null}\n                    {modalLg.message3 != '' ? (<div><br />{modalLg.message3}</div>) : null}\n                    {modalLg.boldMessage != '' ? (<div><br /><strong>{modalLg.boldMessage}</strong></div>) : null}\n                </Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalLgClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        <Modal show={renameModal.open} onHide={handleRenameModalClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{renameModal.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form.Control name='renameText' value={renameModal.renameText} onChange={handleRenameTextChange} />\n            </Modal.Body>\n            <Modal.Footer>\n            <Button variant=\"primary\" onClick={handleRenameSubmit}>\n                Rename\n            </Button>\n            </Modal.Footer>\n        </Modal>\n        <Modal size='lg' show={modalLock.open} onHide={handleModalLockClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalLock.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {modalLock.message1 != '' ? modalLock.message1 : null}\n                {modalLock.message2 != '' ? (<div><br />{modalLock.message2}</div>) : null}\n                {modalLock.message3 != '' ? (<div><br />{modalLock.message3}</div>) : null}\n                {modalLock.boldMessage != '' ? (<div><br /><strong>{modalLock.boldMessage}</strong></div>) : null}\n            </Modal.Body>\n            <Modal.Footer>\n            <Button variant=\"primary\" onClick={handleModalLockRestore}>\n                Restore\n            </Button>\n            <Button variant=\"primary\" onClick={handleModalLockUnlock}>\n                Unlock\n            </Button>\n            </Modal.Footer>\n        </Modal>\n\n    </div>)\n}\n\nexport default WeekSystemHolidays;","import React, { useState } from 'react';\nimport { Button, Collapse, Form, Image, ListGroup, Modal, Row, Col } from 'react-bootstrap'\nimport { useHistory } from 'react-router-dom';\nimport { setIDAndName } from '../../globalSettings/adminProfileSettings';\nimport { useDispatch } from 'react-redux';\n\nimport plus from '../../public/images/plus.png';\nimport minus from '../../public/images/minus.png';\nimport helpImg from '../../public/images/help.png';\nimport Axios from 'axios';\n\nfunction UserProfiles(props) {\n\n    const orgID = props.orgID;\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    const [settings, setSettings] = useState({\n        open: false,\n        profiles: [],\n        useProfiles: false,\n        totalUsers: '',\n        usersWithoutProfiles: '',\n        defaultProfile: false,\n        subMenu: false,\n        profileUUID: ''\n    });\n\n    function openTab() {\n\n        if(settings.open) {\n\n            setSettings(prevState => {\n                return {...prevState, open: false}\n            });\n        } else {\n\n            getProfiles();\n        }\n    }\n\n    function getProfiles() {\n\n        const data = {orgID: orgID};\n        Axios.post('/userProfile/getOrgProfiles', data)\n        .then(res => {\n            const data = res.data;\n            \n            let defaultPro = false;\n\n            if(data.usersWithoutProfiles > 0) {\n                defaultPro = true\n            }\n            \n            setSettings(prevState => {\n                return {...prevState, profiles: data.profiles, useProfiles: (data.useProfiles == 'true'), totalUsers: data.totalUsers, usersWithoutProfiles: data.usersWithoutProfiles, defaultProfile: defaultPro, open: true};\n            });\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleCloseModal() {\n        setModal(prevState => {\n            return {...prevState, open: false}\n        })\n    }\n\n    const [help, setHelp] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        message2: '',\n        message3: ''\n    });\n\n    function handleCloseHelp() {\n        setHelp(prevState => {\n            return {...prevState, open: false}\n        })\n    }\n\n    const [createModal, setCreateModal] = useState({\n        open: false,\n        newProfileName: ''\n    });\n\n    function handleOpenCreateModal() {\n        setCreateModal(prevState => {\n            return {...prevState, open: true}\n        })\n    }\n\n    function handleCloseCreateModal() {\n\n        setCreateModal(prevState => {\n            return {...prevState, open: false}\n        });\n    }\n\n    function handleCreateModalTextChange(event) {\n\n        const { value } = event.target;\n\n        setCreateModal(prevState => {\n            return {...prevState, newProfileName: value}\n        });\n    }\n\n    function handleCreate() {\n\n        if(createModal.newProfileName == '') {\n            setModal({heading: 'Create A Profile', message: 'Please enter a name', open: true});\n        } else {\n\n            const data = {orgID: orgID, name: createModal.newProfileName}\n            Axios.post('/userProfile/createProfile', data)\n            .then(res => {\n                const data = res.data;\n\n                if(data.message == 'Profile Created') {\n\n                    setCreateModal(prevState => {\n                        return {...prevState, open: false}\n                    });\n\n                    getProfiles();\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    function goToSettings(uuid, name) {\n\n        setIDAndName(dispatch, uuid, name);\n        history.push('/org/' + orgID + '/profileSettings');\n    }\n\n    function openSubMenu(uuid) {\n\n        setSettings(prevState => {\n            return {...prevState, profileUUID: uuid, subMenu: true}\n        });\n\n    }\n\n    function closeSubMenu() {\n\n        setSettings(prevState => {\n            return {...prevState, subMenu: false}\n        });\n    }\n\n    function levelPriority(level) {\n\n        const data = {orgID: orgID, level: level, profileUUID: settings.profileUUID}\n        Axios.post('/userProfile/priority', data)\n        .then(res => {\n\n            setSettings(prevState => {\n                return {...prevState, profiles: res.data.profiles}\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function showHelp() {\n\n        const message = 'The priority system only affects the rooms in the profiles. If the same room in two different profiles is marked view, the priority profile settings are set for that room.'\n        const message2 = 'The priority system does not affect any other settings in the profile. If a setting is turned on in any profile that is assigned to a particular user, the setting is on for that user.';\n        const message3 = \"'1' is the highest profile in the priority system\"\n\n        setHelp({heading: 'Help: Priority System', message: message, message2: message2, message3: message3, open: true});\n    }\n\n    function handleUpdateUseProfiles(event) {\n\n        const { checked } = event.target;\n        \n        setSettings(prevState => {\n            return {...prevState, useProfiles: checked}\n        });\n\n        const data = {orgID: orgID, use: checked}\n        Axios.post('/userProfile/useProfiles', data)\n        .then(res => {\n            console.log(res.data);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function onChange() {\n        //DO NOTHING\n    }\n\n    function removeProfile() {\n\n        setModal({heading: 'Remove Profile', message: 'This feature has not be completed yet!', open: true});\n    }\n\n    return (<div>\n        <table width='100%' border='1px'>\n            <thead>\n                <tr>\n                    <th>\n                        <div className='heading-text'><Image className='plus-image' src={settings.open ? minus : plus} onClick={openTab} /> User Profiles</div><br />\n                        <Collapse in={settings.open}>\n                        <div>\n                            <div className='margin-text-hide'>\n                                -\n                            </div>\n                            <div className='normal-text'>\n                                <Row>\n                                    <Col>\n                                        <Form.Check type='checkbox' checked={settings.useProfiles} label='Use User Profiles' onClick={handleUpdateUseProfiles} onChange={onChange} /><br />\n                                    </Col>\n                                </Row>\n                                <Row>\n                                    <Col>\n                                        {settings.useProfiles ? (<div>\n                                            <div className='UP_priorities_Left'>\n                                                <Button variant='primary' onClick={handleOpenCreateModal}>Create User Profile</Button>\n                                                <p>Double click on a profile to edit it's settings</p>\n                                            </div>\n                                            <div className='UP_priorities_Right'>\n                                                {settings.subMenu ? (<div>\n                                                    <Button onClick={() => levelPriority('increase')}>Increase Priority</Button> <Button onClick={() => levelPriority('decrease')}>Decrease Priority</Button>  <Button onClick={removeProfile}>Remove</Button>\n                                                    <Image className='help-image' src={helpImg} onClick={showHelp}></Image>\n                                                </div>) : null}\n                                            </div>\n                                        </div>) : null}\n                                    </Col>\n                                </Row>\n                                <Row>\n                                <Col>\n                                {settings.useProfiles ? (<div>\n                                    <ListGroup>\n                                        {settings.defaultProfile ? <ListGroup.Item className='userProfiles_default_ListItem' action onClick={closeSubMenu} onDoubleClick={() => goToSettings('default', 'Default Profile (Access Level)')}>\n                                            <Row>\n                                                <Col>\n                                                    Default Profile (Access Level)\n                                                </Col>\n                                                <Col>\n                                                    {settings.usersWithoutProfiles} / {settings.totalUsers} users\n                                                </Col>\n                                                <Col>\n\n                                                </Col>\n                                            </Row>\n                                        </ListGroup.Item> : null}\n                                        {settings.profiles.map((profile, index) => {\n                                            return <ListGroup.Item href={'#' + index} key={index} action onClick={() => openSubMenu(profile.uuid)} onDoubleClick={() => goToSettings(profile.uuid, profile.name)}>\n                                            <Row>\n                                                <Col>\n                                                    {profile.name}\n                                                </Col>\n                                                <Col>\n                                                    {profile.noOfUsers} / {settings.totalUsers} users\n                                                </Col>\n                                                <Col>\n                                                    Priority: {profile.priority}\n                                                </Col>\n                                            </Row>\n                                            </ListGroup.Item>\n                                        })}\n                                    </ListGroup>\n                                    <br />\n                                </div>) : null}\n                                </Col>\n                                </Row>\n                            </div>\n                        </div>\n                        </Collapse>\n                        \n                    </th>\n                </tr>\n            </thead>\n        </table>\n\n        <Modal show={createModal.open} onHide={handleCloseCreateModal}>\n            <Modal.Header closeButton>\n                <Modal.Title>Create A Profile</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                Please enter a name:\n                <Form.Control type='text' value={createModal.newProfileName} onChange={handleCreateModalTextChange}></Form.Control>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant='primary' onClick={handleCreate}>Create</Button>\n            </Modal.Footer>\n        </Modal>\n\n        <Modal show={modal.open} onHide={handleCloseModal}>\n            <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {modal.message}\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant='primary' onClick={handleCloseModal}>Close</Button>\n            </Modal.Footer>\n        </Modal>\n\n        <Modal show={help.open} onHide={handleCloseHelp}>\n            <Modal.Header closeButton>\n                <Modal.Title>{help.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {help.message}<br /> <br /> {help.message2} <br /> <br />{help.message3}\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant='primary' onClick={handleCloseHelp}>Close</Button>\n            </Modal.Footer>\n        </Modal>\n    </div>)\n}\n\nexport default UserProfiles;","import { UpdateUUID, UpdateName} from '../store/actions/globalSettings/adminProfileGlobalSettings';\n\nexport function setIDAndName(dispatch, uuid, name) {\n\n    dispatch(UpdateUUID(uuid));\n    dispatch(UpdateName(name))\n}","export const UpdateUUID = (val) => {\n    return {\n        type: 'UPDATE_ADMINP_UUID',\n        value: val\n    };\n}\n\nexport const UpdateName = (val) => {\n    return {\n        type: 'UPDATE_ADMINP_NAME',\n        value: val\n    };\n}","import React, { useEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\n//COMPONENTS\nimport LoginSettings from './orgAdminComponets/loginSettings';\nimport DepartmentSettings from './orgAdminComponets/departmentSettings';\nimport Users from './orgAdminComponets/users';\nimport Rooms from \"./orgAdminComponets/rooms\";\nimport Layouts from \"./orgAdminComponets/layoutSettings\";\nimport WeekSystemHolidays from './orgAdminComponets/weekSystemHolidays';\nimport UserProfiles from './orgAdminComponets/userProfiles';\n\n//Styles\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\n\nfunction OrganisationAdmin(props) {\n\n  const orgID = props.match.params.id;\n\n  const user = useSelector(state => state.user);\n  const userProfile = useSelector(state => state.userProfile);\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n  },[]);\n\n  return (\n    <div className=\"body\">\n        <Container fluid className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n            {userProfile.admin_loginSettings || user.role == 'seniorAdmin' ? (<LoginSettings orgID={orgID}/>) : null}<br />\n            {userProfile.admin_departments || user.role == 'seniorAdmin' ? (<DepartmentSettings orgID={orgID}/>) : null}<br />\n            {userProfile.admin_users || user.role == 'seniorAdmin' ? (<Users orgID={orgID} />) : null } <br />\n            {userProfile.admin_rooms || user.role == 'seniorAdmin' ? (<Rooms orgID={orgID} />) : null } <br />\n            {userProfile.admin_layouts || user.role == 'seniorAdmin' ? (<Layouts orgID={orgID} />) : null}<br />\n            {userProfile.admin_weekSystemHolidays || user.role == 'seniorAdmin' ? (<WeekSystemHolidays orgID={orgID} />) : null }<br />\n            {userProfile.admin_userProfiles || user.role == 'seniorAdmin' ? (<UserProfiles orgID={orgID} />) : null }\n            </Jumbotron>\n        </Container>\n    </div>\n  );\n}\n\nexport default OrganisationAdmin;","import Axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Button, Col, Container, Jumbotron, ListGroup, Row, Modal, Image, Form } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport { setUserSettings, updateSetting, updateAdminSetting } from '../../globalSettings/userProfileSettings';\n\nimport helpImg from '../../public/images/help.png';\n\nfunction ProfileSettings(props) {\n\n    const orgID = props.match.params.id;\n\n    const UserProfileAdminGlobalSettings = useSelector(state => state.UserProfileAdminGlobalSettings);\n    const AdminProfileGlobalSettings = useSelector(state => state.AdminProfileGlobalSettings);\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if(AdminProfileGlobalSettings.uuid == '') {\n            console.log(AdminProfileGlobalSettings.uuid);\n            history.push('/org/' + orgID + '/organisationAdmin');\n        } else {\n            if(AdminProfileGlobalSettings.uuid != 'default') {\n                loadProfile(false);\n            } else {\n                setSettings(prevState => {\n                    return {...prevState, defaultPro: true}\n                });\n                loadProfile(true);\n            }\n        }\n    }, []);\n\n    useEffect(() => {\n        \n        window.addEventListener('resize', handleResize);\n        return () => {\n            window.removeEventListener('resize', handleResize);\n        }\n    }, []);\n\n    function handleResize() {\n\n        let viewBtnSize = document.getElementById('viewBtn').offsetWidth; //50\n        let writeBtnSize = document.getElementById('writeBtn').offsetWidth; //60\n        let editBtnSize = document.getElementById('editBtn').offsetWidth; //50\n        let deleteBtnSize = document.getElementById('deleteBtn').offsetWidth; //70\n        let repeatBtnSize = document.getElementById('repeatBtn').offsetWidth; //70\n\n        setSettings(prevState => {\n            return {...prevState, viewBtnSize: viewBtnSize, writeBtnSize: writeBtnSize, editBtnSize: editBtnSize, deleteBtnSize: deleteBtnSize, repeatBtnSize: repeatBtnSize}\n        });\n\n    }\n\n    const [settings, setSettings] = useState({\n        users: [],\n        userUUID: '',\n        nonProfileUsers: [],\n        profileUsers: [],\n        rooms: [],\n        defaultPro: false,\n\n        viewBtnSize: 0,\n        writeBtnSize: 0,\n        editBtnSize: 0,\n        deleteBtnSize: 0,\n        repeatBtnSize: 0\n    });\n\n    const [userHistory, setHistory] = useState({\n        users: []\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleCloseModal() {\n        setModal(prevState => {\n            return {...prevState, open: false}\n        })\n    }\n\n    const [help, setHelp] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        message2: '',\n    });\n\n    function handleCloseHelp() {\n        setHelp(prevState => {\n            return {...prevState, open: false}\n        })\n    }\n\n    const [tabs, setTabs] = useState({\n        bookings: true,\n        admin: false\n    })\n\n    function loadProfile(defaultPro) {\n\n        const data = {orgID: orgID, profileUUID: AdminProfileGlobalSettings.uuid, userSettingKeys: Object.keys(UserProfileAdminGlobalSettings.settings)}\n        Axios.post('/userProfile/loadProfile', data)\n        .then(res => {\n            const data = res.data;\n\n            //USERS\n            getProfileUsers(defaultPro, data.users);\n\n            //ROOMS\n            const UPRooms = data.UPRooms;\n            const orgRooms = data.orgRooms;\n            \n            let rooms = [];\n\n            if(!defaultPro) {\n                orgRooms.map(room => {\n                    \n                    let exsit = false;\n\n                    UPRooms.map(UPRoom => {\n\n                        if(room.uuid == UPRoom.roomUUID) {\n                            \n                            exsit = true;\n                            const obj = {uuid: room.uuid, name: room.name, view: (UPRoom.view == 'true'), write: (UPRoom.write == 'true'), edit: (UPRoom.edit == 'true'), delete: (UPRoom.delete  == 'true'), repeat: (UPRoom.repeat == 'true')}\n                            rooms.push(obj);\n                        }\n                    })\n\n                    if(!exsit){\n\n                        const roomObj = {uuid: room.uuid, name: room.name, view: false, write: false, edit: false, delete: false, repeat: false}\n                        rooms.push(roomObj);\n                    }\n                })\n\n                setSettings(prevState => {\n                    return {...prevState, rooms: rooms};\n                });\n\n                //USER SETTINGS\n                let settings = {};\n                const serverSettings = data.userSettings;\n                const keys = Object.keys(serverSettings);\n                \n                for(const key of keys) {\n                    settings[key] = (serverSettings[key] == 'true');\n                }\n                setUserSettings(dispatch, settings);\n\n            } else {\n                orgRooms.map(room => {\n                    const roomObj = {uuid: room.uuid, name: room.name, view: true, write: true, edit: false, delete: false, repeat: false}\n                        rooms.push(roomObj);\n                });\n\n                setSettings(prevState => {\n                    return {...prevState, rooms: rooms};\n                });\n            }\n\n            handleResize();\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n    function getProfileUsers(defaultPro, allUsers) {\n\n        let nonProfileusers = [];\n        let profileUsers = [];\n\n        if(!defaultPro) {\n            allUsers.map(user => {\n            \n                const profiles = user.userProfiles.split(',');\n                if(profiles.includes(AdminProfileGlobalSettings.uuid.toString())) {\n                    profileUsers.push(user);\n                } else {\n                    nonProfileusers.push(user);\n                }\n            });\n\n            setSettings(prevState => {\n                return {...prevState, nonProfileUsers: nonProfileusers, profileUsers: profileUsers, users: allUsers, userUUID: ''}\n            });\n        } else {\n            allUsers.map(user => {\n\n                if(user.userProfiles == '') {\n                    profileUsers.push(user);\n                }\n            });\n\n            setSettings(prevState => {\n                return {...prevState, profileUsers: profileUsers, users: allUsers, userUUID: ''}\n            });\n        }\n    }\n\n\n    function handleRoomSelectProperty(uuid, property) {\n\n        const rms = settings.rooms;\n\n        rms.forEach(room => {\n            if(room.uuid == uuid) {\n                if(room[property]) { //turns to false\n                    room[property] = false;\n\n                    if(property == 'view') {\n                        room.write = false;\n                        room.edit = false;\n                        room.delete = false;\n                        room.repeat = false;\n                    }\n\n                } else { //turns to true\n                    room[property] = true;\n                }\n            }\n        });\n\n        setSettings(prevState => {\n            return {...prevState, rooms: rms}\n        });\n    }\n\n    function handleUpdateProfile() {\n\n        const usersToUpdate = [];\n\n        userHistory.users.map(id => {\n\n            settings.users.map(user => {\n\n                if(user.uuid == id) {\n\n                    usersToUpdate.push(user);\n                }\n            })\n        });\n\n        const data = {orgID: orgID, profileUUID: AdminProfileGlobalSettings.uuid, usersToUpdate: usersToUpdate, profileUserCount: settings.profileUsers.length, rooms: settings.rooms, userSettings: UserProfileAdminGlobalSettings.settings};\n\n        Axios.post('/userProfile/saveProfile', data)\n        .then(res => {\n            const data = res.data;\n            if(data.message == 'User Profile Updated') {\n                setModal({heading: 'Profile Settings', message: data.message, open: true});\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleSelectAllViews() {\n        console.log('select all views');\n    }\n\n    //USERS\n    function handleUserClicked(uuid) {\n\n        setSettings(prevState => {\n            return {...prevState, userUUID: uuid}\n        });\n    }\n\n    function handleMoveUserIntoProfile() {\n\n        if(settings.userUUID == '') {\n            setModal({heading: 'Move User', message: 'You need to select an user first', open: true})\n        } else {\n            settings.users.map(user => {\n\n                if(user.uuid == settings.userUUID) {\n\n                    let profiles = [];\n\n                    if(user.userProfiles != '') {\n                        profiles = user.userProfiles.split(',');\n                    }\n\n                    if(profiles.length > 5) {\n                        setModal({heading: 'Move User', message: 'This user has already got 5 profile assigned to them', open: true});\n                    } else {\n\n                        if(profiles.length == 0) {\n                            profiles.push(AdminProfileGlobalSettings.uuid);\n                        } else {\n                            profiles.push(AdminProfileGlobalSettings.uuid);\n                        }\n\n                        user.userProfiles = profiles.toString();\n                    }\n                    \n                    insertUserHistory(settings.userUUID);\n                    getProfileUsers(settings.defaultPro, settings.users);\n                }\n            })\n        }\n    }\n\n    function handleMoveUserOutProfile() {\n\n        if(settings.userUUID == '') {\n            setModal({heading: 'Move User', message: 'You need to select an user first', open: true})\n        } else {\n\n            settings.users.map(user => {\n\n                if(user.uuid == settings.userUUID) {\n\n                    let profiles = [];\n\n                    if(user.userProfiles != '') {\n                        profiles = user.userProfiles.split(',');\n                    }\n\n                    const ID = profiles.indexOf(AdminProfileGlobalSettings.uuid.toString());\n\n                    profiles.splice(ID, 1);\n\n                    user.userProfiles = profiles.toString();\n                    \n                    insertUserHistory(settings.userUUID);\n                    getProfileUsers(settings.defaultPro, settings.users);\n                }\n            })\n        }\n    }\n\n    function insertUserHistory(uuid) {\n\n        if(!userHistory.users.includes(uuid)) {\n\n            setHistory(prevState => {\n                return {users: [...userHistory.users, uuid]}\n            });\n        }\n    }\n\n    function showHelp() {\n\n        const message = 'The priority system only affects the rooms in the profiles. If the same room in two different profiles is marked view, the priority profile settings are set for that room.'\n        const message2 = 'The priority system does not affect any other settings in the profile. If a setting is turned on in any profile that is assigned to a particular user, the setting is on for that user.';\n\n        setHelp({heading: 'Help: Priority System', message: message, message2: message2, open: true});\n    }\n\n    function changeTabs(section) {\n        setTabs({ [section] : true });\n    }\n\n    function onChange() {\n        //DO NOTHING\n    }\n\n    function settingOnClick(event) {\n\n        const { name, checked } = event.target;\n\n        updateSetting(UserProfileAdminGlobalSettings, dispatch, name, checked);\n    }\n\n    function changeAdminSetting(event) {\n\n        const { name, checked } = event.target;\n\n        updateAdminSetting(UserProfileAdminGlobalSettings, dispatch, name, checked);\n\n\n    }\n\n\n    return (<div>\n        <Container fluid className='p-3'>\n            <Jumbotron className='back-color'>\n                \n                <h1>Profile Settings</h1>\n                <h2>{AdminProfileGlobalSettings.name}</h2>\n                <br />\n                <div className='align-right'>\n                    {!settings.defaultPro ? (<div>\n                            <Button variant='primary' onClick={handleUpdateProfile}>Update</Button>\n                            <Image className='help-image' src={helpImg} onClick={showHelp} ></Image>\n                        </div>) : null}\n                        </div>\n                <Row className='normal-text'>\n                    <strong>Users:</strong>\n                </Row>\n                <br />\n                    <Row>\n                        <Col><strong>Users in this profile:</strong>\n                            <div className='align-left, scrollable-300'>\n                                <ListGroup>\n                                    {settings.defaultPro ? (<div>\n                                        {settings.profileUsers.map((user, index) => {\n                                        return <ListGroup.Item href={'#' + index} key={index}>{user.displayName}</ListGroup.Item>\n                                    })}\n                                    </div>) : (<div>\n                                        {settings.profileUsers.map((user, index) => {\n                                        return <ListGroup.Item href={'#' + index} key={index} action onClick={() => handleUserClicked(user.uuid)}>{user.displayName}</ListGroup.Item>\n                                    })}\n                                    </div>) }\n                                    \n                                </ListGroup>\n                            </div></Col>\n                        <Col>\n                            <div className='valign-center'>\n                                <span className='valign'>\n                                {!settings.defaultPro ? (<div>\n                                    <Button onClick={handleMoveUserIntoProfile}>Move into profile</Button><br/>\n                                    <Button onClick={handleMoveUserOutProfile}>Move out of profile</Button>\n                                </div>) : null}\n                                </span>\n                                \n                            </div>\n                        </Col>\n                        <Col>\n                            {!settings.defaultPro ? (<div>\n                                <strong>Users not in this profile:</strong>\n                                <div className='align-left, scrollable-300'>\n                                    <ListGroup>\n                                        {settings.nonProfileUsers.map((user, index) => {\n                                            return <ListGroup.Item href={'#' + index} key={index} action onClick={() => handleUserClicked(user.uuid)}>{user.displayName}</ListGroup.Item>\n                                        })}\n                                    </ListGroup>\n                                </div>\n                            </div>) : (<div>\n                                <strong>\n                                    This profile cannot be updated as it is the default profile which the system uses if a user is not assigned to a profile. <br /><br />\n                                    This is the profile for User Level which is set up by High-View Studios. <br /> <br />\n                                    An 'user' can see all the rooms and make bookings.<br /> <br />\n                                    An 'admin' can make bookings on behalf of any user and any department. They are also able to make repeated bookings and able to delete any booking. <br /> <br />\n                                    To have custom settings please make a profile and assign users to it.\n                                </strong>\n                            </div>)}\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col className='align-left'> \n                            <strong>Rooms:</strong>\n                        </Col>\n                        <Col className='align-left'>\n                            {!settings.defaultPro ? (<strong>User Settings:</strong>) : null}\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col className='align-left profileSettings_warning'>\n                            <strong>Rooms are affected by the priority system, see 'help' for more information.</strong>\n                        </Col>\n                        <Col>\n\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col className='align-right'>\n                            <Button variant='primary' disabled>Selected</Button>\n                            <Button variant='outline-primary' disabled>Unselected</Button>\n                        </Col>\n                        <Col className='align-left'>\n                                {!settings.defaultPro ? (<div>\n                                    <Button variant={tabs.bookings ? 'primary' : 'outline-primary'} onClick={() => {changeTabs('bookings')}}>Bookings</Button>\n                                    <Button variant={tabs.admin ? 'primary' : 'outline-primary'} onClick={() => {changeTabs('admin')}}>Administrator</Button>   \n                                </div>) : null}\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col className='align-left'>\n                            <div className='scrollable-300'>\n                                <ListGroup>\n                                {settings.rooms.map((room, index) => {\n                                                return <ListGroup.Item key={index}>\n                                                    {settings.defaultPro ? (<div>\n                                                        <Row>\n                                                        <Col>{room.name}</Col>\n                                                        <Col><Button variant={room.view ? 'primary' : 'outline-primary'} disabled>View</Button></Col>\n                                                        <Col>{room.view ? <Button variant={room.write ? 'primary' : 'outline-primary'} disabled>Write</Button> : null}</Col>\n                                                        <Col>{room.view ? <Button variant={room.edit ? 'primary' : 'outline-primary'} disabled>Edit</Button> : null}</Col>\n                                                        <Col>{room.view ? <Button variant={room.delete ? 'primary' : 'outline-primary'} disabled>Delete</Button>: null}</Col>\n                                                        <Col>{room.view ? <Button variant={room.repeat ? 'primary' : 'outline-primary'} disabled>Repeat</Button> : null}</Col>\n                                                        </Row>\n                                                    </div>) : (<div>\n                                                        <Row>\n                                                        <Col className='col-lg-2 button-width'>{room.name}</Col>\n                                                        <Col className='col-lg-10'>\n                                                            <Row>\n                                                            <Col className='col-lg-2'></Col>\n                                                            <Col className='col-lg-2'><Button id={index == 0 ? 'viewBtn' : null} className='button-width' variant={room.view ? 'primary' : 'outline-primary'} onClick={() => handleRoomSelectProperty(room.uuid, 'view')}>{settings.viewBtnSize <= 50 ? <i class=\"fas fa-eye\"></i> : 'View'}</Button></Col>\n                                                            <Col className='col-lg-2'><Button id={index == 0 ? 'writeBtn' : null} className={room.view ? 'button-width' : 'button-width btn-hidden'} variant={room.write ? 'primary' : 'outline-primary'} onClick={() => handleRoomSelectProperty(room.uuid, 'write')}>{settings.writeBtnSize <= 60 ? <i class=\"fas fa-pencil-alt\"></i> : 'Write'}</Button></Col>\n                                                            <Col className='col-lg-2'><Button id={index == 0 ? 'editBtn' : null} className={room.view ? 'button-width' : 'button-width btn-hidden'} variant={room.edit ? 'primary' : 'outline-primary'} onClick={() => handleRoomSelectProperty(room.uuid, 'edit')}>{settings.editBtnSize <= 50 ? <i class=\"fas fa-edit\"></i> : 'Edit'}</Button></Col>\n                                                            <Col className='col-lg-2'><Button id={index == 0 ? 'deleteBtn' : null} className={room.view ? 'button-width' : 'button-width btn-hidden'} variant={room.delete ? 'primary' : 'outline-primary'} onClick={() => handleRoomSelectProperty(room.uuid, 'delete')}>{settings.deleteBtnSize <= 70 ? <i class=\"fas fa-trash-alt\"></i> : 'Delete'}</Button></Col>\n                                                            <Col className='col-lg-2'><Button id={index == 0 ? 'repeatBtn' : null} className={room.view ? 'button-width' : 'button-width btn-hidden'} variant={room.repeat ? 'primary' : 'outline-primary'} onClick={() => handleRoomSelectProperty(room.uuid, 'repeat')}>{settings.repeatBtnSize <= 70 ? <i class=\"fas fa-redo-alt\"></i> : 'Repeat'}</Button></Col>\n                                                        \n                                                            </Row>\n                                                        </Col>\n                                                        </Row>\n                                                    </div>)}\n                                                </ListGroup.Item>\n                                })}\n                                </ListGroup>\n                            </div>\n                        </Col>\n                        <Col className='align-left'>\n                        {!settings.defaultPro ? (<div>\n                            <div className='userProfileTabs'>\n                                {tabs.bookings ? (<div>\n                                    <Form.Check type='checkbox' name='viewAllUsers' checked={UserProfileAdminGlobalSettings.settings.viewAllUsers} label='View All Users' onClick={settingOnClick} onChange={onChange} />\n                                    <Form.Check type='checkbox' name='viewAllDepartments' checked={UserProfileAdminGlobalSettings.settings.viewAllDepartments} label='View All Departments' onClick={settingOnClick} onChange={onChange} />\n                                </div>) : null}\n\n                                {tabs.admin ? (<div>\n                                    <Row>\n                                        <Col>\n                                            <Form.Check type='checkbox' checked={UserProfileAdminGlobalSettings.settings.orgAdminAccess} label='Organisation Admin Access' disabled onChange={onChange}/> <br />\n                                            Select one section to activite the Organisation Admin Access\n                                        </Col>\n                                        <Col>\n                                            <strong>Sections: </strong><br /><br />\n                                            <Form.Check type='checkbox' name='admin_loginSettings' checked={UserProfileAdminGlobalSettings.settings.admin_loginSettings} label='Login Settings' onClick={changeAdminSetting} onChange={onChange} />\n                                            <Form.Check type='checkbox' name='admin_departments' checked={UserProfileAdminGlobalSettings.settings.admin_departments} label='Departments' onClick={changeAdminSetting} onChange={onChange} />\n                                            <Form.Check type='checkbox' name='admin_users' checked={UserProfileAdminGlobalSettings.settings.admin_users} label='Users' onClick={changeAdminSetting} onChange={onChange} />\n                                            <Form.Check type='checkbox' name='admin_rooms' checked={UserProfileAdminGlobalSettings.settings.admin_rooms} label='Rooms' onClick={changeAdminSetting} onChange={onChange} />\n                                            <Form.Check type='checkbox' name='admin_layouts' checked={UserProfileAdminGlobalSettings.settings.admin_layouts} label='Layouts' onClick={changeAdminSetting} onChange={onChange} />\n                                            <Form.Check type='checkbox' name='admin_weekSystemHolidays' checked={UserProfileAdminGlobalSettings.settings.admin_weekSystemHolidays} label='Week System / Holidays' onClick={changeAdminSetting} onChange={onChange} />\n                                            <Form.Check type='checkbox' name='admin_userProfiles' checked={UserProfileAdminGlobalSettings.settings.admin_userProfiles} label='User Profiles' onClick={changeAdminSetting} onChange={onChange} />\n                                        </Col>\n                                    </Row>\n                                </div>) : null}\n                            </div>\n                        </div>) : null}\n                        </Col>\n                    </Row>\n                    <Row>\n                        <Col className='align-right'>\n                            {!settings.defaultPro ? (<Button variant='primary' onClick={handleUpdateProfile}>Update</Button>) : null}\n                        </Col>\n                    </Row>\n            </Jumbotron>\n        </Container>\n        <Modal show={modal.open} onHide={handleCloseModal}>\n            <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {modal.message}\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant='primary' onClick={handleCloseModal}>Close</Button>\n            </Modal.Footer>\n        </Modal>\n\n        <Modal show={help.open} onHide={handleCloseHelp}>\n            <Modal.Header closeButton>\n                <Modal.Title>{help.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {help.message}<br /> <br /> {help.message2}\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant='primary' onClick={handleCloseHelp}>Close</Button>\n            </Modal.Footer>\n        </Modal>\n    </div>)\n}\n\nexport default ProfileSettings;","import React, { useState, useEffect} from 'react';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport ServerPath, { hostPath } from \"../ServerPath\";\nimport {useDispatch, useSelector} from 'react-redux';\nimport {userUpdateAuth, userUpdateName, userUpdateRole, userUpdateNew, userUpdateRequestedPassword, userUpdateOrgID, userUpdateSARequest, userUpdateUUID, userUpdateUserDepartments} from '../store/actions/user';\nimport { UpdateForceSignIn, UpdateFromSignIn } from '../store/actions/globalVars';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction SignIn(props) {\n\n  const organisationID = props.match.params.id;\n\n  const user = useSelector(state => state.user);\n  const organisation = useSelector(state => state.organisation);\n  const globalVars = useSelector(state => state.globalVars);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [message, setmessage] = useState('');\n\n  useEffect(() => {\n    document.title = \"STAFF - Sign In\";\n    ServerPath();\n    onOpen();\n  },[])\n\n  function onOpen() {\n    if(user.auth) {\n      history.push('/');\n    }\n  }\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n      <h1>{organisation.name}</h1> <br />\n        <h3>Please Sign In!</h3>\n        <p>{organisation.message}</p>\n        {organisation.signInLocal ? (\n          <div>\n          <form>\n          <label id=\"lblEmail\">Email:</label><br />\n          <input id=\"txtEmail\"type=\"email\"></input><br /><br />\n          <label id=\"lblPassword\">Password:</label><br />\n          <input id=\"txtPassword\" type=\"password\"></input><br /> <br />\n          <p>{message}</p>\n        </form><br />\n        \n        <Button variant=\"warning\" onClick={logIn}>Log in</Button>\n        <Button variant=\"warning\" onClick={() => history.push('/org/'+ organisationID +'/forgotPassword')}>Forgot Password</Button><br /><br />\n          </div>) : (<div></div>)}\n\n        {organisation.signInGoogle ? (\n          <Button variant=\"danger\" href={hostPath + \"/auth/google\"}><i className=\"fab fa-google\"></i> Log in with Google</Button>\n        ) : (<div></div>)}\n        \n      </Jumbotron>\n    </Container>\n    </div>\n  );\n\n  function logIn(event) {\n    event.preventDefault();\n    const email = document.getElementById(\"txtEmail\").value;\n    const password = document.getElementById(\"txtPassword\").value;\n\n    const data = {email: email, password: password}\n    Axios.post(\"/login\", data)\n    .then(res => {\n      console.log(res.data);\n        const message = res.data.message;\n\n        if(message === \"Logged in successful\") {\n            dispatch(userUpdateAuth(true));\n            dispatch(userUpdateUUID(res.data.uuid));\n            dispatch(userUpdateName(res.data.displayName));\n            dispatch(userUpdateUserDepartments(res.data.departments));\n            dispatch(userUpdateRole(res.data.role));\n            dispatch(userUpdateNew(res.data.new));\n            dispatch(userUpdateRequestedPassword(res.data.requestedPassword));\n            dispatch(userUpdateOrgID(res.data.orgID));\n            dispatch(userUpdateSARequest(res.data.SARequest));\n\n            if(globalVars.forceSignIn) {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(false));\n            } else {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(true));\n            }\n        } else {\n            setmessage(res.data.info);\n        }\n    })\n    .catch(err => {\n        console.log(err);\n    });\n  }\n}\n\nexport default SignIn;\n","import React, { useEffect, useState } from 'react';\nimport { Route, useHistory } from 'react-router-dom';\nimport { orgUpdateName, orgUpdateSignInLocal, orgUpdateSignInGoogle, orgUpdateMessage, orgUpdateUseDepartments, orgUpdateNoOfDepartments, orgUpdateDepartments, orgUpdateAllocatedRooms, orgUpdateRedeemedRooms, orgUpdateRooms, orgUpdateHolidays, orgUpdateLayouts, orgUpdateLocked } from \"../store/actions/organistion\";\nimport { setDefaultAccessLevelSettings, setUserProfileSettings } from '../globalSettings/userProfileSettings';\n\nimport OrganisationHome from \"../pages/organisationHome\";\nimport CollisionBookings from '../pages/orgAdminComponets/collisionBookings';\nimport ChangeofSeniorRequest from '../pages/orgAdminComponets/changeOfSeniorRequest';\nimport userDetails from '../pages/orgAdminComponets/userDetails';\nimport ForgotPassword from \"../pages/forgotPassword\";\nimport ChangePassword from '../pages/changePassword';\nimport CreatePassword from \"../pages/createPassword\";\nimport WrongOrganisation from '../pages/wrongOrganisation';\n\nimport OrganisationAdmin from \"../pages/organisationAdmin\";\nimport ProfileSettings from '../pages/orgAdminComponets/profileSettings';\n\nimport SignIn from \"../pages/signIn\";\nimport Axios from 'axios';\nimport {useSelector, useDispatch} from 'react-redux';\n\nfunction OrganisationRouter(props) {\n\n    const orgID = props.match.params.id;\n    const user = useSelector(state => state.user);\n    const globalVars = useSelector(state => state.globalVars);\n    const UserProfileAdminGlobalSettings = useSelector(state => state.UserProfileAdminGlobalSettings);\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const [isLoaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        document.title = \"STAFF\";\n        getOrgisation();\n        console.log('hi');\n      },[globalVars.forceSignIn]);\n\n    function getOrgisation() {\n        console.log('get org');\n        const data = {orgID: orgID, userProfiles: user.profiles, userSettingsKeys: Object.keys(UserProfileAdminGlobalSettings.settings)}\n        Axios.post('/organisation/getOrganisation', data)\n        .then(res => {\n          //console.log(res.data);\n          if(res.data.error != \"Yes\") {\n            dispatch(orgUpdateName(res.data.organisation.name));\n            dispatch(orgUpdateSignInLocal((res.data.organisation.auth_Local == 'true')));\n            dispatch(orgUpdateSignInGoogle((res.data.organisation.auth_Google == 'true')));\n            dispatch(orgUpdateMessage(res.data.organisation.message));\n            dispatch(orgUpdateUseDepartments((res.data.organisation.useDepartments == 'true')));\n            dispatch(orgUpdateNoOfDepartments(res.data.organisation.noOfDepartments));\n            dispatch(orgUpdateDepartments(res.data.departments));\n            dispatch(orgUpdateAllocatedRooms(res.data.organisation.allocatedRooms));\n            dispatch(orgUpdateRedeemedRooms(res.data.organisation.redeemedRooms));\n            dispatch(orgUpdateRooms(res.data.rooms));\n            dispatch(orgUpdateLayouts(res.data.layouts));\n            dispatch(orgUpdateHolidays(res.data.holidays));\n            dispatch(orgUpdateLocked((res.data.organisation.locked == 'true')));\n\n            //USER PROFILE\n            if(!(res.data.organisation.useProfiles == 'true') ||  res.data.userProfile.default) {\n                //default\n                setDefaultAccessLevelSettings(user, dispatch);\n            } else {\n                setUserProfileSettings(dispatch, res.data.userProfile);\n            }\n\n            if(user.auth == false) {\n              history.replace('/org/' + orgID + '/signIn');\n            } else {\n                if(user.orgID != orgID) {\n                  history.replace('/org/'+ user.orgID +'/wrongOrganisation');\n\n                } else if (user.requestedPassword == 'true') {\n                  history.replace('/org/'+ orgID +'/changePassword');\n                  \n                } else if(user.new == 'true') {\n                  history.replace('/org/' + orgID +'/createPassword');\n\n                } else if(user.SARequest == 'true') {\n                  history.replace('/org/' + orgID + '/changeOfSeniorRequest');\n                } \n                else {\n                  if(globalVars.fromSignIn) {\n                    history.replace('/org/' + orgID);\n                  }\n                }\n            }\n            setLoaded(true);\n          } else {\n            history.replace('/');\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        })\n      }\n\n    return (\n        <div>\n            {isLoaded ? (<div>\n              \n                <Route path='/org/:id' exact component={OrganisationHome} />\n                <Route path='/org/:id/collisionBookings' component={CollisionBookings} />\n                \n                <Route path=\"/org/:id/organisationAdmin\" component={OrganisationAdmin} />\n                <Route path=\"/org/:id/userDetails\" component={userDetails} />\n                <Route path=\"/org/:id/profileSettings\" component={ProfileSettings} />\n\n                <Route path=\"/org/:id/signIn\" component={SignIn} />\n                <Route path=\"/org/:id/forgotPassword\" component={ForgotPassword} />\n                <Route path=\"/org/:id/changePassword\" component={ChangePassword} />\n                <Route path='/org/:id/changeOfSeniorRequest' component={ChangeofSeniorRequest} />\n                <Route path=\"/org/:id/createPassword\" component={CreatePassword} />\n                <Route path='/org/:id/wrongOrganisation' component={WrongOrganisation} />\n\n            </div>) : null}\n        </div>\n    )\n}\n\nexport default OrganisationRouter;","import React, {useEffect, useState} from 'react';\nimport { Container, Jumbotron, Row, Col, Form, Button, Dropdown, Modal } from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport DatePicker from \"react-datepicker\";\nimport moment from 'moment';\n \nimport \"react-datepicker/dist/react-datepicker.css\";\n\nfunction Book(props) {\n\n    const orgID = props.match.params.id;\n    const history = useHistory();\n\n    const user = useSelector(state => state.user);\n    const organisation = useSelector(state => state.organisation);\n    const globalVars = useSelector(state => state.globalVars);\n    const userProfile = useSelector(state => state.userProfile);\n\n    const [settings, setSettings] = useState({\n        userList: [],\n        departmentList: [],\n        user: 'Users',\n        userID: '',\n        department: 'Departments',\n        departmentID: '',\n        sessionLength: 'Length',\n        sessionLengthTitle: '',\n        showSessionLength: true,\n        sessions: [],\n        repeat: false,\n        daily: false,\n        weekly: false,\n        endOfYear: false,\n        untilDate: moment(),\n        showUserDropdown: true,\n        sessDes: '',\n        sessDesTitle: '',\n        comments: '',\n        times: []\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n    });\n\n    const [errorMsg, setErrorMsg] = useState({\n        open: false,\n    })\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleErrorMsgClose() {\n        setErrorMsg(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    useEffect(() => {\n        if(globalVars.date == '') {\n            history.push('/org/' + orgID);\n        } else {\n            onOpen();\n        }\n    }, []);\n\n    function onOpen() {\n\n        FetchUsersAndDepartments();\n        \n        if(globalVars.layoutData.layout == 'Timetable') {\n            if(globalVars.sessionID.includes('b')) {\n                \n                setSettings(prevState => {\n                    return {...prevState, showSessionLength: false, sessionLength: '1'};\n                })\n            } else {\n                const IDs = globalVars.sessionID.split('-');\n                const firstIndex = parseInt(IDs[1]);\n                \n                let sessions = [];\n                let sess = 1;\n                for(let i = firstIndex; i <= globalVars.totalSessions; i++) {\n                    sessions.push(sess);\n                    sess++;\n                }\n                setSettings(prevState => {\n                    return {...prevState, sessions: sessions}\n                });\n            }\n            //Change Titles\n            setSettings(prevState => {\n                return {...prevState, sessDesTitle: 'Class', sessionLengthTitle: 'Session Length'};\n            });\n\n        } else if(globalVars.layoutData.layout == 'Diary') {\n\n            const sTime = moment(globalVars.sessionLabel, 'HH:mm');\n\n            BuildTimes(sTime, globalVars.finishTime, globalVars.timeInterval);\n\n            //Change Titles\n            setSettings(prevState => {\n                return {...prevState, sessDesTitle: 'Subject', sessionLengthTitle: 'Until'};\n            });\n        }\n\n        const currentDate = moment(globalVars.date, 'DD/MM/YYYY');\n\n        setSettings(prevState => {\n            return {...prevState, untilDate: currentDate};\n        })\n    }\n\n    function FetchUsersAndDepartments() {\n\n        const data = {orgID: orgID, users: userProfile.viewAllUsers, departments: userProfile.viewAllDepartments}\n\n        Axios.post('/organisation/usersAndDepartments', data)\n        .then(res => {\n            const data = res.data;\n            if(data.userList != 'none') {\n                setSettings(prevState => {\n                    return {...prevState, userList: data.userList};\n                })\n            } else {\n                setSettings(prevState => {\n                    return {...prevState, showUserDropdown: false, user: user.name, userID: user.uuid}\n                });\n            }\n            if(data.departmentList != 'none') {\n                setSettings(prevState => {\n                    return {...prevState, departmentList: data.departmentList}\n                })\n            } else {\n                FetchUserDepartments()\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function FetchUserDepartments() {\n\n        const userDepartments = user.userDepartments.split(',');\n        let departments = [];\n\n        for(const depIndex of userDepartments) {\n            \n            for(const department of organisation.departments) {\n                if(department.uuid == depIndex) {\n                    departments.push(department);\n                }\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, departmentList: departments};\n        });\n    }\n\n    //Dropdowns select functions\n    function handleUsersDropdownItem(name, uuid) {\n\n        setSettings(prevState => {\n            return {...prevState, user: name, userID: uuid};\n        });\n    }\n\n    function handleDepartmentsDropdownItem(name, id) {\n\n        setSettings(prevState => {\n            return {...prevState, department: name, departmentID: id};\n        });\n\n        console.log(globalVars.roomID);\n    }\n\n    function handleSessionsDropdownItem(event) {\n\n        const { innerText} = event.target;\n\n        setSettings(prevState => {\n            return {...prevState, sessionLength: innerText};\n        });\n    }\n\n    function handleRepeatCheckChanged(event) {\n\n        const { checked } = event.target;\n\n        setSettings(prevState => {\n            return {...prevState, repeat: checked}\n        })\n    }\n\n    function handleDailyCheckChanged(event) {\n\n        const { checked } = event.target;\n\n        if(!checked) {\n            setSettings(prevState => {\n                return {...prevState, daily: checked}\n            });\n        } else {\n            setSettings(prevState => {\n                return {...prevState, daily: checked, weekly: !checked, endOfYear: !checked}\n            });\n        }\n    }\n\n    function handleWeeklyCheckChanged(event) {\n\n        const { checked } = event.target;\n\n        if(!checked) {\n            setSettings(prevState => {\n                return {...prevState, weekly: checked}\n            });\n        } else {\n            setSettings(prevState => {\n                return {...prevState, weekly: checked, daily: !checked, endOfYear: !checked}\n            });\n        }\n    }\n\n    function handleEndOfYearCheckChanged(event) {\n\n        const { checked } = event.target;\n\n        if(!checked) {\n            setSettings(prevState => {\n                return {...prevState, endOfYear: checked}\n            })\n        } else {\n            setSettings(prevState => {\n                return {...prevState, endOfYear: checked, daily: !checked, weekly: !checked}\n            })\n\n            endOfYearDate();\n        }\n    }\n\n    function endOfYearDate() {\n\n        let endDate = moment();\n        const today = moment();\n\n        if(today.month() > 6) {\n            const date = moment('31/07/' + today.year(), 'DD/MM/YYYY');\n            date.add(1, 'y');\n            endDate = moment(date, 'DD/MM/YYYY');\n        } else {\n            const date = moment('31/07/' + today.year(), 'DD/MM/YYYY');\n            endDate = moment(date, 'DD/MM/YYYY');\n        }\n\n        setSettings(prevState => {\n            return {...prevState, untilDate: new Date(endDate)}\n        })\n    }\n\n    function handleDateChange(date) {\n        \n        setSettings(prevState => {\n            return {...prevState, untilDate: date }\n        });\n    }\n\n    function handleTextBoxChange(event) {\n\n        const { name, value } = event.target;\n\n        setSettings(prevState => {\n            return {...prevState, [name]:value}\n        });\n    }\n\n    function handleBook() {\n\n        const today = moment();\n        if(settings.user == 'Users') {\n            setModal({heading: 'Booking', message:'Please select an user', open: true});\n\n        } else if(settings.department == 'Departments') {\n            setModal({heading: 'Booking', message:'Please select a department', open: true});\n\n        } else if(settings.sessionLength == 'Length') {\n            setModal({heading: 'Booking', message:'Please select a session length', open: true});\n\n        } else if(settings.sessDes == '') {\n            setModal({heading: 'Booking', message:'Please put a class', open: true});\n\n        } else if(settings.repeat) {\n            if(!settings.daily && !settings.weekly && !settings.endOfYear) {\n                setModal({heading: 'Booking', message:'Please select a repeat method', open: true});\n\n            } else{\n                const uDate = moment(settings.untilDate, 'DD/MM/YYYY');\n                const cDate = moment(globalVars.date, 'DD/MM/YYYY');\n                if(uDate.isSameOrBefore(cDate)) {\n                    setModal({heading: 'Booking', message:'Please select a date after the selected booking date', open: true});\n                } else {\n                    const cDate = moment(globalVars.date, 'DD/MM/YYYY');\n                    cDate.add(2, 'y');\n                    if(uDate.isAfter(cDate)) {\n                        setModal({heading: 'Booking', message:'You cannot repeat a booking for more than two years.', open: true});\n                    } else {\n                        BookSession();\n                    }\n\n                    \n                }\n            }\n        } else {\n            BookSession();\n        }\n    }\n\n    function BookSession() {\n\n        let bookingType = '';\n        let repeatType = '';\n        let repeatUntil = '';\n        let sessions = [];\n\n        const IDs = globalVars.sessionID.split('-');\n\n        if(globalVars.layoutData.layout == 'Timetable') {\n            if(!IDs[1].toString().includes('b')) {\n\n                let firstIndex = parseInt(IDs[1]);\n\n                for(var i = 0; i < settings.sessionLength; i++) {\n                    sessions.push(firstIndex);\n                    firstIndex++;\n                }\n            } else {\n                sessions.push(IDs[1]);\n            } \n        } else if (globalVars.layoutData.layout == 'Diary') {\n\n            let sTime = moment(globalVars.sessionLabel, 'HH:mm');\n            const fTime = moment(settings.sessionLength, 'HH:mm');\n            \n            while (sTime.isBefore(fTime)) {\n                sessions.push(sTime.format('HH:mm').replace(':', ''));\n                sTime.add(globalVars.timeInterval, 'm');\n            }\n        }\n\n        if(settings.repeat) {\n            bookingType = 'repeat';\n\n            if(settings.daily) {\n                repeatType = 'daily';\n                repeatUntil = settings.untilDate.toLocaleDateString();\n            } else if(settings.weekly || settings.endOfYear) {\n                repeatType = 'weekly';\n                repeatUntil = settings.untilDate.toLocaleDateString();\n            }\n        } else {\n            bookingType = 'single';\n            repeatUntil = ''\n        }\n\n        //WEEK SYSTEM\n        let weekSysWeeks = '';\n        for(const holiday of organisation.holidays) {\n            if(holiday.titleUUID == globalVars.weekUUID) {\n                weekSysWeeks = holiday.weeks;\n                break;\n            }\n        }\n\n        //DATES\n        let startDate = moment(globalVars.date, 'DD/MM/YYYY');\n\n        let finishDate;\n        if(bookingType == 'repeat') {\n            const fDates = moment(repeatUntil, 'DD/MM/YYYY');\n            finishDate = fDates.format('DD/MM/YYYY');\n        } else {\n            finishDate = '';\n        }\n\n        const data = {orgID: orgID,roomID: globalVars.roomID, user: settings.userID, departmentID: settings.departmentID, sessionDes: settings.sessDes, sessionTotal: sessions.length,\n                        sessions: sessions.toString(), comments: settings.comments, bookingType: bookingType, repeatType: repeatType, startDate: startDate.format('DD/MM/YYYY'), \n                        repeatUntil: finishDate, createdBy: user.uuid, dayList: globalVars.dayList, weekSystem: globalVars.weekSystem, weekSysWeeks: weekSysWeeks};\n        \n        Axios.post('/booking/createBooking', data)\n        .then(res => {\n            const data = res.data;\n            console.log(data);\n            if(data.error == 'null') {\n                if(data.userError == 'null') {\n                    history.push('/org/' + orgID);\n                } else {\n                    setModal(() => {\n                        return {heading: 'Booking', message: data.message, open: true}\n                    });\n                }\n\n            } else {\n                if(data.message == 'MSQL error') {\n                    setErrorMsg(() => {\n                        return{open: true}\n                    })\n                } else {\n                    setModal(() => {\n                        return {heading: 'Booking', message: data.message, open: true}\n                    });\n                }\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function BuildTimes(sTime, fTime, interval) {\n\n        const ti = [];\n        \n        const start = moment(sTime, \"HH:mm\");\n        const finish = moment(fTime, \"HH:mm\");\n\n        start.add(interval, 'm');\n\n        while(start.isSameOrBefore(finish)) {\n            ti.push(start.format(\"HH:mm\"));\n            start.add(interval, 'm');\n        }\n\n        setSettings(prevState => {\n            return {...prevState, sessions: ti}\n        });\n\n        console.log(ti);\n        \n    }\n\n    return (\n        <div className=\"body booking-content\">\n            <Container fluid className=\"p-3\">\n                <Jumbotron className=\"back-color\">\n                    <Row>\n                        <Col></Col>\n                        <Col xs={8}>\n                            <Row>\n                                    <Col className='booking-topInfo'><strong>Date: {globalVars.date}</strong></Col>\n                                    <Col className='booking-topInfo'><strong>Room: {globalVars.roomName}</strong></Col>\n                                    <Col className='booking-topInfo'><strong>Session: {globalVars.sessionLabel}</strong></Col>\n                            </Row>\n                            <hr />\n                            <Row>\n                                <Col>\n                                <Form.Group>\n                                    User: \n                                    {settings.showUserDropdown ? (<div>\n                                        <Dropdown>\n                                        <Dropdown.Toggle variant='primary' id='dropdown-users'>\n                                            {settings.user}\n                                        </Dropdown.Toggle>\n                                        <Dropdown.Menu className='dropdown-items'>\n                                            {settings.userList.map((user, index) => {\n                                                return <Dropdown.Item key={index} onClick={() => handleUsersDropdownItem(user.displayName, user.uuid)}>{user.displayName}</Dropdown.Item>\n                                            })}\n                                        </Dropdown.Menu>\n                                    </Dropdown>\n                                    </div>) : (<div>{settings.user}</div>)}\n                                    \n                                </Form.Group>\n                                <Form.Group>\n                                        Department:\n                                        <Dropdown>\n                                            <Dropdown.Toggle variant='primary' id='dropdown-departments'>\n                                                {settings.department}\n                                            </Dropdown.Toggle>\n                                            <Dropdown.Menu className='dropdown-items'>\n                                                {settings.departmentList.map((department, index) => {\n                                                    return <Dropdown.Item key={index} onClick={() => handleDepartmentsDropdownItem(department.name, department.uuid)}>{department.name}</Dropdown.Item>\n                                                })}\n                                            </Dropdown.Menu>\n                                        </Dropdown>\n                                </Form.Group>\n                                <Form.Group>\n                                    {settings.sessDesTitle}:\n                                    <Form.Control type='text' name='sessDes' onChange={handleTextBoxChange}/>\n                                </Form.Group>\n                                <Form.Group>\n                                    Comments:\n                                    <Form.Control as='textarea' rows='3' name='comments' onChange={handleTextBoxChange}>\n\n                                    </Form.Control>\n                                </Form.Group>\n                                </Col>\n                                <Col>\n                                        <Form.Group>\n                                        {settings.sessionLengthTitle}:\n                                        {settings.showSessionLength ? (<div>\n                                            <Dropdown>\n                                                <Dropdown.Toggle variant='primary' id='dropdown-sessionLength'>\n                                                    {settings.sessionLength}\n                                                </Dropdown.Toggle>\n                                                <Dropdown.Menu className='dropdown-items'>\n                                                {settings.sessions.map((session, index) => {\n                                                    return <Dropdown.Item key={index} onClick={handleSessionsDropdownItem}>{session}</Dropdown.Item>\n                                                })}\n                                                </Dropdown.Menu>\n                                            </Dropdown>\n                                        </div>) : \" \" + settings.sessionLength }\n                                        \n                                        </Form.Group>   \n                                    <Row>\n                                    {userProfile.room_Repeat ? (<div>\n                                        <Form.Group>\n                                            <Form.Check className=\"check-side-by-side-b\" type=\"checkbox\" label=\"Repeat\" onChange={handleRepeatCheckChanged} />\n                                        </Form.Group>\n                                    </div>) : null}\n                                        \n                                    </Row>\n                                    {settings.repeat ? (<div>\n                                        <Row>\n                                        <Form.Group>\n                                            <Form.Check className=\"check-side-by-side-b\" type=\"checkbox\" label=\"Daily\" checked={settings.daily} onChange={handleDailyCheckChanged} />\n                                            <Form.Check className=\"check-side-by-side\" type=\"checkbox\" label=\"Weekly\" checked={settings.weekly} onChange={handleWeeklyCheckChanged}/>\n                                            <Form.Check className=\"check-side-by-side\" type=\"checkbox\" label=\"End of Year (Weekly)\" checked={settings.endOfYear} onChange={handleEndOfYearCheckChanged} />\n                                        </Form.Group>\n                                    </Row>\n                                        <Row>\n                                        <Col></Col>\n                                        <Col>\n                                            <Form.Group>\n                                            Until:<br />\n                                            <DatePicker dateFormat='dd/MM/yyyy' selected={new Date(settings.untilDate)} onChange={handleDateChange}/>\n                                            </Form.Group>\n                                        </Col>\n                                    </Row>\n                                    </div>) : null}\n                                    \n                                    <div className='add-button'>\n                                        <Button variant='primary' onClick={handleBook}>Book</Button>\n                                    </div>\n                                </Col>\n                            </Row>\n                        </Col>\n                        <Col></Col>\n                    </Row>\n                </Jumbotron>\n            </Container>\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n            <Modal show={errorMsg.open} onHide={handleErrorMsgClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>Booking Error!</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                I am very sorry but you have run into an error.<br /><br />\n                Please inform the Senior Admin of your organisation's account on My-STAFF.co.uk <br /> <br />\n                <strong>Week System</strong><br /><br />\n                If you have the week system enabled, please make sure that all weeks are assigned to a title.<br /> <br />\n                </Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleErrorMsgClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n\n        </div>\n    )\n}\n\nexport default Book;","import { UpdateOrganisations } from '../store/actions/globalSettings/mainAdminGlobalSettings';\n\nexport function UpdateOrganisationsSettings(dispatch, organisations) {\n    dispatch(UpdateOrganisations(organisations));\n}","export const UpdateOrganisations = (val) => {\n    return {\n        type: 'MAIN_UPDATE_ORGANISATIONS',\n        value: val\n    };\n}","import React, {useState} from 'react';\nimport Card from \"react-bootstrap/Card\";\nimport { useDispatch } from 'react-redux'\nimport { Row, Col, Container, Dropdown, Modal, Button, Form} from 'react-bootstrap';\nimport Axios from 'axios';\nimport { UpdateOrganisationsSettings } from '../../../globalSettings/mainAdminSettings';\n\nfunction OrganisationItem(props) {\n\n    const dispatch = useDispatch();\n\n    const [modalYN, setModalYN] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        acceptFunction: '',\n        acceptName: '',\n        showAccept: false,\n        cancelName: '',\n        showCancel: false\n    });\n\n    function handleModalYNClose() {\n        setModalYN(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    const [roomModal, setRoomModal] = useState({\n        open: false,\n        orgName: '',\n        orgID: '',\n        allocatedRooms: 0,\n        redeemedRooms: 0,\n        newAllocation: 0,\n        inputNumber: 0,\n        updateBtn: false\n    });\n\n    function handleCloseRoomModal() {\n\n        setRoomModal(prevState =>{\n            return {...prevState, open: false}\n        })\n    }\n\n    function ChangeLoginMethod(name, email, orgID) {\n\n        const data = {email: email};\n\n        Axios.post('/organisation/getSALoginMethod', data)\n        .then(res => {\n            const method = res.data.method;\n            let newMethod;\n            if(method == 'local') {\n                newMethod = 'google'\n            } else if(method == 'google') {\n                newMethod = 'local'\n            }\n            const message = name + \"'s login method is \" + method + \". Are you sure you want to change it to a \" + newMethod + \" method?\";\n\n            setModalYN({heading: 'Change Login Method', message: message, acceptName: 'Yes', acceptFunction: () => {acceptToChangeMethods(email, newMethod, orgID)}, showAccept: true, cancelName: 'No', showCancel: true, open: true});    \n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function rooms(orgName, orgID, allocatedRooms, redeemedRooms) {\n        \n        setRoomModal(prevState => {\n            return {...prevState, open: true, orgName: orgName, orgID: orgID, allocatedRooms, redeemedRooms: redeemedRooms, inputNumber: '', newAllocation: ''}\n        })\n    }\n\n    function roomsTextChanged(event) {\n\n        const { value } = event.target;\n\n        setRoomModal(prevState => {\n            return {...prevState, inputNumber: value}\n        });\n    }\n\n    function roomButtonsOnClick(sum) {\n\n        if(roomModal.inputNumber == '') {\n            setModal({heading: 'Rooms', message: 'Please enter the number of rooms', open: true});\n        } else {\n            if(sum == 'plus') {\n                const total = roomModal.allocatedRooms + parseInt(roomModal.inputNumber);\n\n                let updateShow = false;\n                if(total != roomModal.allocatedRooms) {\n                    updateShow = true;\n                }\n\n                setRoomModal(prevState => {\n                    return {...prevState, newAllocation: total, inputNumber: '', updateBtn: updateShow}\n                });\n\n            } else if(sum == 'minus') {\n                const total = roomModal.allocatedRooms - parseInt(roomModal.inputNumber);\n\n                if(total < roomModal.redeemedRooms) {\n\n                    setModal({heading: 'Rooms', message: 'You cannot decrease the allocation lower than the redeemed rooms', open: true});\n\n                } else if(total < 1) {\n                    \n                    setModal({heading: 'Rooms', message: 'Invalid Data: You cannot have a minus number for the allocation of rooms', open: true});\n                } else {\n\n                    let updateShow = false;\n                    if(total != roomModal.allocatedRooms) {\n                        updateShow = true;\n                    }\n\n                    setRoomModal(prevState => {\n                        return {...prevState, newAllocation: total, inputNumber: '', updateBtn: updateShow}\n                    });\n\n                }\n            }\n        }\n    }\n\n    function updateRooms() {\n\n        const data = {orgID: roomModal.orgID, newAllocation: roomModal.newAllocation};\n        Axios.post('/organisation/updateAlocatedRooms', data)\n        .then(res => {\n            if(res.data.message == 'Updated room allocation') {\n\n                UpdateOrganisationsSettings(dispatch, res.data.organisations);\n                setRoomModal(prevState => {\n                    return {...prevState, open: false, updateBtn: false}\n                });\n                setModal({heading: 'Rooms', message: 'Updated room allocation!', open: true});\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function isNumberInput(event) {\n\n        var char = String.fromCharCode(event.which);\n\n        if(!(/[0-9]/.test(char))) {\n            event.preventDefault();\n        }\n    }\n\n    function acceptToChangeMethods(email, method, orgID) {\n\n        setModalYN({open: false});\n\n        const data = {email: email, method: method, orgID: orgID};\n        Axios.post('/organisation/changeASLoginMethod', data)\n        .then(res => {\n            if(res.data.message == 'Strategy Updated') {\n                setModal({heading: 'Change Login Method', message: \"This user's login method has now been changed\", open: true})\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div>\n            <Card body className='Organisations-ListBox'>\n            <Row>\n                <Col>\n                    <label>{props.name}</label>\n                </Col>\n                <Col>\n                    <label>{props.email}</label>\n                </Col>\n                <Col>\n                    <label>{props.poc}</label>\n                </Col>\n                <Col>\n                    <label>{props.orgID}</label>\n                </Col>\n                <Col>\n                <Dropdown>\n                        <Dropdown.Toggle variant='primary'>\n                            More\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            <Dropdown.Item onClick={() => {ChangeLoginMethod(props.poc, props.email, props.orgID)}}>Change Login Method</Dropdown.Item>\n                            <Dropdown.Item onClick={() => {rooms(props.name, props.orgID, props.allocatedRooms, props.redeemedRooms)}}>Rooms</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                </Col>\n            </Row>\n            </Card>\n            <Modal show={modal.open} onHide={handleModalClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modal.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modal.message}</Modal.Body>\n            <Modal.Footer>\n            <Button variant=\"primary\" onClick={handleModalClose}>\n                Close\n            </Button>\n            </Modal.Footer>\n            </Modal>\n            <Modal show={modalYN.open} onHide={handleModalYNClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalYN.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalYN.message}</Modal.Body>\n            <Modal.Footer>\n            {modalYN.showAccept ? (<div>\n                <Button variant=\"primary\" onClick={modalYN.acceptFunction}>\n                    {modalYN.acceptName}\n                </Button>\n            </div>) : null}\n            {modalYN.showCancel ? (<div>\n                <Button variant=\"primary\" onClick={handleModalYNClose}>\n                    {modalYN.cancelName}\n                </Button>\n            </div>) : null}\n            </Modal.Footer>\n        </Modal>\n        <Modal show={roomModal.open} onHide={handleCloseRoomModal} centered>\n            <Modal.Header closeButton>\n                <Modal.Title>Rooms</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Container>\n                    <Row>\n                        Update the Allocated Rooms in {roomModal.orgName}\n                    </Row>\n                    <br />\n                    <Row>\n                        <Col>\n                            Allocated Rooms: {roomModal.allocatedRooms} <br />\n                            Redeemed Rooms: {roomModal.redeemedRooms}\n                            <br /><br />\n                            New Allocation: {roomModal.newAllocation}\n                        </Col>\n                        <Col>\n                            <strong>Edit Rooms:</strong>\n                            <Form.Control onKeyPress={isNumberInput} onChange={roomsTextChanged} value={roomModal.inputNumber} />\n                            <Button onClick={() => {roomButtonsOnClick('plus')}}>+</Button>\n                            <Button onClick={() => {roomButtonsOnClick('minus')}}>-</Button>\n                        </Col>\n                    </Row>\n                </Container>\n            </Modal.Body>\n            <Modal.Footer>\n            {roomModal.updateBtn ? (<Button variant='primary' onClick={updateRooms}>Update</Button>) : null}\n                <Button variant='primary' onClick={handleCloseRoomModal}>Close</Button>\n            </Modal.Footer>\n        </Modal>\n        </div>\n    )\n}\n\nexport default OrganisationItem;","import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector} from 'react-redux'\nimport { useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport OrganisationItem from './organisationItem';\nimport { UpdateOrganisationsSettings } from '../../../globalSettings/mainAdminSettings';\n\n//Styles\nimport Button  from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\nimport { Row, Col} from 'react-bootstrap';\n\nfunction OrganisationList() {\n\n    const MainAdminGlobalSettings = useSelector(state => state.MainAdminGlobalSettings);\n    const history = useHistory();\n    const dispatch = useDispatch();\n    const [loaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        onOpen();\n    }, []);\n    \n    function onOpen() {\n\n        Axios.get('/organisation/all')\n        .then(res => {\n            \n            UpdateOrganisationsSettings(dispatch, res.data);\n            setLoaded(true);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n   return (\n        <div>\n            <div className=\"AH-AddOrganisationBtn\">\n                <Button variant=\"warning\" onClick={() => history.push(\"/administrator/organisationRegister\")}>Add Organisation</Button>\n            </div>\n            <br />\n            {loaded ? (\n                <div><Card body className='Organisations-ListTitles'>\n            <Row>\n                <Col>\n                    <label>Name</label>\n                </Col>\n                <Col>\n                    <label>Email</label>\n                </Col>\n                <Col>\n                    <label>Point of Contact</label>\n                </Col>\n                <Col>\n                    <label>Org ID</label>\n                </Col>\n                <Col>\n                    \n                </Col>\n            </Row>\n            </Card>\n            <br />\n            {MainAdminGlobalSettings.organisations.map((organisation, index) => {\n               return (\n                   <div key={index}>\n                        <OrganisationItem name={organisation.name} email={organisation.POC_Email} poc={organisation.POC_Name} orgID={organisation.orgID} allocatedRooms={organisation.allocatedRooms} redeemedRooms={organisation.redeemedRooms} />\n                        <br />\n                    </div>)\n            })}\n            </div>) : (<div></div>)}\n            \n        \n        </div>\n   )\n}\n\nexport default OrganisationList;","import React, { useEffect} from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\n//Styles\nimport Button  from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Form from \"react-bootstrap/Form\";\n\n//COMPONENTS\nimport OrganisationList from '../../components/pages/administrator/organisationList';\n\nfunction Home() {\n\n  const history = useHistory();\n    const user = useSelector(state => state.user);\n    console.log('viewed...');\n    if(!user.auth || user.role != \"superAdmin\") {\n            history.push('/administrator/signIn');\n    }\n\n  useEffect(() => {\n    document.title = \"STAFF - Administrator\";\n  },[]);\n\n  return (\n    <div className=\"body\">\n      <Container fluid className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n              <OrganisationList />\n            </Jumbotron>\n        </Container>\n    </div>\n  );\n}\n\nexport default Home;","import React, { useState, useEffect } from 'react';\nimport ServerPath, { hostPath } from \"../../ServerPath\";\nimport {useSelector} from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\n//Styles\nimport Button  from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Form from \"react-bootstrap/Form\";\n\nfunction SignIn() {\n\n    const [granted, setGranted] = useState(true);\n    const user = useSelector(state => state.user);\n    const history = useHistory();\n\n    useEffect(() => {\n        ServerPath();\n        onOpen();\n    },[])\n\n    function onOpen() {\n        if(user.auth) {\n            if(user.role == \"superAdmin\") {\n                history.push('/');\n            } else {\n                setGranted(false);\n            }\n        }\n    }\n\n    return (\n        <div className=\"body\">\n            <Container className=\"p-3\">\n                <Jumbotron className=\"back-color\">\n                    <h1>Administrator Sign In</h1>\n                    {!granted ? (\n                    <div>\n                    <h1>Access Denied</h1>\n                    <Button variant=\"warning\" href='/'>Back to Home </Button><br /><br />\n                    </div>\n                    ):(\n                    <div>\n                    <br />\n                    <Button variant=\"dark\" href={hostPath + \"/auth/github\"}><i className=\"fab fa-github\"></i>  Log in with Github</Button><br /><br />\n                    </div> \n                    \n                    )}\n                </Jumbotron>\n            </Container>\n        </div>\n    )\n}\n\nexport default SignIn;","import React, { useEffect, useState} from 'react';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Form from \"react-bootstrap/Form\"\n\n//COMPONENTS\nimport OrganisationList from '../../components/pages/administrator/organisationList';\nimport { Col } from 'react-bootstrap';\n\nfunction OrganisationRegister() {\n\n  const [message, setMessage] = useState('');\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = \"STAFF - Administrator\";\n  },[]);\n\n  function handleClick(event) {\n    event.preventDefault();\n\n    const orgName = document.getElementById(\"txtOrgName\").value;\n    const allocatRooms = document.getElementById(\"txtAlRooms\").value;\n    const authLocal = document.getElementById(\"ckbLocal\").checked;\n    const authGoogle = document.getElementById(\"ckbGoggle\").checked;\n    const pName = document.getElementById(\"txtName\").value;\n    const pEmail = document.getElementById(\"txtEmail\").value;\n\n\n    const data = {orgName: orgName, orgRooms: allocatRooms, authLocal: authLocal.toString(), authGoogle: authGoogle.toString(), pName: pName, pEmail: pEmail};\n    Axios.post('/administrator/addOrganisation', data)\n    .then(res => {\n      const data = res.data;\n\n      if(data.error != \"null\") {\n        console.log(data.message);\n      } else if(data.userError == \"Yes\") {\n          setMessage(data.message);\n      } else if (data.message == \"Successfully added\") {\n        history.push(\"/administrator\");\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    })\n\n  }\n\n  function isNumberInput(event) {\n\n    var char = String.fromCharCode(event.which);\n\n    if(!(/[0-9]/.test(char))) {\n        event.preventDefault();\n    }\n  }\n\n  return (\n    <div className=\"body\">\n      <Container className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n                <h1>Organisation Register</h1>\n\n                <Form className=\"A-AddOrganisationText\">\n                <Form.Row>\n                <Form.Group as={Col}>\n                  <Form.Label id=\"lblOrgName\">Organisation Name:</Form.Label><br />\n                  <Form.Control id=\"txtOrgName\" type=\"text\" required></Form.Control>\n                </Form.Group>\n                <Form.Group as={Col}>\n                  <Form.Label id=\"lblAlRooms\">Allocated Rooms:</Form.Label><br />\n                  <Form.Control id=\"txtAlRooms\" type=\"text\" onKeyPress={isNumberInput} required></Form.Control>\n                </Form.Group>\n                  </Form.Row>\n                  <Form.Label id=\"lblAuthTypes\">Types of Authencation:</Form.Label><br />\n                  <Form.Row>\n                <Form.Group as={Col}>\n                  <Form.Check id=\"ckbLocal\" type=\"checkbox\" label=\"Local Login\" />\n                </Form.Group>\n                <Form.Group as={Col}>\n                  <Form.Check id=\"ckbGoggle\" type=\"checkbox\" label=\"Google Login\" />\n                </Form.Group>\n                  </Form.Row>\n                  <Form.Label className=\"A-AddOrganisationTextColor\" id=\"lblPOC\">Point of Contact (Senior Admin):</Form.Label><br />\n                  <Form.Row>\n                <Form.Group as={Col}>\n                  <Form.Label id=\"lblName\">Name:</Form.Label><br />\n                  <Form.Control id=\"txtName\" type=\"text\" required />\n                </Form.Group>\n                <Form.Group as={Col}>\n                  <Form.Label id=\"lblEmail\">Email:</Form.Label><br />\n                  <Form.Control id=\"txtEmail\" type=\"text\" required></Form.Control>\n                </Form.Group>\n                  </Form.Row>\n                  <p>{message}</p>\n                  <Button type=\"submit\" onClick={handleClick} variant=\"warning\">Register</Button>\n                </Form>\n            </Jumbotron>\n        </Container>\n    </div>\n  );\n}\n\nexport default OrganisationRegister;","import React, {useEffect} from 'react';\nimport { useSelector } from 'react-redux';\nimport {Button, Container, Jumbotron} from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\n\n\nfunction OrganisationNotFound() {\n\n    const history = useHistory();\n    const HomePageGlobalSettings = useSelector(state => state.HomePageGlobalSettings);\n\n    function home() {\n        history.push('/');\n    }\n\n    useEffect(() => {\n        document.title = 'STAFF'\n    }, []);\n\n    return (\n        <div className='body'>\n            <Container fluid className='p-3'>\n                <Jumbotron className='back-color'>\n                    <h3>Organisation Not Found</h3>  <br /> <br />\n                    <div className='home-contact-sent'>\n                        <strong>Don't know the organisation's number?</strong><br />\n                        Locate the Senior admin of your organisation or find your registration email to locate the direct URL <br /> <br />\n                    </div>\n                    <Button variant='primary' onClick={home}>Home</Button>\n                    {HomePageGlobalSettings.dataError ? (<div>\n                        <br />(data error)\n                    </div>) : null}\n                </Jumbotron>\n            </Container>\n        </div>\n    );\n}\n\nexport default OrganisationNotFound;","import React, {useState, useEffect} from 'react';\nimport Axios from 'axios';\nimport {useDispatch} from 'react-redux';\nimport {userUpdateAuth, userUpdateName, userUpdateRole, userUpdateNew, userUpdateRequestedPassword, userUpdateOrgID, userUpdateUserDepartments, userUpdateSARequest, userUpdateUUID, userUpdateProfiles} from './store/actions/user'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport 'bootstrap-css-only/css/bootstrap.min.css';\nimport 'mdbreact/dist/css/mdb.css';\n\nimport \"./public/styles.css\";\nimport \"./public/organisationAdmin.css\";\nimport './public/organisationHome.css';\nimport './public/home.css';\n\nimport BetaBanner from \"./components/NavBar/betaBanner\";\nimport Nav from \"./components/NavBar/Nav\";\n\nimport Home from \"./pages/home\";\n\nimport NotConnected from \"./pages/notConnected\";\nimport WrongLogin from \"./pages/wrongLogin\";\nimport OrganisationRouter from './pages/organisationRouter';\nimport Book from './pages/book';\n\nimport AdminHome from \"./pages/administrator/home\";\nimport AdminSignIn from \"./pages/administrator/signIn\";\nimport AdminOrgRegister from \"./pages/administrator/registerOrganisation\";\n\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\nimport OrganisationNotFound from './pages/organisationNotFound';\n\nfunction App() {\n\n  const dispatch = useDispatch();\n  const [isLoaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    onOpen();\n  },[]);\n\n  //another useEffect with the force sign in const\n\n  function onOpen() {\n    Axios.get(\"/auth\", {withCredentials: true })\n  .then(res => {\n      console.log(res.data);//-------------\n      const isAuth = res.data.auth;\n      dispatch(userUpdateAuth(isAuth));\n      if(isAuth) {\n        if(res.data.role == \"superAdmin\") {\n          dispatch(userUpdateName(\"High-ViewStudios\"));\n          dispatch(userUpdateRole(\"superAdmin\"));\n        } else {\n          dispatch(userUpdateUUID(res.data.user.uuid));\n          dispatch(userUpdateName(res.data.user.displayName));\n          dispatch(userUpdateRole(res.data.user.role));\n          dispatch(userUpdateNew(res.data.user.new));\n          dispatch(userUpdateRequestedPassword(res.data.user.requestedPassword));\n          dispatch(userUpdateOrgID(res.data.user.orgID));\n          dispatch(userUpdateUserDepartments(res.data.user.departments));\n          dispatch(userUpdateSARequest(res.data.user.SARequest));\n          dispatch(userUpdateProfiles(res.data.user.userProfiles));\n\n          //get organisation\n        }\n      }\n      setLoaded(true);\n  })\n  .catch(err => {\n      console.log(\"Authe\" +err);\n  })\n  }\n\n  return (\n    <div>\n    {isLoaded ? (   \n    <Router>\n      <div className=\"App\" >\n      <BetaBanner />\n        <Nav />\n        <Switch>\n        {/* MAIN WEBSITE HOME */}\n          <Route path=\"/\" exact component={Home} /> {/* DO NOT TOUCH */}\n        {/* ADMINISTRATION */}\n        <Route path=\"/administrator\" exact component={AdminHome} /> {/* DO NOT TOUCH */}\n        <Route path=\"/administrator/signIn\" component={AdminSignIn} /> {/* DO NOT TOUCH */}\n        <Route path=\"/administrator/organisationRegister\" component={AdminOrgRegister} />\n\n        {/* ORGANISATION/USER */}\n              <Route path=\"/org/:id\" exact component={OrganisationRouter} />\n              <Route path=\"/org/:id/collisionBookings\" component={OrganisationRouter} />\n              <Route path=\"/org/:id/organisationAdmin\" component={OrganisationRouter} />\n              <Route path=\"/org/:id/signIn\" component={OrganisationRouter} />    \n              <Route path=\"/org/:id/forgotPassword\" component={OrganisationRouter} />\n              <Route path=\"/org/:id/changePassword\" component={OrganisationRouter} />\n              <Route path=\"/org/:id/changeOfSeniorRequest\" component={OrganisationRouter} /> \n              <Route path=\"/org/:id/createPassword\" component={OrganisationRouter} />\n              <Route path='/org/:id/wrongOrganisation' component={OrganisationRouter} />\n              <Route path=\"/org/:id/userDetails\" component={OrganisationRouter} />\n              <Route path=\"/org/:id/profileSettings\" component={OrganisationRouter} />\n\n              <Route path=\"/organisationNotFound\" component={OrganisationNotFound} />\n\n              {/* not moving this until later versions */}\n              <Route path='/org/:id/book' component={Book} />\n\n        {/* coming direct from passport */}\n        <Route path=\"/org/:id/wrongLogin/\" component={WrongLogin} />\n\n        <Route path=\"/notConnected\" component={NotConnected} />        \n\n        </Switch>\n      </div>\n    </Router>) : <div></div>}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const userDetails = (state = {auth: false, uuid: '', name: '', email: '', role:'', new:'', requestedPassword: false, orgID: '', userDepartments: '', SARequest: '', profiles: ''}, action) => {\n    switch(action.type){\n        case 'USER_UPDATE_AUTH':\n            return {...state, auth: action.value};\n        case 'USER_UPDATE_UUID':\n            return {...state, uuid: action.value};\n        case 'USER_UPDATE_NAME':\n            return {...state, name: action.value};\n        case 'USER_UPDATE_EMAIL':\n            return {...state, email: action.value};\n        case 'USER_UPDATE_ROLE':\n            return {...state, role: action.value};\n        case 'USER_UPDATE_NEW':\n            return {...state, new: action.value};\n        case 'USER_UPDATE_REQUESTEDPASSWORD':\n            return {...state, requestedPassword: action.value}\n        case 'USER_UPDATE_ORGID':\n            return {...state, orgID: action.value}\n        case 'USER_UPDATE_USERDEPARTMENTS':\n            return {...state, userDepartments: action.value}\n        case 'USER_UPDATE_SAREQUEST':\n            return {...state, SARequest: action.value}\n        case 'USER_UPDATE_PROFILES':\n            return {...state, profiles: action.value}\n        default:\n            return state;\n    }\n}\n\nexport default userDetails;","const organisationDetails = (state = {name: '', signInLocal: false, signInGoogle: false, message: '', useDepartments: false, noOfDepartments: '', departments: [], allocatedRooms: 0, \n                                    redeemedRooms: 0, rooms:[], layouts: [], holidays: [], locked: false}, action) => {\n    switch(action.type){\n        case 'ORG_UPDATE_NAME':\n            return {...state, name: action.value};\n        case 'ORG_UPDATE_SIGNIN_LOCAL':\n            return {...state, signInLocal: action.value};\n        case 'ORG_UPDATE_SIGNIN_GOOGLE':\n            return {...state, signInGoogle: action.value};\n        case 'ORG_UPDATE_MESSAGE':\n            return {...state, message: action.value};\n        case 'ORG_UPDATE_USEDEPARTMENTS':\n            return {...state, useDepartments: action.value};\n        case 'ORG_UPDATE_NOOFDEPARTMENTS':\n            return {...state, noOfDepartments: action.value};\n        case 'ORG_UPDATE_DEPARTMENTS':\n            return {...state, departments: action.value};\n         case 'ORG_UPDATE_ALLOCATEDROOMS':\n            return {...state, allocatedRooms: action.value};\n         case 'ORG_UPDATE_REDEEMEDROOMS':\n            return {...state, redeemedRooms: action.value};\n        case 'ORG_UPDATE_ROOMS':\n            return {...state, rooms: action.value};\n        case 'ORG_UPDATE_LAYOUTS':\n            return {...state, layouts: action.value};\n        case 'ORG_UPDATE_HOLIDAYS':\n            return {...state, holidays: action.value};\n        case 'ORG_UPDATE_LOCKED':\n            return {...state, locked: action.value};\n        default:\n            return state\n    }\n}\n\nexport default organisationDetails;","const globalVars = (state = {roomName: '', roomID: '', sessionID: '', sessionLabel: '', date: '', weekBeginDate: '', totalSessions: 0, dayList: [], layoutData: {}, weekSystem: false,\n                            weekUUID: '', collideBookingsUpdate: false, startTime: '', finishTime: '', timeInterval: '', forceSignIn: false, fromSignIn: false}, action) => {\n    switch(action.type){\n        case 'UPDATE_ROOM_NAME':\n            return {...state, roomName: action.value};\n        case 'UPDATE_ROOM_ID':\n            return {...state, roomID: action.value};\n        case 'UPDATE_ROOM_LAYOUT_DATA':\n            return {...state, layoutData: action.value};\n        case 'UPDATE_ROOM_SESSION_ID':\n            return {...state, sessionID: action.value};\n        case 'UPDATE_ROOM_SESSION_LABEL':\n            return {...state, sessionLabel: action.value};\n        case 'UPDATE_ROOM_DATE':\n            return {...state, date: action.value};\n        case 'UPDATE_ROOM_WEEK_BEGIN':\n            return {...state, weekBeginDate: action.value};\n        case 'UPDATE_ROOM_TOTAL_SESSIONS':\n            return {...state, totalSessions: action.value};\n        case 'UPDATE_ROOM_DAY_LIST':\n            return {...state, dayList: action.value};\n        case 'UPDATE_ROOM_WEEK_SYSTEM':\n            return {...state, weekSystem: action.value};\n        case 'UPDATE_ROOM_WEEK_UUID':\n            return {...state, weekUUID: action.value};\n        case 'UPDATE_FORCE_COLLIDED_BOOKINGS':\n            return {...state, collideBookingsUpdate: action.value};\n        case 'UPDATE_DIARY_START_TIME':\n            return {...state, startTime: action.value};\n        case 'UPDATE_DIARY_FINISH_TIME':\n            return {...state, finishTime: action.value};\n        case 'UPDATE_DIARY_TIME_INTERVAL':\n            return {...state, timeInterval: action.value};\n        case 'UPDATE_FORCE_SIGNIN':\n            return {...state, forceSignIn: action.value};\n        case 'UPDATE_FROM_SIGNIN':\n            return {...state, fromSignIn: action.value};\n        default:\n            return state;\n    }\n}\n\nexport default globalVars;","const bookings = (state = {editBooking: false, bookingID: 0, user: '', department: '', sessionDes: '', sessionLength: '', bookingType: '', bookingUntil: '',  comments: '', createdBy: ''}, action) => {\n\n    switch(action.type){\n        case 'UPDATE_EDIT_BOOKING':\n            return {...state, editBooking: action.value};\n        case 'UPDATE_BOOKING_ID':\n            return {...state, bookingID: action.value};\n        case 'UPDATE_BOOKING_USER':\n            return {...state, user: action.value};\n        case 'UPDATE_BOOKING_DEPARTMENT':\n            return {...state, department: action.value};\n        case 'UPDATE_BOOKING_SESSIONDES':\n            return {...state, sessionDes: action.value};\n        case 'UPDATE_BOOKING_SESSIONLENGTH':\n            return {...state, sessionLength: action.value};\n        case 'UPDATE_BOOKING_BOOKINGTYPE':\n            return {...state, bookingType: action.value};\n        case 'UPDATE_BOOKING_BOOKINGUNTIL':\n            return {...state, bookingUntil: action.value};\n        case 'UPDATE_BOOKING_COMMENTS':\n            return {...state, comments: action.value};\n        case 'UPDATE_BOOKING_CREATEDBY':\n            return {...state, createdBy: action.value};\n        default:\n            return state;\n    }\n}\n\nexport default bookings;","const userProfile = (state = {default: false, rooms: [], room_View: false, room_Write: false, room_Edit: false, room_Delete: false, room_Repeat: false,\n                                viewAllUsers: false, viewAllDepartments: false, \n                                orgAdminAccess: false, admin_loginSettings: false, admin_departments: false, admin_users: false, admin_rooms: false, admin_layouts: false, admin_weekSystemHolidays: false, admin_userProfiles: false}, action) => {\n\n    switch(action.type) {\n        case 'UPUPDATE_DEFAULT':\n            return {...state, default: action.value}\n        case 'UPUPDATE_ROOMS':\n            return {...state, rooms: action.value}\n        case 'UPUPDATE_ROOM_VIEW':\n            return {...state, room_View: action.value}\n        case 'UPUPDATE_ROOM_WRITE':\n            return {...state, room_Write: action.value}\n        case 'UPUPDATE_ROOM_EDIT':\n            return {...state, room_Edit: action.value}\n        case 'UPUPDATE_ROOM_DELETE':\n            return {...state, room_Delete: action.value}\n        case 'UPUPDATE_ROOM_REPEAT':\n            return {...state, room_Repeat: action.value}\n        case 'UPUPDATE_VIEWALLUSERS':\n            return {...state, viewAllUsers: action.value}\n        case 'UPUPDATE_VIEWALLDEPARTMENTS':\n            return {...state, viewAllDepartments: action.value}\n        case 'UPUPDATE_ORGADMINACCESS':\n            return {...state, orgAdminAccess: action.value}\n        case 'UPUPDATE_ADMIN_LOGINSETTINGS':\n            return {...state, admin_loginSettings: action.value}\n        case 'UPUPDATE_ADMIN_DEPARTMENTS':\n            return {...state, admin_departments: action.value}\n        case 'UPUPDATE_ADMIN_USERS':\n            return {...state, admin_users: action.value}\n        case 'UPUPDATE_ADMIN_ROOMS':\n            return {...state, admin_rooms: action.value}\n        case 'UPUPDATE_ADMIN_LAYOUTS':\n            return {...state, admin_layouta: action.value}\n        case 'UPUPDATE_ADMIN_WEEKSYSTEMHOLIDAYS':\n            return {...state, admin_weekSystemHolidays: action.value}\n        case 'UPUPDATE_ADMIN_USERPROFILES':\n            return {...state, admin_userProfiles: action.value}\n        default:\n            return state;\n    }\n}\n\nexport default userProfile;","const HomePageGlobalSettings = (state = {tab: 'home', formSent: false, dataError: false}, action) => {\n\n    switch(action.type){\n        case 'UPDATE_TAB':\n            return {...state, tab: action.value};\n        case 'UPDATE_FORMSENT':\n            return {... state, formSent: action.value}\n        case 'UPDATE_DATAERROR':\n            return {...state, dataError: action.value}\n        default:\n            return state;\n    }\n}\n\nexport default HomePageGlobalSettings;","const AdminLayoutsGlobalSettings = (state = {sessions: {}, order: [], breakBtns: {view: false, breakID: ''}}, action) => {\n\n    switch(action.type) {\n        case 'UPDATE_SESSIONS':\n            return {...state, sessions: action.value};\n        case 'UPDATE_ORDER':\n            return {...state, order: action.value};\n        case 'UPDATE_BREAKBTNS':\n            return {...state, breakBtns: action.value};\n        default:\n            return state;\n    }\n}\n\nexport default AdminLayoutsGlobalSettings;","const UserProfileAdminGlobalSettings = (state = {settings: {viewAllUsers: false, viewAllDepartments: false, orgAdminAccess: false, admin_loginSettings: false, admin_departments: false, admin_users: false,\n                                                admin_rooms: false, admin_layouts: false, admin_weekSystemHolidays: false, admin_userProfiles: false}}, action) => {\n\n        switch(action.type) {\n            case 'MODIFY_SETTINGS':\n                return {...state, settings: action.value};\n            default:\n                return state;\n        }\n    }\n\n    export default UserProfileAdminGlobalSettings;","const AdminProfileGlobalSettings = (state = {uuid: '', name: ''}, action) => {\n\n    switch(action.type) {\n        case 'UPDATE_ADMINP_UUID':\n            return {...state, uuid: action.value};\n        case 'UPDATE_ADMINP_NAME':\n            return {...state, name: action.value};\n        default:\n            return state;\n    }\n}\n\nexport default AdminProfileGlobalSettings;","const AdminUserGlobalSettings = (state = {uuid: 0, fromDetails: false}, action) => {\n\n    switch(action.type) {\n        case 'UPDATE_ADMINU_UUID':\n            return {...state, uuid: action.value};\n        case 'UPDATE_ADMINU_FROMDETAILS':\n            return {...state, fromDetails: action.value};\n        default:\n            return state;\n    }\n}\n\nexport default AdminUserGlobalSettings;","const MainAdminGlobalSettings = (state = {organisations: []}, action) => {\n\n    switch(action.type){\n        case 'MAIN_UPDATE_ORGANISATIONS':\n            return {...state, organisations: action.value};\n        default: \n            return state;\n    }\n}\n\nexport default MainAdminGlobalSettings;","import userDetails from './userDetails';\nimport organisationDetails from './organisationDetails';\nimport globalVars from './globalVars';\nimport bookings from './bookings';\nimport userProfile from './userProfile';\n\nimport HomePageGlobalSettings from './globalSettings/homePageGlobalSettings';\nimport AdminLayoutsGlobalSettings from './globalSettings/adminLayoutsGlobalSettings';\nimport UserProfileAdminGlobalSettings from './globalSettings/userProfileAdminGlobalSettings';\nimport AdminProfileGlobalSettings from './globalSettings/adminProfileGlobalSettings';\nimport AdminUserGlobalSettings from './globalSettings/adminUserGlobalSettings';\nimport MainAdminGlobalSettings from './globalSettings/mainAdminGlobalSettings';\n\nimport {combineReducers} from 'redux'\n\nconst rootReducer = combineReducers({\n    user: userDetails,\n    organisation: organisationDetails,\n    globalVars: globalVars,\n    bookings: bookings,\n    userProfile: userProfile,\n\n    //SETTINGS\n    HomePageGlobalSettings: HomePageGlobalSettings,\n    AdminLayoutsGlobalSettings: AdminLayoutsGlobalSettings,\n    UserProfileAdminGlobalSettings: UserProfileAdminGlobalSettings,\n    AdminProfileGlobalSettings: AdminProfileGlobalSettings,\n    AdminUserGlobalSettings: AdminUserGlobalSettings,\n    MainAdminGlobalSettings: MainAdminGlobalSettings\n});\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore } from 'redux';\nimport rootReducer from './store/reducers';\nimport { Provider } from 'react-redux'\n\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nReactDOM.render(\n  <Provider store={store}>\n  {/* <React.StrictMode> */}\n    <App />\n  {/* </React.StrictMode> */}\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}