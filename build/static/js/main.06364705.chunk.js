(this.webpackJsonpstaff=this.webpackJsonpstaff||[]).push([[0],{40:function(e,t,a){e.exports=a(72)},45:function(e,t,a){},70:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),c=a.n(r),u=(a(45),a(13)),i=a(17),o=a.n(i),s=a(4),m=function(e){return{type:"USER_UPDATE_AUTH",value:e}},E=function(e){return{type:"USER_UPDATE_NAME",value:e}},d=function(e){return{type:"USER_UPDATE_ROLE",value:e}},b=(a(67),a(68),a(69),a(70),a(74)),f=a(75),g="";var h=function(){var e=window.location.hostname,t=window.location.protocol;g="localhost"===e?t+"//"+e+":8080":t+"//"+e},p=a(3),v=a(5);var O=function(){var e=Object(p.f)(),t=Object(s.c)((function(e){return e.user})),a=Object(s.b)(),r=Object(n.useState)({name:"",show:!1}),c=Object(u.a)(r,2),i=c[0],b=c[1];return Object(n.useEffect)((function(){h()}),[]),Object(n.useEffect)((function(){console.log(t),t.auth?"superAdmin"==t.role?b({name:"High-View Studios",show:!0}):b({name:t.name,show:!0}):b({name:"",show:!1})}),[t]),l.a.createElement("div",null,i.show?l.a.createElement("div",null,l.a.createElement("strong",null,"User: ",i.name),l.a.createElement("br",null),l.a.createElement(v.a,{variant:"warning",onClick:function(){o.a.get("/logout").then((function(t){console.log(t.data.message),"User logged out"===t.data.message&&(a(m(!1)),a(E("")),a(d("")),e.push("/signin"))})).catch((function(e){console.log(e)}))}},"Log Out")):l.a.createElement("div",null))};var w=function(){return l.a.createElement("nav",null,l.a.createElement(b.a,null,l.a.createElement(f.a,null),l.a.createElement(f.a,null,l.a.createElement("h1",null,l.a.createElement("strong",null,"My STAFF")),l.a.createElement("h2",null,l.a.createElement("strong",null,"Space, Times, Flexible, Facilities"))),l.a.createElement(f.a,null,l.a.createElement("div",{className:"user-nav"},l.a.createElement(O,null)))))},j=a(6),N=a(7);var y=function(){var e=Object(s.c)((function(e){return e.user})),t=Object(p.f)();return Object(n.useEffect)((function(){document.title="STAFF",0==e.auth?t.push("/signin"):"superAdmin"==e.role&&t.push("/administrator")}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(j.a,{fluid:!0,className:"p-3"},l.a.createElement(N.a,{className:"back-color"},l.a.createElement("h1",null,"Home"))))};var A=function(){var e=Object(s.c)((function(e){return e.user})),t=Object(p.f)(),a=Object(s.b)(),r=Object(n.useState)(""),c=Object(u.a)(r,2),i=c[0],b=c[1];return Object(n.useEffect)((function(){document.title="STAFF - Sign In",h(),e.auth&&t.push("/")}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(j.a,{className:"p-3"},l.a.createElement(N.a,{className:"back-color"},l.a.createElement("h3",null,"Please Sign In!"),l.a.createElement("form",null,l.a.createElement("label",{id:"lblEmail"},"Email:"),l.a.createElement("br",null),l.a.createElement("input",{id:"txtEmail",type:"email"}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"lblPassword"},"Password:"),l.a.createElement("br",null),l.a.createElement("input",{id:"txtPassword",type:"password"}),l.a.createElement("p",null,i)),l.a.createElement("br",null),l.a.createElement(v.a,{variant:"warning",onClick:function(e){e.preventDefault();var n=document.getElementById("txtEmail").value,l=document.getElementById("txtPassword").value;o.a.get("/login?email="+n+"&password="+l).then((function(e){"Logged in successful"===e.data.message?(a(m(!0)),a(E(e.data.displayName)),a(d(e.data.role)),t.push("/")):b(e.data.info)})).catch((function(e){console.log(e)}))}},"Log in"),l.a.createElement(v.a,{variant:"warning",onClick:function(){t.push("/register")}},"Register"),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement(v.a,{variant:"danger",href:g+"/auth/google"},l.a.createElement("i",{className:"fab fa-google"})," Log in with Google"))))};var S=function(){var e=Object(p.f)(),t=Object(s.c)((function(e){return e.user})),a=Object(n.useState)(""),r=Object(u.a)(a,2),c=r[0],i=r[1],m=Object(n.useState)(!1),E=Object(u.a)(m,2),d=E[0],b=E[1];return Object(n.useEffect)((function(){document.title="STAFF - Register",t.auth&&e.push("/")}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(j.a,{className:"p-3"},l.a.createElement(N.a,{className:"back-color"},l.a.createElement("div",{className:"header"},l.a.createElement("h2",null,"Register"),d?l.a.createElement("div",null,l.a.createElement("h3",null," You have successfully been registered"),l.a.createElement("br",null),l.a.createElement("p",null,"Please log in"),l.a.createElement(v.a,{type:"submit",onClick:function(){b(!1),e.push("/signin")},variant:"warning"},"Login")):l.a.createElement("form",null,l.a.createElement("label",{id:"lblName"},"Name:"),l.a.createElement("br",null),l.a.createElement("input",{id:"name",size:"sm",type:"text",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"lblEmail"},"Email:"),l.a.createElement("br",null),l.a.createElement("input",{id:"email",size:"sm",type:"email",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"lblPassword"},"Password:"),l.a.createElement("br",null),l.a.createElement("input",{id:"password",size:"sm",type:"password",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("label",{id:"lblConPassword"},"Confirm Password:"),l.a.createElement("br",null),l.a.createElement("input",{id:"confirmpassword",size:"sm",type:"password",required:!0}),l.a.createElement("br",null),l.a.createElement("br",null),l.a.createElement("p",null,c),l.a.createElement(v.a,{type:"submit",onClick:function(e){e.preventDefault(),i("");var t="/register/"+document.getElementById("name").value+"/"+document.getElementById("email").value+"/"+document.getElementById("password").value+"/"+document.getElementById("confirmpassword").value;o.a.get(t).then((function(e){"User registered successfully"===e.data.message?b(!0):"Yes"===e.data.userError&&i(e.data.message)})).catch((function(e){console.log(e)}))},variant:"warning"},"Register"))))))};var _=function(){var e=Object(p.f)(),t=Object(s.c)((function(e){return e.user}));return t.auth&&"superAdmin"==t.role||e.push("/administrator/signin"),Object(n.useEffect)((function(){document.title="STAFF - Administrator"}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(j.a,{fluid:!0,className:"p-3"},l.a.createElement(N.a,{className:"back-color"},l.a.createElement("h1",null,"Administrator Home"))))};var U=function(){var e=Object(n.useState)(!0),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(s.c)((function(e){return e.user})),i=Object(p.f)();return Object(n.useEffect)((function(){h(),c.auth&&("superAdmin"==c.role?i.push("/"):r(!1))}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(j.a,{className:"p-3"},l.a.createElement(N.a,{className:"back-color"},l.a.createElement("h1",null,"Administrator Sign In"),a?l.a.createElement("div",null,l.a.createElement("br",null),l.a.createElement(v.a,{variant:"dark",href:g+"/auth/github"},l.a.createElement("i",{class:"fab fa-github"}),"  Log in with Github"),l.a.createElement("br",null),l.a.createElement("br",null)):l.a.createElement("div",null,l.a.createElement("h1",null,"Access Denied")))))};var T=function(){return Object(n.useEffect)((function(){document.title="STAFF - Administrator"}),[]),l.a.createElement("div",{className:"body"},l.a.createElement(j.a,{className:"p-3"},l.a.createElement(N.a,{className:"back-color"},l.a.createElement("h1",null,"Organisation Register"))))},P=a(15);var R=function(){var e=Object(s.b)(),t=Object(n.useState)(!1),a=Object(u.a)(t,2),r=a[0],c=a[1];return Object(n.useEffect)((function(){o.a.get("/auth",{withCredentials:!0}).then((function(t){console.log(t.data);var a=t.data.auth;e(m(a)),a&&("superAdmin"==t.data.role?e(E("High-ViewStudios")):e(E(t.data.user.displayName)),e(d(t.data.role))),c(!0)})).catch((function(e){console.log("Auth "+e)}))}),[]),l.a.createElement("div",null,r?l.a.createElement(P.a,null,l.a.createElement("div",{className:"App"},l.a.createElement(w,null),l.a.createElement(p.c,null,l.a.createElement(p.a,{path:"/",exact:!0,component:y})," ",l.a.createElement(p.a,{path:"/signin",component:A})," ",l.a.createElement(p.a,{path:"/register",component:S}),l.a.createElement(p.a,{path:"/administrator",exact:!0,component:_})," ",l.a.createElement(p.a,{path:"/administrator/signin",component:U})," ",l.a.createElement(p.a,{path:"/administrator/organisationRegister",component:T})))):l.a.createElement("div",null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var k=a(19),D=a(16),F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{auth:!1,name:"",email:"",role:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_UPDATE_AUTH":return Object(D.a)(Object(D.a)({},e),{},{auth:t.value});case"USER_UPDATE_NAME":return Object(D.a)(Object(D.a)({},e),{},{name:t.value});case"USER_UPDATE_EMAIL":return Object(D.a)(Object(D.a)({},e),{},{email:t.value});case"USER_UPDATE_ROLE":return Object(D.a)(Object(D.a)({},e),{},{role:t.value});default:return e}},I=Object(k.b)({user:F}),L=Object(k.c)(I,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(l.a.createElement(s.a,{store:L},l.a.createElement(l.a.StrictMode,null,l.a.createElement(R,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[40,1,2]]]);
//# sourceMappingURL=main.06364705.chunk.js.map