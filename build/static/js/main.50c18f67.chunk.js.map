{"version":3,"sources":["public/images/plus.png","public/images/minus.png","store/actions/user.js","components/NavBar/betaBanner.js","ServerPath.jsx","store/actions/bookings.js","components/NavBar/userNav.js","components/NavBar/Nav.js","pages/home.js","pages/notConnected.js","pages/wrongLogin.js","store/actions/organistion.js","store/actions/globalVars.js","components/pages/organisationHome/timetable.js","components/pages/organisationHome/diary.js","pages/organisationHome.js","components/pages/organisationAdmin/collides_bookingSlot.js","components/pages/organisationAdmin/collides_collideSlot.js","pages/orgAdminComponets/collisionBookings.js","pages/orgAdminComponets/changeOfSeniorRequest.js","context/GUserContext.js","pages/orgAdminComponets/userDetails.js","pages/forgotPassword.js","pages/changePassword.js","pages/createPassword.js","pages/wrongOrganisation.js","pages/orgAdminComponets/loginSettings.js","pages/orgAdminComponets/departmentSettings.js","pages/orgAdminComponets/users.js","pages/orgAdminComponets/rooms.js","context/adminTemplatesSessions.js","pages/orgAdminComponets/sessionSlot.js","pages/orgAdminComponets/breakSlot.js","pages/orgAdminComponets/layoutSettings.js","pages/orgAdminComponets/weekSystemHolidays.js","context/GProfileContext.js","pages/organisationAdmin.js","pages/orgAdminComponets/profileSettings.js","pages/signIn.js","pages/organisationRouter.js","pages/book.js","components/pages/administrator/organisationItem.js","components/pages/administrator/organisationList.js","pages/administrator/home.js","pages/administrator/signIn.jsx","pages/administrator/registerOrganisation.js","App.js","serviceWorker.js","store/reducers/userDetails.js","store/reducers/organisationDetails.js","store/reducers/globalVars.js","store/reducers/bookings.js","store/reducers/index.js","index.js"],"names":["module","exports","userUpdateAuth","val","type","value","userUpdateUUID","userUpdateName","userUpdateRole","userUpdateNew","userUpdateRequestedPassword","userUpdateOrgID","userUpdateUserDepartments","userUpdateSARequest","BetaBanner","className","hostPath","BuildHostPath","host","window","location","hostname","protocol","UpdateBookingEdit","UpdateBookingID","UpdateBookingBookingType","User","history","useHistory","user","useSelector","state","dispatch","useDispatch","useState","name","show","details","setDetails","logOut","Axios","get","then","res","console","log","data","message","page","role","orgID","push","catch","err","useEffect","ServerPath","auth","Dropdown","Toggle","variant","id","Button","onClick","Menu","Item","Nav","Row","Col","href","Home","document","title","Container","fluid","Jumbotron","NotConnected","WrongLogin","props","organisationID","match","params","orgUpdateSignInLocal","orgUpdateSignInGoogle","orgUpdateMessage","orgUpdateUseDepartments","orgUpdateNoOfDepartments","orgUpdateDepartments","orgUpdateRedeemedRooms","orgUpdateRooms","orgUpdateHolidays","orgUpdateLocked","UpdateRoomName","UpdateRoomID","UpdateRoomLayoutData","UpdateRoomSessionID","UpdateRoomSessionLabel","UpdateRoomDate","UpdateRoomWeekBegin","UpdateRoomDayList","UpdateRoomWeekSystem","UpdateRoomWeekUUID","CollideBookingsForceUpdate","UpdateForceSignIn","UpdateFromSignIn","Timetable","organisation","globalVars","dayNames","slotClass","dayClass","dates","weekSlot","dayIndex","holiday","weekSystemUUID","settings","setSettings","days","order","sessions","sessionTotal","layout","setLayout","open","heading","modal","setModal","handleModalClose","prevState","BuildDataSlots","weekBg","weekBG","moment","slot","department","formatString","week","format","i","sess","day","add","mySQLData","room","roomID","post","recievedData","bookings","error","CheckHoliday","date","holidayTitle","holidays","weeks","includes","titleUUID","weekSystem","time","toString","replace","length","handleBookClick","event","target","IDs","split","roomName","layoutData","breakText","customText","handleEditBooking","uuid","booking","UpdateBookingDepartment","GetDepartment","departmentID","UpdateBookingSessionDes","sessionDes","UpdateBookingSessionLength","bookingType","repeatType","UpdateBookingBookingUntil","repeatUntil","UpdateBookingComments","comments","RebuildDates","firstDate","departments","layoutDays","newSessions","sessionOrder","layoutUUID","session","totalDays","weekBeginDate","today","startOf","entries","index","FindWeekBegin","FindDayIndex","setup","newDate","subtract","thisWeek","width","border","map","key","style","backgroundColor","bgColor","color","textColor","Object","keys","locked","data-tip","hoverText","ReactTooltip","rebuild","Modal","onHide","Header","closeButton","Title","Body","Footer","Dairy","times","startTime","finishTime","interval","timeInterval","sTime","fTime","ti","start","finish","isBefore","BuildTimes","weekbegin","UpdateDiaryFinishTime","UpdateDiaryTimeInterval","OrganisationHome","organisationId","orgTitle","orgLocked","roomLayout","view","acceptFunction","acceptName","showAccept","cancelName","showCancel","modalYN","setModalYN","handleModalYNClose","acceptDelete","bookingID","setTimeout","xs","rooms","layouts","handleRoomDropdownClick","disabled","editBooking","sessionLength","bookingUntil","Collides_bookingSlot","Card","body","startDate","bookingUUID","collideBookingsUpdate","handleDelete","Collides_collideSlot","collideUUID","CollisionBookings","collides","firstSession","lay","collideUUIDs","bookingCollides","collide","cFirstSession","collideBookings","WorkBookings","onOpen","ChangeOfSeniorRequest","forceSignIn","org","POC_Name","GUserContext","createContext","GUserContextProvider","fromDetails","GUser","setGUser","Provider","setGUserID","setFromDetails","children","UserDetails","useContext","email","roles","role_User","role_Admin","role_SeniorAdmin","depToUser","setUser","modalChangeSA","setModalChangeSA","handleModalChangeSAClose","option1Function","option1Name","showOption1","option2Function","option2Name","showOption2","modalTO","setModalTO","handleRadioChange","ConvertIDsToDepartments","userDepartments","departmentArray","dep","handleChange","acceptToChangeToGoogle","method","acceptToChangeToLocal","acceptRemove","displayName","Form","Group","as","Label","Control","onChange","Check","checked","label","newDep","filter","ListGroup","action","departmentIndex","ConvertDepartmentsToIDs","newMethod","acceptToChangeMethods","newUUID","ForgotPassword","setmessage","sent","setSent","required","preventDefault","getElementById","axios","userError","ChangePassword","passwordHelp","setPasswordHelp","oldPassword","newPassword","confirmPassword","requestedPassword","CreatePassword","new","WrongOrganisation","LoginSettings","auth_local","auth_google","save","showSave","loginSettings","setLoginSettings","tour","Shepherd","Tour","defaultStepOtions","classes","scrollTo","useModalOverlay","handleCheckChange","Boolean","addStep","text","attachTo","element","on","buttons","next","Image","src","minus","plus","preState","signInLocal","signInGoogle","Collapse","in","DepartmentSettings","activeRemove","remove","setRemove","saved","useDepartments","aname","names","setDepartments","check","CheckDepartment","departmentName","noOfDepartments","Users","getAllOrgUsers","multiAdd","users","edit","editID","onDoubleClick","handleClickedItem_User","Rooms","newAdd","editRoom","roomUUID","yourLayouts","editAdd","weekSystemModal","setWeekSystemModal","checkIfAddRoomsAllowed","allocatedRooms","redeemedRooms","getLayoutName","handleChangeLayout","checkNameExsist","SessionsContext","SessionsContextProvider","setSessions","setOrder","breakID","breakBtns","setBreakBtns","addSession","resetSessions","minusSession","tempSessions","orderIndex","temp","updateCustomText","obj","updateHoverText","addBreak","toggleBreakBtns","orderMoveUp","ID","indexOf","splice","newID","orderMoveDown","removeBreak","breID","newOrder","updateBreakText","updateBreakColor","SetSessions","SetOrder","SessionSlot","handleBreakBtns","sm","onFocus","BreakSlot","property","colorModal","setColorModal","dialogClassName","onChangeComplete","SetColorInModal","hex","Layouts","layoutText","yourLayoutText","currentLayout","breaks","showPreview","timeIntervalLbl","showTimetableSave","showDiarySave","newName","addModal","setAddModal","innerText","loadSettings","forEach","breakTotal","lbl","findIntervalText","handleChangeStartTime","handleChangeFinishTime","handleChangeInterval","parseInt","handleChecked","handlePickLayout","WeekSystemHolidays","endDate","startDateValue","endDateValue","holidayTitles","addNew","newHoliday","editWeek","editWeekIndex","editTitle","showWeeks","downloadedHolidays","weeksNum","message1","message2","message3","boldMessage","modalLg","setModalLg","modalLock","setModalLock","renameText","renameModal","setRenameModal","holidayTitlesBorder","weeksBorder","datesText","holidayTitlesText","weeksText","weekNums","weekNumsText","help","setHelp","handleModalLgClose","restoreAcceptence","AcceptenceOK","getWeeks","sDate","eDate","handleHolidayTitle","showHelp","startDateString","endDateString","holidayStartDate","holidayEndDate","titles","workDownloadedHolidays","weekNum","BuildWeekNums","dateFormat","selected","Date","deleteInWeeks","MarkNormalAsWeek","MarkWeekAsNormal","weekNo","pop","newWeek","len","ListGroupItem","num","handleWeekClick","findHoliday","holidayWeeks","weeksNo","collidedBookings","bold","size","GProfileContext","GProfileContextProvider","GProfile","setGProfile","setIDAndName","OrganisationAdmin","ProfileSettings","profileUUID","getProfileUsers","UPRooms","orgRooms","exsit","UPRoom","write","delete","repeat","roomObj","loadProfile","userUUID","nonProfileUsers","profileUsers","userHistory","setHistory","handleCloseModal","allUsers","nonProfileusers","userProfiles","handleRoomSelectProperty","rms","handleUpdateProfile","usersToUpdate","handleUserClicked","insertUserHistory","profiles","SignIn","password","SARequest","info","OrganisationRouter","isLoaded","setLoaded","url","auth_Local","auth_Google","orgUpdateAllocatedRooms","orgUpdateLayouts","fromSignIn","getOrgisation","path","exact","component","userDetails","ChangeofSeniorRequest","Book","userList","departmentList","userID","sessionLengthTitle","showSessionLength","daily","weekly","endOfYear","untilDate","showUserDropdown","sessDes","sessDesTitle","handleSessionsDropdownItem","handleTextBoxChange","BookSession","sessionID","firstIndex","sessionLabel","toLocaleDateString","weekSysWeeks","weekUUID","finishDate","createdBy","dayList","FetchUsersAndDepartments","depIndex","FetchUserDepartments","totalSessions","isSameOrBefore","currentDate","rows","month","year","endOfYearDate","uDate","cDate","isAfter","OrganisationItem","ChangeLoginMethod","poc","OrganisationList","loaded","organisations","setOrganisations","POC_Email","granted","setGranted","class","OrganisationRegister","setMessage","orgName","allocatRooms","authLocal","authGoogle","pName","pEmail","App","withCredentials","isAuth","AdminHome","AdminSignIn","AdminOrgRegister","organisationDetails","rootReducer","combineReducers","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","ReactDOM","render","navigator","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.50c18f67.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADICAYAAAC+j+5qAAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAwKADAAQAAAABAAAAyAAAAAB9S3ILAAADRUlEQVR4Ae3cQQqCYBQE4D/xAkH3qaN1tLpP0AXCMqi2A+0cvjaCT8H5nrO0MfwIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQI/Cewmw/341iW03+3u4vAxgSm6fK47a/fp57fL//zuZy/JxwJNAvslnFe8/0KMDWHlY1AElCAJGReLaAA1esVLgkoQBIyrxZQgOr1CpcEFCAJmVcLKED1eoVLAgqQhMyrBRSger3CJQEFSELm1QIKUL1e4ZKAAiQh82oBBaher3BJQAGSkHm1gAJUr1e4JKAASci8WkABqtcrXBJQgCRkXi2gANXrFS4JKEASMq8WUIDq9QqXBOax/k3E50v5dK05ge0LrO/79kNIQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgQIAAAQIECBAgsCWBF/saEjPJd4SSAAAAAElFTkSuQmCC\"","export const userUpdateAuth = (val) => {\n    return {\n        type: \"USER_UPDATE_AUTH\",\n        value: val\n    };\n}\n\nexport const userUpdateUUID = (val) => {\n    return {\n        type: \"USER_UPDATE_UUID\",\n        value: val\n    };\n}\n\nexport const userUpdateName = (val) => {\n    return {\n        type: \"USER_UPDATE_NAME\",\n        value: val\n    };\n}\n\nexport const userUpdateEmail = (val) => {\n    return {\n        type: \"USER_UPDATE_EMAIL\",\n        value: val\n    };\n}\n\nexport const userUpdateRole = (val) => {\n    return {\n        type: \"USER_UPDATE_ROLE\",\n        value: val\n    };\n}\n\nexport const userUpdateNew = (val) => {\n    return {\n        type: \"USER_UPDATE_NEW\",\n        value: val\n    }\n}\n\nexport const userUpdateRequestedPassword = (val) => {\n    return {\n        type: \"USER_UPDATE_REQUESTEDPASSWORD\",\n        value: val\n    }\n}\n\nexport const userUpdateOrgID = (val) => {\n    return {\n        type: \"USER_UPDATE_ORGID\",\n        value: val\n    }\n}\n\nexport const userUpdateUserDepartments = (val) => {\n    return {\n        type: \"USER_UPDATE_USERDEPARTMENTS\",\n        value: val\n    }\n}\n\nexport const userUpdateSARequest = (val) => {\n    return {\n        type: \"USER_UPDATE_SAREQUEST\",\n        value: val\n    }\n}\n\n","import React from 'react';\n\nfunction BetaBanner() {\n\n    return (\n        <div className='betaBanner'>\n            <p><strong>This website is a beta verison, please expect errors. Any problems, please contact High-View Studios (Shaun Evans)</strong></p>\n        </div>\n    )\n}\n\nexport default BetaBanner;","import React from \"react\";\n\nlet hostPath = \"\";\n\nfunction BuildHostPath() {\n    \n    const host = window.location.hostname;\n    const protocol = window.location.protocol;\n\n    if(host === \"localhost\") {\n        hostPath = protocol + \"//\" + host + \":8080\";\n    } else {\n        hostPath = protocol +\"//\" + host;\n    }  \n}\n\nexport default BuildHostPath;\nexport { hostPath };","export const UpdateBookingEdit = (val) => {\n    return {\n        type: 'UPDATE_EDIT_BOOKING',\n        value: val\n    };\n}\n\nexport const UpdateBookingID = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_ID',\n        value: val\n    };\n}\n\nexport const UpdateBookingUser = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_USER',\n        value: val\n    };\n}\n\nexport const UpdateBookingDepartment = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_DEPARTMENT',\n        value: val\n    };\n}\n\nexport const UpdateBookingSessionDes = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_SESSIONDES',\n        value: val\n    };\n}\n\nexport const UpdateBookingSessionLength = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_SESSIONLENGTH',\n        value: val\n    };\n}\n\nexport const UpdateBookingBookingType = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_BOOKINGTYPE',\n        value: val\n    };\n}\n\nexport const UpdateBookingBookingUntil = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_BOOKINGUNTIL',\n        value: val\n    };\n}\n\nexport const UpdateBookingComments = (val) => {\n    return {\n        type: 'UPDATE_BOOKING_COMMENTS',\n        value: val\n    };\n}","import React, { useContext, useState, useEffect } from 'react';\nimport ServerPath, { hostPath } from \"../../ServerPath\";\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport {useSelector, useDispatch} from 'react-redux';\nimport {userUpdateAuth, userUpdateName, userUpdateRole, userUpdateNew, userUpdateRequestedPassword, userUpdateOrgID, userUpdateUserDepartments} from \"../../store/actions/user\";\nimport { UpdateBookingEdit } from '../../store/actions/bookings';\n\nimport Dropdown from \"react-bootstrap/Dropdown\";\nimport Button from \"react-bootstrap/Button\";\n\n\nfunction User() {\n\n    const history = useHistory();\n    const user = useSelector(state => state.user);\n    const dispatch = useDispatch();\n    \n    const [details, setDetails] = useState({\n        name: '',\n        show: false\n    });\n    \n    useEffect(() => {\n        ServerPath();\n    },[])\n\n    useEffect(() => {\n        getUser();\n    }, [user]);\n\n    function getUser() {\n\n        //console.log(user);\n        if(user.auth) {\n\n            if(user.role == \"superAdmin\") {\n                setDetails({\n                    name: \"High-View Studios\",\n                    show: true\n                });\n            } else {\n                setDetails({\n                    name: user.name,\n                    show: true\n                });\n            }\n        } else {\n            setDetails({\n                name: '',\n                show: false\n            })\n        }\n    }\n\n    function logOut() {\n        Axios.get(\"/logout\")\n        .then(res => {\n            console.log(res.data.message);\n            if(res.data.message === \"User logged out\") {\n                console.log(user);\n                let page;\n                if(user.role == 'superAdmin') {\n                    page = \"/\";\n                } else {\n                    const orgID = user.orgID;\n                    page = '/org/' + orgID + '/signIn';\n                }\n                dispatch(userUpdateAuth(false));\n                dispatch(userUpdateName(''));\n                dispatch(userUpdateRole(''));\n                dispatch(userUpdateNew(''));\n                dispatch(userUpdateRequestedPassword(false));\n                dispatch(userUpdateUserDepartments([]));\n                dispatch(userUpdateOrgID(''));\n                dispatch(UpdateBookingEdit(false));\n                history.push(page);\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div>\n        {/* <Button variant=\"warning\" onClick={logOut}>Log Out</Button> */}\n        {details.show ? (\n            <div>\n            <strong>User: {details.name}</strong><br />\n            {user.role == \"seniorAdmin\" ? (\n                <div>\n                <Dropdown>\n            <Dropdown.Toggle variant=\"warning\" id=\"dropdown-basic\">\n                Page\n            </Dropdown.Toggle><Button variant=\"warning\" onClick={logOut}>Log Out</Button>\n\n            <Dropdown.Menu>\n                <Dropdown.Item onClick={() => history.push('/')}>Organisation Home</Dropdown.Item>\n                <Dropdown.Item onClick={() => history.push('/org/'+ user.orgID +'/organisationAdmin')}>Organisation Admin</Dropdown.Item>\n            </Dropdown.Menu>\n            </Dropdown>\n                </div>) : (\n                    <div>\n                    <Button variant=\"warning\" onClick={logOut}>Log Out</Button>\n                </div>)}\n            \n            </div>\n        ) : (\n            <div>\n            </div>\n        )}   \n        </div>\n        \n    )\n}\n\nexport default User;","import React from 'react';\nimport { Row, Col } from 'react-bootstrap';\nimport UserNav from './userNav';\n\nfunction Nav() {\n  return (\n    <nav>\n    <Row>\n    <Col></Col>\n    <Col>\n      <a className='websiteTitle' href='/'>\n        <div className='clickable'>\n        <h1><strong>My STAFF</strong></h1>\n        <h2><strong>Space, Times, Flexible, Facilities</strong></h2>\n        </div>\n      </a>\n    </Col>\n    <Col>\n        <div className=\"user-nav\">\n          <UserNav />\n        </div>\n      </Col>\n      </Row>\n    </nav>\n  );\n}\n\nexport default Nav;","import React, { useEffect, useContext } from 'react';\nimport {useSelector} from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\n\nfunction Home() {\n\n  const user = useSelector(state => state.user);\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n    onOpen();\n  },[]);\n\n  function onOpen() {\n    console.log(user);\n    if(user.auth == true) {\n      if(user.role == \"superAdmin\") {\n        history.push(\"/administrator\");\n      } else {\n        history.push('/org/' + user.orgID);\n      }\n    }\n  }\n\n  return (\n    <div className=\"body\">\n        <Container fluid className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n              <h1>My STAFF homepage is coming soon...</h1><br />\n              <h2>If your organisation is already using My STAFF, please use the direct link from your registration email.</h2>             \n            </Jumbotron>\n        </Container>\n    </div>\n  );\n}\n\nexport default Home;","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport ServerPath, { hostPath } from \"../ServerPath\";\nimport { useSelector} from 'react-redux';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction NotConnected() {\n\n  const user = useSelector(state => state.user);\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = \"STAFF - Not Connected\";\n    ServerPath();\n    onOpen();\n  },[])\n\n  function onOpen() {\n    if(user.auth) {\n      history.push('/');\n    }\n  }\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h3>Email is not connected to any organisation</h3>\n        <Button variant=\"warning\" onClick={() => history.push('/')}>Back to Home</Button><br /><br />\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default NotConnected;\n","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport ServerPath, { hostPath } from \"../ServerPath\";\nimport { useSelector} from 'react-redux';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction WrongLogin(props) {\n\n  const organisationID = props.match.params.id;\n  const user = useSelector(state => state.user);\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = \"STAFF - Not Connected\";\n    ServerPath();\n  },[])\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h3>This is not the login method you use to log in</h3>\n        <Button variant=\"warning\" onClick={() => history.push('/org/'+ organisationID +'/')}>Back</Button><br /><br />\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default WrongLogin;\n","export const orgUpdateName = (val) => {\n    return {\n        type: \"ORG_UPDATE_NAME\",\n        value: val\n    };\n}\n\nexport const orgUpdateSignInLocal = (val) => {\n    return {\n        type: \"ORG_UPDATE_SIGNIN_LOCAL\",\n        value: val\n    };\n}\n\nexport const orgUpdateSignInGoogle = (val) => {\n    return {\n        type: \"ORG_UPDATE_SIGNIN_GOOGLE\",\n        value: val\n    };\n}\n\nexport const orgUpdateMessage = (val) => {\n    return {\n        type: \"ORG_UPDATE_MESSAGE\",\n        value: val\n    };\n}\n\nexport const orgUpdateUseDepartments = (val) => {\n    return {\n        type: \"ORG_UPDATE_USEDEPARTMENTS\",\n        value: val\n    };\n}\n\nexport const orgUpdateNoOfDepartments = (val) => {\n    return {\n        type: \"ORG_UPDATE_NOOFDEPARTMENTS\",\n        value: val\n    };\n}\n\nexport const orgUpdateDepartments = (val) => {\n    return {\n        type: \"ORG_UPDATE_DEPARTMENTS\",\n        value: val\n    };\n}\n\nexport const orgUpdateAllocatedRooms = (val) => {\n    return {\n        type: \"ORG_UPDATE_ALLOCATEDROOMS\",\n        value: val\n    };\n}\n\nexport const orgUpdateRedeemedRooms = (val) => {\n    return {\n        type: \"ORG_UPDATE_REDEEMEDROOMS\",\n        value: val\n    };\n}\n\nexport const orgUpdateRooms = (val) => {\n    return {\n        type: \"ORG_UPDATE_ROOMS\",\n        value: val\n    };\n}\n\nexport const orgUpdateLayouts = (val) => {\n    return {\n        type: \"ORG_UPDATE_LAYOUTS\",\n        value: val\n    };\n}\n\nexport const orgUpdateHolidays = (val) => {\n    return {\n        type: \"ORG_UPDATE_HOLIDAYS\",\n        value: val\n    };\n}\n\nexport const orgUpdateLocked = (val) => {\n    return {\n        type: \"ORG_UPDATE_LOCKED\",\n        value: val\n    };\n}","export const UpdateRoomName = (val) => {\n    return {\n        type: 'UPDATE_ROOM_NAME',\n        value: val\n    };\n}\n\nexport const UpdateRoomID = (val) => {\n    return {\n        type: 'UPDATE_ROOM_ID',\n        value: val\n    };\n}\n\nexport const UpdateRoomLayoutData = (val) => {\n    return {\n        type: 'UPDATE_ROOM_LAYOUT_DATA',\n        value: val\n    };\n}\n\nexport const UpdateRoomSessionID = (val) => {\n    return {\n        type: 'UPDATE_ROOM_SESSION_ID',\n        value: val\n    };\n}\n\nexport const UpdateRoomSessionLabel = (val) => {\n    return {\n        type: 'UPDATE_ROOM_SESSION_LABEL',\n        value: val\n    };\n}\n\nexport const UpdateRoomDate = (val) => {\n    return {\n        type: 'UPDATE_ROOM_DATE',\n        value: val\n    };\n}\n\nexport const UpdateRoomWeekBegin = (val) => {\n    return {\n        type: 'UPDATE_ROOM_WEEK_BEGIN',\n        value: val\n    };\n}\n\nexport const UpdateRoomTotalSessions = (val) => {\n    return {\n        type: 'UPDATE_ROOM_TOTAL_SESSIONS',\n        value: val\n    };\n}\n\nexport const UpdateRoomDayList = (val) => {\n    return {\n        type: 'UPDATE_ROOM_DAY_LIST',\n        value: val\n    };\n}\n\nexport const UpdateRoomWeekSystem = (val) => {\n    return {\n        type: 'UPDATE_ROOM_WEEK_SYSTEM',\n        value: val\n    };\n}\n\nexport const UpdateRoomWeekUUID = (val) => {\n    return {\n        type: 'UPDATE_ROOM_WEEK_UUID',\n        value: val\n    };\n}\n\nexport const CollideBookingsForceUpdate = (val) => {\n    return {\n        type: 'UPDATE_FORCE_COLLIDED_BOOKINGS',\n        value: val\n    };\n}\n\nexport const UpdateDiaryStartTime = (val) => {\n    return {\n        type: 'UPDATE_DIARY_START_TIME',\n        value: val\n    };\n}\n\nexport const UpdateDiaryFinishTime = (val) => {\n    return {\n        type: 'UPDATE_DIARY_FINISH_TIME',\n        value: val\n    };\n}\n\nexport const UpdateDiaryTimeInterval = (val) => {\n    return {\n        type: 'UPDATE_DIARY_TIME_INTERVAL',\n        value: val\n    };\n}\n\nexport const UpdateForceSignIn = (val) => {\n    return {\n        type: 'UPDATE_FORCE_SIGNIN',\n        value: val\n    };\n}\n\nexport const UpdateFromSignIn = (val) => {\n    return {\n        type: 'UPDATE_FROM_SIGNIN',\n        value: val\n    };\n}","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport ReactTooltip from 'react-tooltip';\nimport { Row, Col, Button, Modal } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport { UpdateRoomName, UpdateRoomID, UpdateRoomSessionID, UpdateRoomSessionLabel, UpdateRoomDate, UpdateRoomWeekBegin, UpdateRoomTotalSessions, UpdateRoomDayList, UpdateRoomWeekSystem, UpdateRoomWeekUUID, UpdateRoomLayoutData } from '../../../store/actions/globalVars';\nimport { UpdateBookingBookingType, UpdateBookingBookingUntil, UpdateBookingSessionDes, UpdateBookingComments, UpdateBookingDepartment, UpdateBookingEdit, UpdateBookingID, UpdateBookingUser, UpdateBookingSessionLength } from '../../../store/actions/bookings';\nimport moment from 'moment';\nimport Axios from 'axios';\n\nfunction Timetable(props) {\n\n\n    const orgID = props.orgID;\n    const organisation = useSelector(state => state.organisation);\n    const globalVars = useSelector(state => state.globalVars);\n\n    const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    const history = useHistory();\n    const dispatch = useDispatch();\n\n    const [settings, setSettings] = useState({\n        slotClass: '',\n        dayClass: '',\n        dates: ['', '', '', '', '', '', ''],\n        weekSlot: '',\n        dayIndex: 0,\n        data: {},\n        holiday: '',\n        weekSystemUUID: ''\n    });\n\n    const [layout, setLayout] = useState({\n        days: [],\n        order: [],\n        sessions: [],\n        sessionTotal: 0\n    })\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    useEffect(() => {\n        setup();\n    }, []);\n\n\n    function setup() {\n\n        console.log(props.weekSystem);\n        //SETUP NEW LAYOUT FROM REDUX\n        const layoutDays = props.layoutData.days.split(',');\n        const days = [];\n        let newSessions = {};\n        const order = props.layoutData.sessionOrder.split(',');\n\n        for(const day of layoutDays) {\n            days.push(day == 'true');\n        }\n\n        const data = {orgID: orgID, layoutUUID: props.layoutData.uuid};\n        Axios.post('/organisation/getTimetableSessions', data)\n        .then(res => {\n\n            const sessions = res.data.sessions;\n\n            for(const session of sessions) {\n                newSessions[session.id] = session;\n            }\n\n            setLayout(prevState => {\n                return {...prevState, days: days, sessions: newSessions, sessionTotal: props.layoutData.sessions, order: order}\n            });\n\n            /////\n\n            let totalDays = 0;\n            for(const day of days) { \n                if(day) {\n                    totalDays++;\n                }\n            }\n\n            console.log(totalDays);\n            setSettings(prevState => {\n                return {...prevState, slotClass: 'session' + totalDays + '-slot timetable-layout', dayClass: 'session' + totalDays + '-days timetable-layout'}\n            });\n\n            console.log(globalVars.weekBeginDate);\n            if(globalVars.weekBeginDate == '') {\n                const weekBG = FindWeekBegin(days);\n                BuildDataSlots(weekBG, order, newSessions);\n                CheckHoliday(weekBG);\n            } else {\n                FindDayIndex(days);\n                const firstDate = moment(globalVars.weekBeginDate, 'DD/MM/YYYY');\n                RebuildDates(firstDate, order, newSessions);\n            }\n\n        })\n        .catch(err => {\n            console.log(err);\n        })\n        //SETUP NEW LAYOUT FROM REDUX ^^^\n    }\n\n    function FindDayIndex(days) {\n        let dayIndex;\n        for(const [index, day] of days.entries()) {\n            if(day) {\n                dayIndex = index;\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, dayIndex: dayIndex}\n        });\n    }\n\n    function BuildDataSlots(weekBg, order, sessions) {\n\n        const data = {};\n        const days = [];\n        const weekBG = moment(weekBg, 'DD/MM/YYYY');\n        const slot = {user: '', department: '', type: ''};\n\n        const weekSlot = formatString(weekBG.week()) + '-' + weekBG.format('YY');\n        console.log(weekSlot);\n        for(let i = 0; i < 7; i++) {\n            \n            for(const sess of order) {\n                days.push(formatString(weekBG.day()) + '-' + formatString(sessions[sess].id));\n                const sName = formatString(weekBG.week()) + '-' + weekBG.format('YY') + '-' + formatString(weekBG.day()) + '-' + formatString(sessions[sess].id);\n                data[sName] = slot;\n            }\n\n            weekBG.add(1, 'd');\n        }\n\n        const mySQLData = {orgID: orgID, room: props.roomID,week: weekSlot, days: days, weekBG: weekBg};\n        Axios.post('/booking/getBookings', mySQLData)\n        .then(res => {\n            const recievedData = res.data;\n            console.log(recievedData.bookings);\n            if(recievedData.error === 'null') {\n                setSettings(prevState => {\n                    return {...prevState, weekSlot: weekSlot, data: recievedData.bookings}\n                });     \n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }\n\n    function CheckHoliday(weekBG) {\n        \n        const date = moment(weekBG, 'DD/MM/YYYY');\n        const week = formatString(date.week()) + '-' + date.format('YY');\n        let holidayTitle = '';\n\n        for(const holiday of organisation.holidays) {\n\n            if(holiday.weeks.includes(week)) {\n\n                if(holiday.titleUUID.includes('w')) {\n                    if(props.weekSystem) {\n                        holidayTitle = holiday.name;\n                        setSettings(prevState => {\n                            return {...prevState, weekSystemUUID: holiday.titleUUID}\n                        })\n                    }\n                } else if(holiday.titleUUID.includes('h')){\n                    holidayTitle = 'Holiday: ' + holiday.name\n                }\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, holiday: holidayTitle}\n        });\n    }\n\n    function formatString(time) {\n        \n        if(time.toString().includes('b')) {\n            time = time.replace('b', '');\n\n            if(time.toString().length == 1) {\n                return 'b0' + time;\n            } else {\n                return time;\n            }\n        } else {\n            if(time.toString().length == 1) {\n                return '0' + time;\n            } else {\n                return time;\n            }\n        }\n    }\n\n    function handleReloadTooltip() {\n        ReactTooltip.rebuild();\n    }\n\n    function handleBookClick(event) {\n        \n        dispatch(UpdateBookingEdit(false));\n        const { id } = event.target;\n        const IDs = id.toString().split('-');\n        dispatch(UpdateRoomName(props.roomName));\n        dispatch(UpdateRoomID(props.roomID));\n        dispatch(UpdateRoomSessionID(id));\n        dispatch(UpdateRoomWeekSystem(props.weekSystem));\n        dispatch(UpdateRoomWeekUUID(settings.weekSystemUUID));\n        dispatch(UpdateRoomLayoutData(props.layoutData));\n\n        if(layout.sessions[IDs[1]].id.includes('b')) {\n            \n            dispatch(UpdateRoomSessionLabel(layout.sessions[IDs[1]].breakText));\n        } else {\n            if(layout.sessions[IDs[1]].customText != '') {\n                dispatch(UpdateRoomSessionLabel(layout.sessions[IDs[1]].customText));\n            } else {\n                dispatch(UpdateRoomSessionLabel(layout.sessions[IDs[1]].id));\n            }\n        }\n        dispatch(UpdateRoomWeekBegin(settings.dates[0]));\n        dispatch(UpdateRoomDate(settings.dates[IDs[0]]));\n        dispatch(UpdateRoomTotalSessions(layout.sessionTotal));\n        dispatch(UpdateRoomDayList(layout.days));\n\n        history.push('/org/' + orgID + '/book')\n    }\n\n    function handleEditBooking(uuid) {\n\n        const data = {orgID: orgID, uuid: uuid};\n        Axios.post('/booking/getBookingData', data)\n        .then(res => {\n\n            const data = res.data;\n            dispatch(UpdateBookingUser(data.booking.user));\n            dispatch(UpdateBookingDepartment(GetDepartment(data.booking.departmentID)));\n            dispatch(UpdateBookingSessionDes(data.booking.sessionDes));\n            dispatch(UpdateBookingSessionLength(data.booking.sessionTotal));\n\n            //SINGLE / REPEAT\n            const type = data.booking.bookingType;\n            if(type == 'single') {\n                dispatch(UpdateBookingBookingType('Single'));\n            } else {\n                dispatch(UpdateBookingBookingType('Repeat - ' + data.booking.repeatType));\n                dispatch(UpdateBookingBookingUntil(data.booking.repeatUntil));\n            }\n\n            dispatch(UpdateBookingComments(data.booking.comments));            \n            dispatch(UpdateBookingEdit(true));\n            dispatch(UpdateBookingID(uuid));\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function FindWeekBegin(days) {\n\n        let today = moment();\n        today.startOf('week');\n        \n        let dates = [];\n        for(let i = 0; i < 7; i++) {\n            dates.push(today.format('DD/MM/YYYY'));\n            today.add(1, 'd');\n        }\n\n        setSettings(prevState => {\n            return {...prevState, dates: dates}\n        });\n\n        let dayIndex;\n        for(const [index, day] of days.entries()) {\n            if(day) {\n                dayIndex = index;\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, dayIndex: dayIndex}\n        });\n\n        return dates[0];\n    }\n\n    function RebuildDates(firstDate, order, sessions) {\n\n        let dates = [];\n        for(let i = 0; i < 7; i++) {\n            dates.push(firstDate.format('DD/MM/YYYY'));\n            firstDate.add(1, 'd');\n        }\n        \n        setSettings(prevState => {\n            return {...prevState, dates: dates}\n        });\n\n        BuildDataSlots(dates[0], order, sessions);\n        CheckHoliday(dates[0]);\n    }\n\n    function handleAdvancedWeek() {\n        \n        dispatch(UpdateBookingEdit(false));\n        let newDate = moment(settings.dates[0], 'DD/MM/YYYY');\n        newDate.add(1, 'w');\n\n        RebuildDates(newDate, layout.order, layout.sessions);\n    }\n\n    function handleGoBackWeek() {\n        \n        dispatch(UpdateBookingEdit(false));\n        let newDate = moment(settings.dates[0], 'DD/MM/YYYY');\n        newDate.subtract(1, 'w');\n\n        let thisWeek = moment();\n        thisWeek.startOf('week');\n\n        if(newDate < thisWeek) {\n            setModal({heading: props.roomName, message: 'You cannot go back previous from this week', open: true});\n        } else {\n\n            RebuildDates(newDate, layout.order, layout.sessions);\n        }\n    }\n\n    function GetDepartment(id) {\n\n        for(const department of organisation.departments) {\n            if(department.uuid == id) {\n                return department.name;\n            }\n        }\n\n    }\n\n    return (\n        <div>\n        <Row>\n            <Col><strong>\n                <div className='centred'>Week Beginning: {settings.dates[settings.dayIndex]}</div>\n                </strong>\n            </Col>\n            <Col>\n                <strong>\n                    <div className='centred-100'>{settings.holiday}</div>\n                </strong>\n            </Col>\n            <Col>\n                <div className='side-by-side-R'>\n                    <Button variant='primary' onClick={handleGoBackWeek}>-</Button>\n                    <Button variant='primary' onClick={handleAdvancedWeek}>+</Button>\n                </div>\n            </Col>\n        </Row>\n        <Row>\n            <table className='timetable-layout' width='100%' border='1px'>\n            <thead>\n                <tr>\n                    <td className={settings.slotClass}>\n                        Session\n                    </td>\n                    {layout.days.map((day, index) => {\n                        if(day) {\n                            return <td className={settings.dayClass} key={index} >{dayNames[index]} <br /> {settings.dates[index]}</td>\n                        }\n                    })}\n                </tr>\n            </thead>\n            <tbody>{layout.order.map((session, index) => {\n                if(session.toString().includes('b')) { //breaks \\/\\/\n                    return (<tr key={index} style={{backgroundColor:layout.sessions[session].bgColor}}>\n                        <td className={settings.slotClass} style={{color:layout.sessions[session].textColor}}>\n                        {layout.sessions[session].breakText != '' ? layout.sessions[session].breakText : layout.sessions[session].id}</td>\n                        {layout.days.map((day, index) => {\n                            if(day) {\n                                if(Object.keys(settings.data).length > 0) {\n\n                                        const name = settings.weekSlot + '-' + formatString(index) + '-' + formatString(layout.sessions[session].id);\n                                        if(settings.data[name].type == 'single') {\n                                            return <td className=' timetable-layout singleSlot' key={index} id={index + '-' + layout.session} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td> \n                                        } else if (settings.data[name].type == 'repeat') {\n                                            return <td className=' timetable-layout repeatSlot' key={index} id={index + '-' + session} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td>\n                                        } else {\n                                            return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + session} onClick={handleBookClick}>Book</td> \n                                        }\n                                    } else {\n                                        return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + session} onClick={handleBookClick}>Book</td> \n                                    }\n                            }\n                        })}\n                        </tr>)\n                } else { //sessions \\/\\/\n                    return (<tr key={index}>\n                            <td className={settings.slotClass} data-tip={layout.sessions[session].hoverText != '' ? layout.sessions[session].hoverText : null }>\n                            {layout.sessions[session].customText != '' ? layout.sessions[session].customText : layout.sessions[session].id}</td>\n                            {layout.days.map((day, index) => {\n                                if(day) {\n                                    if(Object.keys(settings.data).length > 0) {\n\n                                        const name = settings.weekSlot + '-' + formatString(index) + '-' + formatString(layout.sessions[session].id);\n                                        if(settings.data[name].type == 'single') {\n                                            return <td className=' timetable-layout singleSlot' key={index} id={index + '-' + session} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td> \n                                        } else if (settings.data[name].type == 'repeat') {\n                                            return <td className=' timetable-layout repeatSlot' key={index} id={index + '-' + session} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td>\n                                        } else {\n                                            return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + session} onClick={handleBookClick}>Book</td> \n                                        }\n                                    } else {\n                                        return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + session} onClick={handleBookClick}>Book</td> \n                                    }\n                                    \n                                }\n                            })\n                            }\n                            </tr>)\n                    }\n            })}\n            {handleReloadTooltip()}\n            </tbody>\n            </table>\n            <ReactTooltip />\n            </Row>\n\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Timetable;","import React, {useState, useEffect} from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { Row, Col, Modal, Button} from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\nimport moment from 'moment';\nimport Axios from 'axios';\nimport { UpdateRoomName, UpdateRoomID, UpdateRoomSessionID, UpdateRoomSessionLabel, UpdateRoomDate, UpdateRoomWeekBegin, UpdateRoomDayList, UpdateRoomLayout, UpdateRoomWeekSystem, UpdateRoomWeekUUID, UpdateRoomLayoutData, UpdateDiaryStartTime, UpdateDiaryFinishTime, UpdateDiaryTimeInterval } from '../../../store/actions/globalVars';\nimport { UpdateBookingEdit, UpdateBookingID } from '../../../store/actions/bookings';\n\nfunction Dairy(props) {\n\n    const orgID = props.orgID;\n    const organisation = useSelector(state => state.organisation);\n    const globalVars = useSelector(state => state.globalVars);\n\n    const dayNames = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n    const dispatch = useDispatch();\n\n    const times = ['00:00', '00:30', '01:00', '01:30', '02:00', '02:30', '03:00', '03:30', '04:00', '04:30', '05:00', '05:30', '06:00', '06:30', '07:00', '07:30', '08:00', '08:30', '09:00', \n                    '09:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '13:00', '13:30', '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30', '18:00', '18:30',\n                    '19:00', '19:30', '20:00', '20:30', '21:00', '21:30', '22:00', '22:30', '23:00', '23:30'];\n    const history = useHistory();\n\n    const [settings, setSettings] = useState({\n        slotClass: '',\n        dayClass: '',\n        times: [],\n        startTime: '',\n        finishTime: '',\n        interval: '',\n        dates: ['', '', '', '', '', '', ''],\n        dayIndex: 0,\n        weekSlot: '',\n        data: {},\n        holiday: '',\n        days: [],\n        weekSystemUUID: ''\n    });\n\n    useEffect(() => {\n        setup();\n    }, []);\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n\n    function setup() {\n\n        const layoutDays = props.layoutData.days.split(',');\n        const days = [];\n\n        const startTime = props.layoutData.startTime;\n        const finishTime = props.layoutData.finishTime;\n        const timeInterval = props.layoutData.timeInterval;\n\n        for(const day of layoutDays) {\n            days.push(day == 'true');\n        }\n\n        let totalDays = 0;\n        for(const day of days) {\n            if(day) {\n                totalDays++;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, slotClass: 'session' + totalDays + '-slot timetable-layout', dayClass: 'session' + totalDays + '-days timetable-layout', startTime: startTime, \n                    finishTime: finishTime, interval: timeInterval, days: days}\n        });\n\n        const times = BuildTimes(startTime, finishTime, timeInterval);\n\n        if(globalVars.weekBeginDate == '') {\n            const weekBG = FindWeekBegin(days);\n            BuildDataSlots(weekBG, times);\n            CheckHoliday(weekBG);\n        } else {\n            FindDayIndex(days);\n            const firstDate = moment(globalVars.weekBeginDate, 'DD/MM/YYYY');\n            RebuildDates(firstDate, times);\n        }\n    }\n\n    function FindDayIndex(days) {\n        let dayIndex;\n        for(const [index, day] of days.entries()) {\n            if(day) {\n                dayIndex = index;\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, dayIndex: dayIndex}\n        });\n    }\n\n    function FindWeekBegin(days) {\n\n        let today = moment();\n        today.startOf('week');\n        \n        let dates = [];\n        for(let i = 0; i < 7; i++) {\n            dates.push(today.format('DD/MM/YYYY'));\n            today.add(1, 'd');\n        }\n\n        setSettings(prevState => {\n            return {...prevState, dates: dates}\n        });\n\n        let dayIndex;\n        for(const [index, day] of days.entries()) {\n            if(day) {\n                dayIndex = index;\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, weekbegin: dates[0], dayIndex: dayIndex}\n        });\n\n        return dates[0];\n    }\n\n    function CheckHoliday(weekBG) {\n        \n        const date = moment(weekBG, 'DD/MM/YYYY');\n        const week = formatString(date.week()) + '-' + date.format('YY');\n        let holidayTitle = '';\n\n        for(const holiday of organisation.holidays) {\n\n            if(holiday.weeks.includes(week)) {\n\n                if(holiday.titleUUID.includes('w')) {\n                    if(props.weekSystem) {\n                        holidayTitle = holiday.name;\n                        setSettings(prevState => {\n                            return {...prevState, weekSystemUUID: holiday.titleUUID}\n                        })\n                    }\n                } else if(holiday.titleUUID.includes('h')){\n                    holidayTitle = 'Holiday: ' + holiday.name\n                }\n                break;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, holiday: holidayTitle}\n        });\n    }\n\n    function BuildDataSlots(weekBg, times) {\n\n        const data = {};\n        const days = [];\n        const weekBG = moment(weekBg, 'DD/MM/YYYY');\n        const slot = {user: '', department: '', type: ''};\n\n        const weekSlot = formatString(weekBG.week()) + '-' + weekBG.format('YY');\n\n        for(let i = 0; i < 7; i++) {\n\n            for(const time of times) {\n\n                days.push(formatString(weekBG.day()) + '-' + time.replace(\":\", ''));\n                const sName = formatString(weekBG.week()) + '-' + weekBG.format('YY') + '-' + formatString(weekBG.day()) + '-' + time.replace(\":\", '');\n                data[sName] = slot;\n            }\n\n            weekBG.add(1, 'd');\n        }\n\n        const mySQLData = {orgID: orgID, room: props.roomID,week: weekSlot, days: days, weekBG: weekBg};\n        Axios.post('/booking/getBookings', mySQLData)\n        .then(res => {\n            const recievedData = res.data;\n            if(recievedData.error === 'null') {\n                setSettings(prevState => {\n                    return {...prevState, weekSlot: weekSlot, data: recievedData.bookings}\n                });     \n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }\n\n    function formatString(time) {\n        \n        if(time.toString().includes('b')) {\n            time = time.replace('b', '');\n\n            if(time.toString().length == 1) {\n                return 'b0' + time;\n            } else {\n                return time;\n            }\n        } else {\n            if(time.toString().length == 1) {\n                return '0' + time;\n            } else {\n                return time;\n            }\n        }\n    }\n\n    function BuildTimes(sTime, fTime, interval) {\n\n        const ti = [];\n        if(sTime !== 'Start Time' && fTime !== 'Finish Time' && interval !== 0) {\n            \n            const start = moment(sTime, \"HH:mm\");\n            const finish = moment(fTime, \"HH:mm\");\n\n            while(start.isBefore(finish)) {\n                ti.push(start.format(\"HH:mm\"));\n                start.add(interval, 'm');\n            }\n\n            setSettings(prevState => {\n                return {...prevState, times: ti}\n            });\n        }\n        \n        return ti;\n    }\n\n    function RebuildDates(firstDate, times) {\n\n        let dates = [];\n        for(let i = 0; i < 7; i++) {\n            dates.push(firstDate.format('DD/MM/YYYY'));\n            firstDate.add(1, 'd');\n        }\n        \n        setSettings(prevState => {\n            return {...prevState, dates: dates}\n        });\n\n        BuildDataSlots(dates[0], times);\n        CheckHoliday(dates[0]);\n    }\n\n    function handleAdvancedWeek() {\n\n        let newDate = moment(settings.dates[0], 'DD/MM/YYYY');\n        newDate.add(1, 'w');\n\n        RebuildDates(newDate, settings.times);\n    }\n\n    function handleGoBackWeek() {\n\n        let newDate = moment(settings.dates[0], 'DD/MM/YYYY');\n        newDate.subtract(1, 'w');\n\n        let thisWeek = moment();\n        thisWeek.startOf('week');\n\n        if(newDate < thisWeek) {\n            setModal({heading: props.roomName, message: 'You cannot go back previous from this week', open: true});\n        } else {\n\n            RebuildDates(newDate, settings.times);\n        }\n    }\n\n    function handleBookClick(event) {\n        \n        const { id } = event.target;\n        console.log(id);\n        const IDs = id.toString().split('-');\n        dispatch(UpdateRoomName(props.roomName));\n        dispatch(UpdateRoomID(props.roomID));\n        dispatch(UpdateRoomLayoutData(props.layoutData));\n        dispatch(UpdateRoomSessionID(id));\n        dispatch(UpdateRoomSessionLabel(IDs[1]))\n        dispatch(UpdateRoomWeekBegin(settings.dates[0]));\n        dispatch(UpdateRoomDate(settings.dates[IDs[0]]));\n        dispatch(UpdateRoomDayList(settings.days));\n        dispatch(UpdateRoomWeekSystem(props.weekSystem));\n        dispatch(UpdateRoomWeekUUID(settings.weekSystemUUID));\n        dispatch(UpdateDiaryStartTime(settings.startTime));\n        dispatch(UpdateDiaryFinishTime(settings.finishTime));\n        dispatch(UpdateDiaryTimeInterval(settings.interval));\n\n        history.push('/org/' + orgID + '/book');\n    }\n\n    function GetDepartment(id) {\n\n        for(const department of organisation.departments) {\n            if(department.uuid == id) {\n                return department.name;\n            }\n        }\n\n    }\n\n    function handleEditBooking(uuid) {\n        console.log('booking');\n        dispatch(UpdateBookingEdit(true));\n        dispatch(UpdateBookingID(uuid))\n    }\n\n    return (\n        <div>\n        <Row>\n            <Col><strong>\n                <div className='centred'>Week Beginning: {settings.dates[settings.dayIndex]}</div>\n                </strong>\n            </Col>\n            <Col>\n                <strong>\n                    <div className='centred-100'>{settings.holiday}</div>\n                </strong>\n            </Col>\n            <Col>\n                <div className='side-by-side-R'>\n                    <Button variant='primary' onClick={handleGoBackWeek}>-</Button>\n                    <Button variant='primary' onClick={handleAdvancedWeek}>+</Button>\n                </div>\n            </Col>\n        </Row>\n        <Row>\n            <table className='timetable-layout' width='100%' border='1px'>\n            <thead>\n                <tr>\n                    <td className={settings.slotClass}>\n                        Session\n                    </td>\n                    {settings.days.map((day, index) => {\n                        if(day) {\n                            return <td className={settings.dayClass} key={index} >{dayNames[index]} <br /> {settings.dates[index]}</td>\n                        }\n                    })}\n                </tr>\n            </thead>\n            <tbody>\n                {settings.times.map((time, index) => {\n                    return(<tr key={index}>\n                            <td className={settings.slotClass}>{time}</td>\n                            {settings.days.map((day, index) => {\n                                if(day) {\n                                    if(Object.keys(settings.data).length > 0) {\n                                        const name = settings.weekSlot + '-' + formatString(index) + '-' + time.replace(':', '');\n                                        if(settings.data[name].type == 'single') {\n                                            return <td className=' timetable-layout singleSlot' key={index} id={index + '-' + time} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td> \n                                        } else if (settings.data[name].type == 'repeat') {\n                                            return <td className=' timetable-layout repeatSlot' key={index} id={index + '-' + time} onClick={() => handleEditBooking(settings.data[name].uuid)}>\n                                                {settings.data[name].user} <br/> {GetDepartment(settings.data[name].department)}\n                                            </td>\n                                        } else {\n                                            return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + time} onClick={handleBookClick}>Book</td> \n                                        }\n                                    } else {\n                                        return <td className={organisation.locked ? 'timetable-layout emptySlotDisabled' : 'timetable-layout emptySlot'} key={index} id={index + '-' + time} onClick={handleBookClick}>Book</td>\n                                    }\n                                }\n                            })\n                            }\n                            </tr>)\n                })}\n                </tbody>\n            </table>\n        </Row>\n\n        <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Dairy\n\n","import React, { useEffect, useContext, useState } from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\n\nimport Timetable from '../components/pages/organisationHome/timetable';\nimport Diary from '../components/pages/organisationHome/diary';\n\n//Styles\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport { Row, Col, Dropdown, Button, Modal } from 'react-bootstrap';\nimport { UpdateBookingEdit } from '../store/actions/bookings';\nimport Axios from 'axios';\n\n\nfunction OrganisationHome(props) {\n  \n  const organisationId = props.match.params.id;\n\n  const organisation = useSelector(state => state.organisation);\n  const globalVars = useSelector(state => state.globalVars);\n  const bookings = useSelector(state => state.bookings);\n  const user = useSelector(state => state.user);\n  const dispatch = useDispatch();\n\n  const [settings, setSettings] = useState({\n    orgTitle: '',\n    orgLocked: '',\n    roomName: 'Rooms',\n    roomLayout: '',\n    roomID: '',\n    layoutData: {},\n    view: false,\n    weekSystem: false\n  });\n\n  const [modal, setModal] = useState({\n      open: false,\n      heading: '',\n      message: '',\n  });\n\n  const [modalYN, setModalYN] = useState({\n      open: false,\n      heading: '',\n      message: '',\n      acceptFunction: '',\n      acceptName: '',\n      showAccept: false,\n      cancelName: '',\n      showCancel: false\n  });\n\n  function handleModalClose() {\n      setModal(prevState => {\n          return {...prevState,\n          open: false\n      }\n  });\n  }\n\n  function handleModalYNClose() {\n      setModalYN(prevState => {\n          return {...prevState,\n          open: false\n      }\n  });\n  }\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n    CheckPreviousState();\n  },[]);\n\n  function CheckPreviousState() {\n      if(globalVars.roomName != '') {\n        console.log(globalVars.roomName);\n        setSettings(prevState => {\n          return {...prevState, roomName: globalVars.roomName, roomLayout: globalVars.layoutData.layout, layoutData: globalVars.layoutData, roomID: globalVars.roomID, weekSystem: globalVars.weekSystem};\n        });\n\n        setTimeout(() => {\n          setSettings(prevState => {\n            return {...prevState, view: true}\n          })\n        }, 100)\n      }\n  }\n\n\n\n  function handleRoomDropdownClick(name, layoutUUID, id, weekSystem) {\n\n    setSettings(prevState => {\n      return {...prevState, roomName: name, roomLayout: '---', roomID: id, weekSystem: false}\n    });\n\n    let layoutData;\n    for(const layout of organisation.layouts) {\n      if(layout.uuid == layoutUUID) {\n        layoutData = layout;\n      } \n    }\n\n    setSettings(prevState => {\n      return {...prevState, roomName: name, roomLayout: layoutData.layout, roomID: id, weekSystem: (weekSystem == 'true'), layoutData: layoutData, view: false}\n    });\n    dispatch(UpdateBookingEdit(false))\n    setTimeout(() => {\n      setSettings(prevState => {\n        return {...prevState, view: true}\n      })\n    }, 100);\n  }\n\n  //EDIT BOOKING\n  function handleDeleteBooking() {\n    setModalYN({heading: 'Delete Booking', message: 'Are you sure you want to delete this booking?', acceptFunction: acceptDelete, acceptName: 'Yes', showAccept: true, showCancel: true, cancelName: 'No', open: true});\n  }\n\n  function acceptDelete() {\n\n    setModalYN({open: false});\n\n    const data = {orgID: organisationId, bookingID: bookings.bookingID};\n    Axios.post('/booking/deleteBooking', data)\n    .then(res => {\n      const data = res.data;\n      if(data.error == 'null') {\n        setModal({heading: 'Delete booking', message: 'Booking deleted!', open: true});\n        \n        dispatch(UpdateBookingEdit(false));\n\n        setSettings(prevState => {\n          return {...prevState, view: false}\n        })\n\n        setTimeout(() => {\n          setSettings(prevState => {\n            return {...prevState, view: true}\n          })\n        }, 100);\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    })\n  }\n  ////////////////////////////////////////////////////////\n\n  return (\n    <div className=\"body\">\n        <Container fluid className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n                <h1>{organisation.name}</h1>\n                {organisation.locked ? <h2>Organisation Locked</h2> : null}\n              <Row>\n                <Col></Col>\n                <Col xs={8}>\n                <div className='roomLbl'>\n                Rooms:\n                </div>\n                <Dropdown className='rooms'>\n                        <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                            {settings.roomName}\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu className='dropdown-items'>\n                          {organisation.rooms.map((room, index) => {\n                            return <Dropdown.Item key={index} onClick={() => { handleRoomDropdownClick(room.name, room.layout, room.uuid, room.weekSystem)}}>{room.name}</Dropdown.Item>\n                          })}\n                        </Dropdown.Menu>\n                    </Dropdown>\n                </Col>\n                <Col></Col>                \n              </Row>\n              <Row>\n                <Col></Col>\n                <Col xs={8}>\n                {settings.view ? (<div>\n                  {settings.roomLayout != '' && settings.roomLayout == 'Timetable' ? <Timetable orgID={organisationId} roomName={settings.roomName} roomID={settings.roomID} layoutData={settings.layoutData} weekSystem={settings.weekSystem}/> : null}\n                  {settings.roomLayout != '' && settings.roomLayout == 'Diary' ? <Diary orgID={organisationId} roomName={settings.roomName} roomID={settings.roomID} layoutData={settings.layoutData} weekSystem={settings.weekSystem}/> : null}\n                </div>) : null}\n                </Col>\n                <Col>\n                <Row>\n                  <div className='row-nothing'>\n                    <Button disabled>Test</Button>\n                  </div>\n                </Row>\n                <Row>\n                  <Col>\n                    <div className={bookings.editBooking ? 'edit-booking-show' : 'edit-booking-hide'}>\n                      <strong>Booking Details</strong>\n                      <div className='align-left'>\n                            <br />\n                            <Row>\n                              <Col>\n                                <strong>User:</strong>\n                              </Col>\n                              <Col>\n                                {bookings.user}\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col>\n                                <strong>Department:</strong>\n                              </Col>\n                              <Col>\n                                {bookings.department}\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col>\n                                <strong>Class:</strong>\n                              </Col>\n                              <Col>\n                                {bookings.sessionDes}\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col>\n                                <br /><strong>Session Length:</strong>\n                              </Col>\n                              <Col>\n                                <br />{bookings.sessionLength}\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col>\n                                <strong>Booking Type:</strong>\n                              </Col>\n                              <Col>\n                                {bookings.bookingType}\n                              </Col>\n                            </Row>\n                            {bookings.bookingType == 'Repeat - weekly' || bookings.bookingType == 'Repeat - Daily' ? (\n                              <div>\n                                <Row>\n                                  <Col>\n                                    <strong>Repeat Until:</strong>\n                                  </Col>\n                                  <Col>\n                                    {bookings.bookingUntil}\n                                  </Col>\n                                </Row>\n                              </div>\n                            ) : null}\n                            {bookings.comments != '' ? (<div>\n                              <Row>\n                              <Col>\n                                <br /><strong>Comments</strong>\n                              </Col>\n                            </Row>\n                            <Row>\n                              <Col>\n                                {bookings.comments}\n                              </Col>\n                            </Row>\n                            </div>) : null}\n                            \n                              <br /> <br />{user.role != 'user' ? <Button variant='primary' onClick={handleDeleteBooking}>Delete</Button> : null}\n                      </div>\n                    </div>\n                    </Col>\n                  </Row>\n                </Col>                \n              </Row>\n            </Jumbotron>\n        </Container>\n        <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n          </Modal>\n          <Modal show={modalYN.open} onHide={handleModalYNClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalYN.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalYN.message}</Modal.Body>\n            <Modal.Footer>\n            {modalYN.showAccept ? (<div>\n                <Button variant=\"primary\" onClick={modalYN.acceptFunction}>\n                    {modalYN.acceptName}\n                </Button>\n            </div>) : null}\n            {modalYN.showCancel ? (<div>\n                <Button variant=\"primary\" onClick={handleModalYNClose}>\n                    {modalYN.cancelName}\n                </Button>\n            </div>) : null}\n            </Modal.Footer>\n        </Modal>\n    </div>\n  );\n}\n\nexport default OrganisationHome;","import React from 'react';\nimport { Card, Row, Col, Button } from 'react-bootstrap';\nimport Axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CollideBookingsForceUpdate } from '../../../store/actions/globalVars';\n\nfunction Collides_bookingSlot(props) {\n\n    const dispatch = useDispatch();\n    const globalVars = useSelector(state => state.globalVars);\n\n    function handleDelete(uuid) {\n        \n        const data = {orgID: props.orgID, bookingUUID: uuid};\n        Axios.post('/collide/deleteBooking', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.error == 'null') {\n                if(!globalVars.collideBookingsUpdate) {\n                    dispatch(CollideBookingsForceUpdate(true));\n                } else {\n                    dispatch(CollideBookingsForceUpdate(false));\n                }\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div>\n            <Card body className='collides_bookingSlot'>\n                 <Row>\n                    Booking - Room: {props.roomName}\n                </Row>\n                <Row>\n                    <Col>\n                        User: <br />{props.user}\n                    </Col>\n                    <Col>\n                        Description: <br/>{props.sessionDes}\n                    </Col>\n                    <Col>\n                        Booking Type:<br /> {props.bookingType} - {props.repeatType}\n                    </Col>\n                    <Col>\n                        Start Date: <br/> {props.startDate}\n                    </Col>\n                    <Col>\n                        Session: {props.session}\n                    </Col>\n                    <Col>\n                        Session Length: {props.sessionTotal}\n                    </Col>\n                    <Col>\n                        <Button variant='primary' onClick={() => handleDelete(props.uuid)}>Delete</Button>\n                    </Col>\n                </Row>\n            </Card>\n        </div>\n    )\n}\n\nexport default Collides_bookingSlot;","import React from 'react';\nimport { Card, Row, Col, Button } from 'react-bootstrap';\nimport Axios from 'axios';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { CollideBookingsForceUpdate } from '../../../store/actions/globalVars';\n\nfunction Collides_collideSlot(props) {\n\n    const dispatch = useDispatch();\n    const globalVars = useSelector(state => state.globalVars);\n\n    function handleDelete(bookingUUID, uuid) {\n        \n        const data = {orgID: props.orgID, bookingUUID: bookingUUID, collideUUID: uuid}\n        Axios.post('/collide/deleteCollide', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.error == 'null') {\n                if(!globalVars.collideBookingsUpdate) {\n                    dispatch(CollideBookingsForceUpdate(true));\n                } else {\n                    dispatch(CollideBookingsForceUpdate(false));\n                }\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div>\n            <Card body className='collides_collideSlot'>\n                <Row>\n                    Collided Booking\n                </Row>\n                <Row>\n                    <Col>\n                        User: <br />{props.user}\n                    </Col>\n                    <Col>\n                        Description: <br/>{props.sessionDes}\n                    </Col>\n                    <Col>\n                        Booking Type:<br /> {props.bookingType}\n                    </Col>\n                    <Col>\n                        Start Date: <br/> {props.startDate}\n                    </Col>\n                    <Col>\n                        Session: {props.session}\n                    </Col>\n                    <Col>\n                        Session Length: {props.sessionTotal}\n                    </Col>\n                    <Col>\n                        <Button variant='primary' onClick={() => handleDelete(props.bookingUUID, props.uuid)}>Delete</Button>\n                    </Col>\n                </Row>\n            </Card>\n        </div>\n    )\n}\n\nexport default Collides_collideSlot;","import React, { useEffect, useState } from 'react';\nimport { Container, Jumbotron } from 'react-bootstrap'\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport Axois from 'axios';\nimport Axios from 'axios';\n\nimport BookingSlot from '../../components/pages/organisationAdmin/collides_bookingSlot';\nimport CollideSlot from '../../components/pages/organisationAdmin/collides_collideSlot';\n\nfunction CollisionBookings(props) {\n\n    const orgID = props.match.params.id;\n    const organisation = useSelector(state => state.organisation);\n    const globalVars = useSelector(state => state.globalVars);\n    const history = useHistory();\n\n    const [settings, setSettings] = useState({\n        bookings: [],\n    })\n\n\n    useEffect(() => {\n        onOpen();\n    }, [globalVars.collideBookingsUpdate]);\n    \n    function onOpen() {\n        if(!organisation.locked) {\n            history.push('/org/' + orgID);\n        } else {\n\n            const data = {orgID, orgID}\n            Axios.post('/organisation/collidedbookings', data)\n            .then(res => {\n                const data = res.data;\n\n                if(data.error != 'null') {\n                    history.push('/org/' + orgID + '/organisationAdmin');\n                } else {\n                    if(data.bookings.length > 0) {\n                        WorkBookings(data.bookings, data.collides, data.sessions);\n                    } else {\n                        history.push('/org/' + orgID + '/organisationAdmin');\n                    }\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    function WorkBookings(bookings, collides, sessions) {\n\n        for(const booking of bookings) {\n            \n            const sessionData = booking.sessions.split(',')[0];\n            const firstSession = sessionData.split('-')[1];\n            let layoutUUID = '';\n            let layout = ''\n\n            for(const room of organisation.rooms) {\n                if(room.uuid == booking.roomID) {\n                    booking.roomName = room.name;\n                    layoutUUID = room.layout;\n                }\n            }\n\n            for(const lay of organisation.layouts) {\n                if(lay.uuid == layoutUUID) {\n                    layout = lay.layout;\n                }\n            }\n\n            if(layout == 'Timetable') {\n                for(const sess of sessions) {\n                    if(sess.layoutUUID == layoutUUID && formatString(sess.id) == firstSession) {\n                        if(firstSession.includes('b')) {\n                            if(sess.breakText != '') {\n                                booking.firstSession = sess.breakText;\n                            } else {\n                                booking.firstSession = firstSession;\n                            }\n                        } else {\n                            if(sess.customText != '') {\n                                booking.firstSession = sess.customText;\n                            } else {\n                                booking.firstSession = firstSession;\n                            }\n                        }\n                    }\n                }\n            } else if(layout == 'Diary') {\n                booking.firstSession = firstSession[0] + firstSession[1] + ':' + firstSession[2] + firstSession[3];\n            }\n\n            const collideUUIDs = booking.collideUUID.split(',');\n\n            let bookingCollides = [];\n            for(const uuid of collideUUIDs) {\n\n                for(const collide of collides) {\n\n                    if(collide.uuid == uuid) {\n                        const cSessionData = collide.sessions.split(',')[0];\n                        const cFirstSession = cSessionData.split('-')[1];\n                        \n                        if(layout == 'Timetable') {\n                            for(const sess of sessions) {\n                                if(sess.layoutUUID == layoutUUID && formatString(sess.id) == cFirstSession) {\n                                    if(cFirstSession.includes('b')) {\n                                        if(sess.breakText != '') {\n                                            collide.firstSession = sess.breakText;\n                                        } else {\n                                            collide.firstSession = cFirstSession;\n                                        }\n                                    } else {\n                                        if(sess.customText != '') {\n                                            collide.firstSession = sess.customText;\n                                        } else {\n                                            collide.firstSession = cFirstSession;\n                                        }\n                                    }\n                                }\n                            }\n                        } else if(layout == 'Diary') {\n                            collide.firstSession = cFirstSession[0] + cFirstSession[1] + ':' + cFirstSession[2] + cFirstSession[3];\n                        }\n\n                        bookingCollides.push(collide);\n                    }\n                }\n            }\n\n            booking.collideBookings = bookingCollides;\n        }\n\n        setSettings(prevState => {\n            return {...prevState, bookings: bookings}\n        });\n    }\n\n    function formatString(time) {\n        \n        if(time.toString().includes('b')) {\n            time = time.replace('b', '');\n    \n            if(time.toString().length == 1) {\n                return 'b0' + time;\n            } else {\n                return time;\n            }\n        } else {\n            if(time.toString().length == 1) {\n                return '0' + time;\n            } else {\n                return time;\n            }\n        }\n    }\n\n    return (\n        <div className='body'>\n            <Container fluid className='p-3'>\n                <Jumbotron className='back-color'>\n                    <h1>Collision Bookings</h1>\n                    <br />\n                    {settings.bookings.map((booking, index) => {\n                        return(<div key={index}>\n                            <BookingSlot orgID={orgID} uuid={booking.uuid} roomName={booking.roomName} user={booking.user} sessionDes={booking.sessionDes} bookingType={booking.bookingType} repeatType={booking.repeatType} startDate={booking.startDate} sessionTotal={booking.sessionTotal} session={booking.firstSession}/>\n\n                            {settings.bookings[index].collideBookings.map((collide, index) => {\n                                return <CollideSlot orgID={orgID} bookingUUID={booking.uuid} uuid={collide.uuid} key={index} user={collide.user} sessionDes={collide.sessionDes} bookingType={collide.bookingType} startDate={collide.startDate} sessionTotal={collide.sessionTotal} session={collide.firstSession}/>\n                            })}\n                            <br />\n                        </div>) \n                    })}\n                </Jumbotron>\n            </Container>\n        </div>\n    )\n}\n\nexport default CollisionBookings;","import Axios from 'axios';\nimport React, { useEffect, useState } from 'react'\nimport { Button, Col, Container, Jumbotron, Row, Modal } from 'react-bootstrap';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { userUpdateRole, userUpdateSARequest} from '../../store/actions/user';\nimport { UpdateForceSignIn, UpdateFromSignIn } from '../../store/actions/globalVars';\n\nfunction ChangeOfSeniorRequest(props) {\n\n    const orgID = props.match.params.id;\n    const user = useSelector(state => state.user);\n    const globalVars = useSelector(state => state.globalVars);\n    const dispatch = useDispatch();\n\n    const [settings, setSettings] = useState({\n        organisation: {}\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleModalClose() {\n        \n        if(globalVars.forceSignIn) {\n            dispatch(UpdateFromSignIn(true));\n            dispatch(UpdateForceSignIn(false));\n        } else {\n            dispatch(UpdateFromSignIn(true));\n            dispatch(UpdateForceSignIn(true));\n        }\n        \n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    })\n    }\n\n    useEffect(() => {\n        onOpen();\n    }, [])\n\n    function onOpen() {\n\n        const data = {orgID: orgID}\n        Axios.post('/organisation/getSARData', data)\n        .then(res => {\n            console.log(res.data.org);\n            setSettings({organisation: res.data.org});\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleAccept() {\n\n        const data = {orgID, orgID, invate: 'Accept', newUserID: user.uuid}\n        Axios.post('/organisation/SAInvate', data)\n        .then(res => {\n            console.log(res.data);\n            if(res.data.message == 'Senior Admin Updated') {\n                dispatch(userUpdateRole(res.data.role));\n                dispatch(userUpdateSARequest(''));\n\n                setModal({heading: 'Request Accepted', open: true})\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleDecline() {\n\n        const data = {orgID, orgID, invate: 'Decline', newUserID: user.uuid}\n        Axios.post('/organisation/SAInvate', data)\n        .then(res => {\n            \n            if(res.data.message =='Senior Admin Request Declined') {\n                dispatch(userUpdateSARequest(''));\n\n                if(globalVars.forceSignIn) {\n                    dispatch(UpdateFromSignIn(true));\n                    dispatch(UpdateForceSignIn(false));\n                } else {\n                    dispatch(UpdateFromSignIn(true));\n                    dispatch(UpdateForceSignIn(true));\n                }\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div className='body changeOfSenior'>\n        <Container className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n                <h1>Change of Senior Admin Request</h1><br/>\n                <p>You are viewing this screen because {settings.organisation.POC_Name} has requested a change of Senior Admin role to you. </p>\n                <p>This means that you will be responible for the admin side of your organisation.</p>\n                <p>If you require help, please speak to {settings.organisation.POC_Name} or contact High-View Studios</p>\n                <p>Do you want to Accept or Decline this invitation?</p>\n                <Row>\n                    <Col>\n                        <Button variant='primary' onClick={handleAccept}>Accept</Button>\n                    </Col>\n                    <Col>\n                        <Button variant='primary' onClick={handleDecline}>Decline</Button>\n                    </Col>\n                </Row>\n            </Jumbotron>\n        </Container>\n        <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                <p>You are now the Senior Admin of this organisation.</p>\n                <p>To get to the Admin side, go on the organisation page drop-down at the top-right of the screen</p>\n                </Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default ChangeOfSeniorRequest;","import React, { createContext, useState } from 'react';\n\nexport const GUserContext = createContext();\n\nfunction GUserContextProvider(props) {\n\n    const [GUser, setGUser] = useState({\n        uuid: 0,\n        fromDetails: false\n    });\n\n    function setGUserID(id) {\n\n        setGUser(prevState => {\n            return {...prevState, uuid: id};\n        });\n    }\n\n    function setFromDetails(value) {\n\n        setGUser(prevState => {\n            return {...prevState, fromDetails: value}\n        })\n    }\n\n    return (\n        <GUserContext.Provider value={{GUser, setGUserID, setFromDetails}}>\n            {props.children}\n        </GUserContext.Provider>\n    )\n}\n\nexport default GUserContextProvider;","import React, { useContext, useEffect, useState } from 'react'\nimport { GUserContext } from '../../context/GUserContext';\nimport { useHistory } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\nimport {Container, Jumbotron, Col, Row, Form, Button, ListGroup, Modal} from 'react-bootstrap'\nimport Axios from 'axios';\n\nfunction UserDetails(props) {\n\n    const orgID = props.match.params.id;\n    const organisation = useSelector(state => state.organisation);\n\n    const { GUser } = useContext(GUserContext);\n    const history = useHistory();\n\n    const [user, setUser] = useState({\n        name: '',\n        email: '',\n        roles: true,\n        role_User: false,\n        role_Admin: false,\n        role_SeniorAdmin: false,\n        departments: [],\n        depToUser: ''\n    });\n\n    const [modalChangeSA, setModalChangeSA] = useState({\n        open: false\n    });\n\n    function handleModalChangeSAClose() {\n        setModalChangeSA(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    const [modalYN, setModalYN] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        acceptFunction: '',\n        acceptName: '',\n        showAccept: false,\n        cancelName: '',\n        showCancel: false\n    });\n\n    const [modalTO, setModalTO] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        option1Function: '',\n        option1Name: '',\n        showOption1: false,\n        option2Function: '',\n        option2Name: '',\n        showOption2: false\n    });\n\n    function handleModalYNClose() {\n        setModalYN(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalTOClose() {\n        setModalTO(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    useEffect(() => {\n        onOpen();\n    }, []);\n\n    function handleRadioChange(event) {\n\n        const { name } = event.target;\n\n        if(name == 'role_User') {\n            setUser(prevState => {\n                return {...prevState,\n                role_Admin: false,\n                role_User: true}\n            })\n        }\n        if(name == 'role_Admin') {\n            setUser(prevState => {\n                return {...prevState,\n                role_Admin: true,\n                role_User: false}\n            })\n        }\n    }\n\n    function onOpen() {\n\n        const data = {uuid: GUser.uuid}\n        Axios.post('/organisation/getJustUser', data)\n        .then(res => {\n            const data = res.data;\n            console.log(data);\n            if(data.error == 'no user') {\n                history.push('/org/' + orgID + '/organisationAdmin');\n            } else {\n                setUser(prevState => {\n                    return {...prevState, name: data.user.displayName, email: data.user.email, departments: ConvertIDsToDepartments(data.user.departments)};\n                });\n            }\n            if(data.user.role == 'seniorAdmin') {\n                setUser(prevState => {\n                    return {...prevState, roles: false, role_SeniorAdmin: true, role_Admin: false, role_User: false};\n                });\n            } else if(data.user.role == 'admin') {\n                setUser(prevState => {\n                    return {...prevState, roles: true, role_SeniorAdmin: false, role_Admin: true, role_User: false};\n                });\n            } else if(data.user.role == 'user') {\n                setUser(prevState => {\n                    return {...prevState, roles: true, role_SeniorAdmin: false, role_Admin: false, role_User: true};\n                });\n            }\n            \n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function ConvertIDsToDepartments(IDs) {\n\n        const userDepartments = IDs.split(',');\n\n        let departmentArray = [];\n\n        for(const department of userDepartments) {\n\n            for( const dep of organisation.departments) {\n                if(dep.uuid == department) {\n                    departmentArray.push(dep.name);\n                }\n            }\n        }\n\n        return departmentArray;\n    }\n\n    function handleClickedItem_Deparment(name) {\n        \n        setUser(prevState => {\n            return {...prevState, depToUser: name}\n        });\n    }\n\n    function handleAddDepToUser() {\n\n        if(!user.departments.includes(user.depToUser)) {\n            setUser(prevState => {\n                return {...prevState, departments: [...user.departments, user.depToUser]}\n            });\n        }\n    }\n\n    function hanldeRemoveDepFromUser() {\n\n        if(user.departments.includes(user.depToUser)) {\n            const newDep = user.departments.filter(name => {\n                return name != user.depToUser;\n            })\n\n            setUser(prevState => {\n                return {...prevState, departments: newDep}\n            })\n        }\n    }\n\n    function handleChange(event) {\n\n        const { name, value } = event.target;\n\n        setUser(prevState => {\n            return {... prevState, [name]: value}\n        })\n    }\n\n    function handleUpdate() {\n\n        const departments = ConvertDepartmentsToIDs();\n        \n        let role = '';\n        if(user.role_SeniorAdmin) role = 'seniorAdmin';\n        if(user.role_User) role = 'user';\n        if(user.role_Admin) role = 'admin';\n\n        const data = {uuid: GUser.uuid, name: user.name, email: user.email, role: role, departments: departments, orgID: orgID};\n\n        Axios.post('/organisation/updateUser', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.message == 'User updated successfully') {\n                setModal(prevState => {\n                    return {...prevState, heading: 'Update User', message: 'User has been updated', open: true};\n                });\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function ConvertDepartmentsToIDs() {\n\n        let departmentIndex = [];\n\n        for(const department of organisation.departments) {\n\n            if(user.departments.includes(department.name)) {\n                departmentIndex.push(department.uuid);\n            }\n        }\n        console.log(departmentIndex)\n\n        return departmentIndex.toString();\n    }\n\n    function handleSeniorAdminRequest() {\n\n        setModalChangeSA({open: true})\n    }\n\n    function handleAcceptOfSARequest() {\n\n        const data = {orgID: orgID, newUUID: GUser.uuid};\n        Axios.post('/organisation/changeSeniorAdmin', data)\n        .then(res => {\n            \n            if(res.data.message == 'Request sent successfully') {\n\n                setModalChangeSA({open: false});\n                setModal({heading: 'Change of Senior Admin Request', message: 'A request has been sent to ' + user.name, open: true});\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleUserChangeMethod() {\n\n        const data = {uuid: GUser.uuid};\n        Axios.post('/organisation/getUserLoginMethod', data)\n        .then(res => {\n\n            const method = res.data.method;\n\n            if(method == '') {\n\n                const message = res.data.name + \" has not logged into the website yet, you can choose which method you want them to log in with.\";\n\n                setModalTO({heading: 'Change Login Method', message: message, option1Name: 'Local', option2Name: 'Google', option1Function: acceptToChangeToLocal, option2Function: acceptToChangeToGoogle,\n                            showOption1: true, showOption2: true, open: true})\n\n            } else {\n            let newMethod;\n            if(method == 'local') {\n                newMethod = 'google'\n            } else if(method == 'google') {\n                newMethod = 'local'\n            }\n\n            const message = res.data.name + \"'s login method is \" + method + \". Are you sure you want to change it to a \" + newMethod + \" method?\";\n\n            setModalYN({heading: 'Change Login Method', message: message, acceptName: 'Yes', acceptFunction: () => {acceptToChangeMethods(GUser.uuid, newMethod, orgID)}, showAccept: true, cancelName: 'No', showCancel: true, open: true});    \n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function acceptToChangeMethods(id, newMethod, orgID) {\n\n        setModalYN({open: false});\n        \n        const data = {orgID: orgID, uuid: id, method: newMethod}\n        Axios.post('/organisaation/changeUserLoginMethod', data)\n        .then(res => {\n            if(res.data.message == 'Strategy Updated') {\n                setModal({heading: 'Change Login Method', message: \"This user's login method has now been changed\", open: true})\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function acceptToChangeToGoogle() {\n\n        setModalTO({open: false});\n\n        const data = {orgID: orgID, uuid: GUser.uuid, method: 'google'}\n        Axios.post('/organisaation/changeUserLoginMethod', data)\n        .then(res => {\n            if(res.data.message == 'Strategy Updated') {\n                setModal({heading: 'Change Login Method', message: \"This user's login method has now been changed\", open: true})\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function acceptToChangeToLocal() {\n\n        setModalTO({open: false});\n\n        const data = {orgID: orgID, uuid: GUser.uuid, method: 'local'}\n        Axios.post('/organisaation/changeUserLoginMethod', data)\n        .then(res => {\n            if(res.data.message == 'Strategy Updated') {\n                setModal({heading: 'Change Login Method', message: \"This user's login method has now been changed\", open: true})\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleRemove() {\n\n        if(user.role_SeniorAdmin) {\n            setModal({heading: 'Remove User', message: 'You cannot delete a Senior Admin', open: true});\n        } else {\n\n            setModalYN({heading: 'Remove User', message: 'Are you sure you want to remove this user and all their bookings?', acceptName: 'Yes', acceptFunction: acceptRemove, showAccept: true, showCancel: true, cancelName: 'No', open: true});\n        }\n    }\n\n    function acceptRemove() {\n\n        setModalYN({open: false});\n\n        const data = {uuid: GUser.uuid, orgID: orgID};\n\n            Axios.post('/organisation/removeUser', data)\n            .then(res => {\n                const data = res.data;\n\n                if(data.message == 'User removed successfully') {\n                    setModal(prevState => {\n                        return {...prevState, heading: 'Remove User', message: 'User has been removed and deleted', open: true};\n                    });\n\n                    history.push('/org/'+orgID+'/organisationAdmin');\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n    }\n\n    return (\n        <div>\n            <Container fluid className=\"p-3\">\n                <Jumbotron className=\"back-color\">\n                    <h1>User Details</h1>\n\n                    <Row>\n                        <Col>\n                            <div className='normal-text'>\n                                <Form>\n                                    <Form.Row>\n                                    <Form.Group as={Col}>\n                                        <Form.Label id='lblName'><strong>Name:</strong></Form.Label>\n                                        <Form.Control id='txtName' name='name' type='text' value={user.name} onChange={handleChange}/>\n                                    </Form.Group>\n                                    </Form.Row>\n                                    <Form.Row>\n                                    <Form.Group as={Col}>\n                                        <Form.Label id='lblEmail'><strong>Email:</strong></Form.Label>\n                                        <Form.Control id='txtEmail' name='email' type='text' value={user.email} onChange={handleChange}/>\n                                    </Form.Group>\n                                    </Form.Row>\n                                    <Form.Row>\n                                        <Form.Group as={Col}>\n                                        <div className={user.roles ? null : 'roles-hidden'}>\n                                            <Form.Label id=\"lblRole\"><strong>Role:</strong></Form.Label>\n                                            <Form.Check id=\"radRoleUser\" type=\"radio\" name='role_User' checked={user.role_User} onChange={handleRadioChange} label=\"User\" /> \n                                            <Form.Check id=\"radRoleAdmin\" type=\"radio\" name='role_Admin' checked={user.role_Admin} onChange={handleRadioChange} label=\"Admin\" />\n                                        </div>\n                                        </Form.Group>\n                                    </Form.Row>\n                                    <Form.Row>\n                                        <Form.Group as={Col}>\n                                            <Form.Label id=\"lblDepartmentsTitle\"><strong>Departments:</strong></Form.Label> <br />\n                                            {user.departments.length == 0 ? (\n                                                <div className='departments-hidden'>\n                                                    <Form.Label>---</Form.Label>\n                                                </div>): (\n                                                <div>\n                                                    <Form.Label id=\"lblDepartments\">{user.departments.toString()}</Form.Label>\n                                                </div>)}\n                                        </Form.Group>\n                                        </Form.Row>\n                                </Form>\n                            </div>\n                        </Col>\n                        <Col>\n                            <h3><strong>Departments</strong></h3>\n                            <Row>\n                                <Col>\n                                    <Button onClick={handleAddDepToUser}>Add</Button><br />\n                                    <Button onClick={hanldeRemoveDepFromUser}>Remove</Button>\n                                </Col>\n                                <Col>\n                                    \n                                    <div className='scrollable-250 normal-text'>\n                                        <ListGroup>\n                                            {organisation.departments.map((department, index) => {\n                                                return <ListGroup.Item key={index} action onClick={() => { handleClickedItem_Deparment(department.name) }}>{department.name}</ListGroup.Item>\n                                            })}\n                                        </ListGroup>\n                                    </div>\n                                    <div className='add-button'>\n                                        <Button onClick={handleUpdate}>Update User</Button>\n                                    </div>\n                                </Col>\n                             </Row>\n                        </Col>\n                        <Col>\n                            <div>\n                                <h3><strong>Advanced Actions</strong></h3>\n                                <Button onClick={handleSeniorAdminRequest}>S/A Request</Button> <br />\n                                <Button onClick={handleUserChangeMethod}>Change Login Method</Button><br />\n                                <Button onClick={handleRemove}>Remove</Button>\n                            </div>\n                        </Col>\n                    </Row>\n                </Jumbotron>\n            </Container>\n\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n            <Modal show={modalChangeSA.open} onHide={handleModalChangeSAClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>Change of Senior Admin Request</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <p>You are requesting {user.name} to change roles to the Senior Admin of this organisation. You can only have ONE Senior Admin per organisation, so this means you will not have access to the administrator panel for this organisation. Your role will change to Admin</p>\n                <p>This user will also be to new ‘point of contact’ for High-View Studios.</p>\n                <p>This user will be sent an email and they have to accept the request. In the meantime you will still have access.</p>\n                <p>You and High-View Studios will be notified when this request has been accepted.</p>\n                <p>Do you want to continue?</p>\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleAcceptOfSARequest}>\n                    Yes\n                </Button>\n                <Button variant=\"primary\" onClick={handleModalChangeSAClose}>\n                    No\n                </Button>\n            </Modal.Footer>\n        </Modal>\n        <Modal show={modalYN.open} onHide={handleModalYNClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalYN.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalYN.message}</Modal.Body>\n            <Modal.Footer>\n            {modalYN.showAccept ? (<div>\n                <Button variant=\"primary\" onClick={modalYN.acceptFunction}>\n                    {modalYN.acceptName}\n                </Button>\n            </div>) : null}\n            {modalYN.showCancel ? (<div>\n                <Button variant=\"primary\" onClick={handleModalYNClose}>\n                    {modalYN.cancelName}\n                </Button>\n            </div>) : null}\n            </Modal.Footer>\n        </Modal>\n        <Modal show={modalTO.open} onHide={handleModalTOClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalTO.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalTO.message}</Modal.Body>\n            <Modal.Footer>\n            {modalTO.showOption1 ? (<div>\n                <Button variant=\"primary\" onClick={modalTO.option1Function}>\n                    {modalTO.option1Name}\n                </Button>\n            </div>) : null}\n            {modalTO.showOption2 ? (<div>\n                <Button variant=\"primary\" onClick={modalTO.option2Function}>\n                    {modalTO.option2Name}\n                </Button>\n            </div>) : null}\n            </Modal.Footer>\n        </Modal>\n        </div>\n    )\n}\n\nexport default UserDetails","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch } from 'react-redux';\nimport { userUpdateNew } from '../store/actions/user';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport { Form } from 'react-bootstrap';\n\nfunction ForgotPassword(props) {\n\n  const organisationID = props.match.params.id;\n\n  const history = useHistory();\n  const [message, setmessage] = useState('');\n  const [sent, setSent] = useState(false);\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n  },[]);\n\n  function requestPassword(event) {\n    event.preventDefault();\n\n    const email = document.getElementById('txtEmail').value;\n\n    if(email != '')\n    {\n      const data = {email : email};\n      axios.post('/requestPassword/', data)\n      .then(res => {\n        if(res.data.userError == \"Yes\") {\n          setmessage(res.data.message);\n        } else {\n          setSent(true);\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n    }\n}\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h1>Forgot your password?</h1>\n        {sent ? (\n          <div>\n          <h3>Your new password has been requested, please check your email</h3>\n          <Button variant=\"warning\" onClick={() => history.push('/org/' + organisationID + '/signIn')}>Back to Sign In</Button><br /><br />\n          </div>\n        ) : (\n          <div>\n            <h3>Please enter your email below:</h3><br/>\n            <form>\n              <Form.Control id=\"txtEmail\" type=\"email\" required /><br /> <br />\n              <p>{message}</p>\n              <Button type='submit' variant=\"warning\" onClick={requestPassword}>Request New Password</Button><br /><br />\n            </form><br />\n          </div>\n            )}\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default ForgotPassword;\n","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userUpdateRequestedPassword } from '../store/actions/user';\nimport { UpdateForceSignIn, UpdateFromSignIn } from '../store/actions/globalVars';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction ChangePassword(props) {\n\n  const [message, setmessage] = useState('');\n  const [passwordHelp, setPasswordHelp] = useState(false);\n  const dispatch = useDispatch();\n  const globalVars = useSelector(state => state.globalVars);\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n  },[]);\n\n  function setPassword(event) {\n    event.preventDefault();\n\n    const oldPassword = document.getElementById('txtCurrentPassword').value;\n    const newPassword = document.getElementById('txtNewPassword').value;\n    const confirmPassword = document.getElementById('txtConfirmPassword').value;\n\n    if(oldPassword != '' && newPassword != '' && confirmPassword != '')\n    {\n      const data = { oldPassword: oldPassword, newPassword: newPassword, confirmPassword: confirmPassword};\n      \n      axios.post('/changePassword', data)\n      .then(res => {\n        if(res.data.userError == 'Yes') {\n          if(res.data.message == 'Your password is not strong enough') {\n            setmessage(res.data.message);\n            setPasswordHelp(true);\n          } else {\n            setPasswordHelp(false);\n            setmessage(res.data.message);\n          }\n        } else {\n          if(res.data.message == 'Updated user password') {\n            dispatch(userUpdateRequestedPassword(res.data.user.requestedPassword));\n            if(globalVars.forceSignIn) {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(false));\n            } else {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(true));\n            }\n          }\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n    }\n}\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h1>Please create a new password</h1>\n        <form>\n          <label id=\"lblCurrentPassword\">Current Password:</label><br />\n          <input id=\"txtCurrentPassword\" type=\"password\" required /><br /><br />\n          <label id=\"lblNewPassword\">New Password:</label><br />\n          <input id=\"txtNewPassword\" type=\"password\" required /><br /> <br />\n          <label id=\"lblConfirmPassword\">Confirm Password:</label><br />\n          <input id=\"txtConfirmPassword\" type=\"password\" required /><br /> <br />\n          <p>{message}</p>\n          {passwordHelp ? (\n            <div className='password-help-text'>\n              Your password must contain at least 1 uppercase, 1 lowercase, 1 number & 1 special character. It also requires to be a minimum 8 characters in length\n          </div>) : null}\n          <Button type='submit' variant=\"warning\" onClick={setPassword}>Set Password</Button><br /><br />\n        </form><br />\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default ChangePassword;\n","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { userUpdateNew } from '../store/actions/user';\nimport { UpdateForceSignIn, UpdateFromSignIn } from '../store/actions/globalVars';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction CreatePassword(props) {\n\n  const [message, setmessage] = useState('');\n  const [passwordHelp, setPasswordHelp] = useState(false);\n  const dispatch = useDispatch();\n  const globalVars = useSelector(state => state.globalVars);\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n  },[]);\n\n  function setPassword(event) {\n    event.preventDefault();\n\n    const oldPassword = document.getElementById('txtCurrentPassword').value;\n    const newPassword = document.getElementById('txtNewPassword').value;\n    const confirmPassword = document.getElementById('txtConfirmPassword').value;\n\n    if(oldPassword != '' && newPassword != '' && confirmPassword != '')\n    {\n      const data = { oldPassword: oldPassword, newPassword: newPassword, confirmPassword: confirmPassword};\n\n      axios.post('/createPassword', data)\n      .then(res => {\n        if(res.data.userError == 'Yes') {\n          if(res.data.message == 'Your password is not strong enough') {\n            setmessage(res.data.message);\n            setPasswordHelp(true);\n          } else {\n            setPasswordHelp(false);\n            setmessage(res.data.message);\n          }\n        } else {\n          if(res.data.message == 'Updated user first password') {\n            dispatch(userUpdateNew(res.data.user.new));\n            if(globalVars.forceSignIn) {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(false));\n            } else {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(true));\n            }\n          }\n        }\n      })\n      .catch(err => {\n        console.log(err);\n      })\n    }\n}\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h1>Hello, and welcome to My STAFF</h1>\n        <h3>Please create a new password</h3>\n        <form>\n          <label id=\"lblCurrentPassword\">Current Password:</label><br />\n          <input id=\"txtCurrentPassword\" type=\"password\" required /><br /><br />\n          <label id=\"lblNewPassword\">New Password:</label><br />\n          <input id=\"txtNewPassword\" type=\"password\" required /><br /> <br />\n          <label id=\"lblConfirmPassword\">Confirm Password:</label><br />\n          <input id=\"txtConfirmPassword\" type=\"password\" required /><br /> <br />\n          <p>{message}</p>\n          {passwordHelp ? (\n            <div className='password-help-text'>\n              Your password must contain at least 1 uppercase, 1 lowercase, 1 number & 1 special character. It also requires to be a minimum 8 characters in length\n          </div>) : null}\n          <Button type='submit' variant=\"warning\" onClick={setPassword}>Set Password</Button><br /><br />\n        </form><br />\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default CreatePassword;\n","import React, { useState, useEffect} from 'react';\nimport axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport ServerPath, { hostPath } from \"../ServerPath\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { UpdateForceSignIn, UpdateFromSignIn } from '../store/actions/globalVars';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction WrongOrganisation(props) {\n\n  const organisationID = props.match.params.id;\n\n  const globalVars = useSelector(state => state.globalVars);\n  const user = useSelector(state => state.user);\n  const history = useHistory();\n  const dispatch = useDispatch();\n\n  useEffect(() => {\n    document.title = \"STAFF - Not Connected\";\n  },[])\n\n  function toOrgSignIn() {\n    \n    if(globalVars.forceSignIn) {\n      dispatch(UpdateFromSignIn(true));\n      dispatch(UpdateForceSignIn(false));\n    } else {\n      dispatch(UpdateFromSignIn(true));\n      dispatch(UpdateForceSignIn(true));\n    }\n  }\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n        <h3>Sorry, this is not your organisation</h3><br /> <br />\n        <Button variant=\"warning\" onClick={toOrgSignIn}>Back to my organisation</Button><br /><br />\n      </Jumbotron>\n    </Container>\n    </div>\n  );\n}\n\nexport default WrongOrganisation;\n","import React, {useState} from 'react';\nimport {useSelector, useDispatch} from 'react-redux';\nimport { orgUpdateSignInLocal, orgUpdateSignInGoogle, orgUpdateMessage } from \"../../store/actions/organistion\";\nimport Shepherd from 'shepherd.js';\nimport \"../../../node_modules/shepherd.js/dist/css/shepherd.css\";\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Collapse from \"react-bootstrap/Collapse\";\nimport Form from \"react-bootstrap/Form\";\nimport { Row, Col } from 'react-bootstrap';\nimport Image from 'react-bootstrap/Image';\nimport plus from \"../../public/images/plus.png\";\nimport minus from \"../../public/images/minus.png\";\nimport Axios from 'axios';\n\nfunction LoginSettings(props) {\n\n    const orgID = props.orgID;\n\n    const organisation = useSelector(state => state.organisation);\n    const dispatch = useDispatch();\n\n    const [loginSettings, setLoginSettings] = useState({\n        open: false,\n        auth_local: false,\n        auth_google: false,\n        message: '',\n        save: false,\n        showSave: false\n      });\n\n    //TOUR\n    const tour = new Shepherd.Tour({\n      defaultStepOtions: {\n        classes: 'shepherd',\n        scrollTo: true\n      },\n      useModalOverlay: true\n    });\n\n    tour.addStep({\n      id: 'example-step',\n      title: 'Message',\n      text: 'This step is attached to the bottom of the <code>.example-css-selector</code> element.',\n      attachTo: {\n        element: '.example-class-selector',\n        on: 'bottom'\n      },\n      classes: '',\n      buttons: [\n        {\n          text: 'NEXT',\n          action: tour.next\n        }\n      ]\n    });\n\n    function handleTourStart() {\n        tour.start();\n    }\n\n    function openLogin() {\n\n        if(!loginSettings.open) {\n          setLoginSettings(prevState => {\n            return {...prevState,\n            auth_local: organisation.signInLocal,\n            auth_google: organisation.signInGoogle,\n            message: organisation.message,\n            open: true }\n          });\n        } else {\n          setLoginSettings(preState => {\n            return {...preState, open: false}\n          });\n        }\n      }\n    \n    function handleCheckChange(event) {\n\n        const {name, checked} = event.target;\n        setLoginSettings((prevState) => {\n          return {...prevState, [name]: Boolean(checked),\n          showSave: true}\n        })\n    \n        console.log(name)\n      }\n    \n      function handleTextChange(event) {\n    \n        const {name, value} = event.target;\n        setLoginSettings((prevState) => {\n          return {...prevState, [name]: value,\n          showSave: true}\n        })\n      }\n    \n      function updateLoginSettings(event) {\n        event.preventDefault();\n    \n        const auth_local = document.getElementById('LoginSettings_ckbLocal').checked;\n        const auth_google = document.getElementById('LoginSettings_ckbGoogle').checked;\n        const message = document.getElementById('LoginSettings_txtMessage').value;\n    \n        const data = {orgID: orgID, auth_local: auth_local.toString(), auth_google: auth_google.toString(), message: message};\n    \n        Axios.post('/organisation/updateLoginSettings', data)\n        .then( res => {\n          if(res.data.message == 'Login settings updated successfully') {\n            dispatch(orgUpdateSignInLocal(auth_local));\n            dispatch(orgUpdateSignInGoogle(auth_google));\n            dispatch(orgUpdateMessage(message));\n    \n            setLoginSettings(preState => {\n              return {...preState, save: true}\n            });\n    \n            const timer = setTimeout(() => {\n              setLoginSettings(preState => {\n                return {...preState, save: false, showSave: false, open: false}\n              });\n      \n            }, 2000)\n          }\n        })\n        .catch (err => {\n          console.log(err);\n        })\n    \n      }\n    \n    return (\n        <div>\n            <table width='100%' border='1px'>\n                <thead>\n                  <tr>\n                    <th>\n                      <div className=\"heading-text\"> <Image className=\"plus-image\" src={loginSettings.open ? minus : plus} onClick={openLogin} /> Login Settings</div><br />\n                      <Collapse in={loginSettings.open}> \n                      <div>\n                        <div className='margin-text-hide'>\n                          <Button variant='primary' onClick={handleTourStart}>Tour</Button>\n                        </div>\n                        <div className=\"normal-text\">\n                        <Row>\n                        <Col>\n                          <Form>\n                            Login Options: \n                            <Form.Group as={Col}>\n                            <Form.Check id=\"LoginSettings_ckbLocal\" name=\"auth_local\" type=\"checkbox\" checked={loginSettings.auth_local} onChange={handleCheckChange} label=\"Local Login\" />\n                          </Form.Group>\n                          <Form.Group as={Col}>\n                            <Form.Check id=\"LoginSettings_ckbGoogle\" name=\"auth_google\" type=\"checkbox\" checked={loginSettings.auth_google} onChange={handleCheckChange} label=\"Google Login\" />\n                          </Form.Group>\n                          <Form.Label className='example-class-selector' id=\"LoginSettings_lblMessage\">Login Message:</Form.Label><br />\n                          <Form.Control id=\"LoginSettings_txtMessage\" name=\"message\" value={loginSettings.message} onChange={handleTextChange} type=\"text\" required></Form.Control>\n                          </Form>\n                          </Col>\n                          <Col></Col>\n                          </Row>\n                          </div>\n                          <div className={loginSettings.showSave ? \"submit-button-show\" : \"submit-button-hidden\"}>\n                         <Button variant='primary' type='submit' onClick={updateLoginSettings}>Save</Button> {loginSettings.save ? \"Saved!\" : null}\n                          </div>\n                        </div>\n                      </Collapse>\n                    </th>\n                  </tr>\n                </thead>\n              </table>\n        </div>\n    )\n}\n\nexport default LoginSettings;","import React, { useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { orgUpdateUseDepartments, orgUpdateNoOfDepartments, orgUpdateDepartments } from \"../../store/actions/organistion\";\nimport Axios from 'axios';\n\nimport Button from \"react-bootstrap/Button\"\nimport Collapse from \"react-bootstrap/Collapse\";\nimport Form from \"react-bootstrap/Form\";\nimport { Row, Col, ListGroup, Modal } from 'react-bootstrap';\nimport Image from 'react-bootstrap/Image';\nimport plus from \"../../public/images/plus.png\";\nimport minus from \"../../public/images/minus.png\";\n\n\nfunction DepartmentSettings(props) {\n\n    const orgID = props.orgID;\n\n    const organisation = useSelector(state => state.organisation);    \n    const dispatch = useDispatch();\n\n    const [remove, setRemove] = useState({\n        uuid: 0,\n        activeRemove: false\n    });\n\n    const [departments, setDepartments] = useState({\n        open: false,\n        saved: false,\n        showSave: false,\n        useDepartments: false,\n        aname: '',\n        names: []\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    })\n    }\n\n    function openDepartments() {\n\n        if(!departments.open) {\n            setDepartments(prevState => {\n                return {...prevState,\n                    useDepartments: organisation.useDepartments,\n                    names: organisation.departments,\n                    open: true\n                }\n            })\n        } else {\n            setDepartments(prevState => {\n                return {...prevState,\n                    open: false\n                }\n            })\n        }\n    }\n\n    function handleChecked(event) {\n\n        const {name, checked} = event.target;\n        console.log(checked);\n\n       setDepartments(prevState => {\n            return {...prevState, [name]: checked,\n            showSave: true}\n        });\n\n        const data = {useDepartments: checked.toString(), orgID: orgID};\n\n        Axios.post('/organisation/updateUseDepartments', data)\n        .then(res => {\n            console.log(res.data.useDepartments);\n\n            dispatch(orgUpdateUseDepartments(departments.useDepartments));\n        })\n        .catch( err => {\n            console.log(err);\n        })\n    }\n\n    function handleChanged(event) {\n\n        const {name, value} = event.target;\n\n        setDepartments(prevState => {\n            return {...prevState, [name]:value}\n        })\n    }\n\n    function handleAddDepartment() {\n\n        if(CheckDepartment(departments.aname)) {\n            \n            setModal(prevState => {\n                return {...prevState,\n                heading: 'Add Deparment',\n                message: 'There is already a department with this name',\n                open: true\n            }\n        });\n\n        } else {\n            const data = {orgID: orgID, departmentName: departments.aname};\n\n            Axios.post('/organisation/addDepartment', data)\n            .then(res => {\n                console.log(res.data);\n                dispatch(orgUpdateNoOfDepartments(res.data.noOfDepartments));\n                dispatch(orgUpdateDepartments(res.data.departments));\n\n                setDepartments(prevState => {\n                    return {...prevState, names: res.data.departments,\n                    aname: ''}\n                });\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    function CheckDepartment(name) {\n        let check = false;\n\n        for(const department of organisation.departments) {\n            if(department.name == name) {\n                check = true;\n                break;\n            }\n        }\n\n        return check;\n    }\n\n    function handleRemoveDepartment() {\n        if(remove.activeRemove) {\n\n            const data = {orgID: orgID, uuid: remove.uuid}\n\n            Axios.post('/organisatiton/removeDepartment', data)\n            .then(res => {\n\n                console.log(res.data);\n                dispatch(orgUpdateDepartments(res.data.departments));\n\n                setDepartments(prevState => {\n                    return {...prevState, names: res.data.departments}\n                });\n\n                setRemove(preState => {\n                    return {...preState, activeRemove: false }\n                });\n            })\n            .catch(err => {\n                console.log(err);\n            });\n\n        }\n    }\n\n    function handleItemOnClick(uuid) {\n        setRemove(prevState => {\n            return {...prevState, uuid: uuid, activeRemove: true}\n        })\n\n        console.log(uuid);\n    }\n\n    return (\n        <div>\n            <table width='100%' border='1px'>\n                <thead>\n                    <tr>\n                        <th>\n                        <div className=\"heading-text\"> <Image className=\"plus-image\" src={departments.open ? minus : plus} onClick={openDepartments} /> Departments</div><br />\n                            <Collapse in={departments.open}>\n                                <div>\n                                    <div className='margin-text-hide'>\n                                    -\n                                    </div>\n                                <div className=\"normal-text\">\n                                    <Row>\n                                        <Col>\n                                            <Form>\n                                                <Form.Check id=\"chkUseDepartments\" name=\"useDepartments\" label=\"Use Departments\" checked={departments.useDepartments} onChange={handleChecked}/><br />\n                                                <p>Add new department:</p>\n                                                <Form.Control type=\"text\" value={departments.aname} name=\"aname\" onChange={handleChanged} />\n                                                <div className=\"add-button\">\n                                                    <Button onClick={handleAddDepartment}>Add</Button>\n                                                </div>\n                                            </Form>\n                                        </Col>\n                                        <Col>\n                                            Departments:\n                                            <div className=\"scrollable-300\">\n                                            <ListGroup>\n                                                {departments.names.map((department, index) => {\n                                                   return <ListGroup.Item key={index} action onClick={() => { handleItemOnClick(department.uuid) }}>{department.name}</ListGroup.Item>\n                                                })}\n                                            </ListGroup>\n                                            </div>\n                                            <div className={remove.activeRemove ? \"remove-button-show\" : \"remove-button-hidden\"}>\n                                                    <Button onClick={handleRemoveDepartment}>Remove</Button>\n                                            </div>\n                                        </Col>\n                                    </Row>\n                                </div>\n                          </div>\n                            </Collapse>\n                        </th>\n                    </tr>\n                </thead>\n            </table>\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default DepartmentSettings;","import React, { useState, useContext, useEffect } from 'react';\nimport { Collapse, Image, Row, Col, Form, Button, Modal, ListGroup, Dropdown } from 'react-bootstrap';\n\nimport { GUserContext } from '../../context/GUserContext';\n\nimport plus from '../../public/images/plus.png';\nimport minus from '../../public/images/minus.png';\nimport { useSelector } from 'react-redux';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom'\n\nfunction Users(props) {\n\n    const { GUser, setGUserID, setFromDetails } = useContext(GUserContext);\n\n    const orgID = props.orgID;\n    const organisation = useSelector(state => state.organisation);\n    const history = useHistory();\n\n    useEffect(() => {\n\n        if(GUser.fromDetails) {\n            setSettings(prevState => {\n                return {...prevState, open: true}\n            });\n            getAllOrgUsers();\n            setFromDetails(false);\n        }\n    }, [])\n\n    const [settings, setSettings] = useState({\n        open: false,\n        name: '',\n        email: '',\n        role_User: false,\n        role_Admin: false,\n        role_SeniorAdmin: false,\n        multiAdd: false,\n        departments: [],\n        depToUser: '',\n        userDepartments: [],\n        users: [],\n        edit: false,\n        editID: 0,\n        roles: true\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function openTab() {\n\n        if(!settings.open) {\n            setSettings(prevState => {\n                return {...prevState, open: true}\n            })\n\n            getAllOrgUsers();\n        } else {\n            setSettings(prevState => {\n                return {...prevState, open: false}\n            })\n        }\n    }\n\n    function getAllOrgUsers() {\n\n        const data = {orgID: orgID};\n\n        Axios.post('/organisation/getUsers', data)\n        .then(res => {\n            console.log(res.data)\n            setSettings(prevState => {\n                return {...prevState, users: res.data.users}\n            })\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleMultipleAdd() {\n        setModal(prevState => {\n            return {...prevState,\n                heading: 'Multiple Add',\n                message: 'The feature is not advailable yet',\n                open: true\n        }\n    })\n    }\n\n    function handleSingleAdd() {\n\n        if(settings.name == '' || settings.email == '') {\n            setModal(prevState => {\n                return {...prevState,\n                    heading: 'Required',\n                    message: 'Please fill in the name and email field.',\n                    open: true\n                }\n            });\n        } else if(!settings.role_User && !settings.role_Admin){\n            setModal(prevState => {\n                return {...prevState,\n                    heading: 'Role',\n                    message: 'Please pick a role.',\n                    open: true\n                }\n            });\n        } else {\n            const departments = ConvertDepartmentsToIDs();\n            \n            let role = '';\n            if(settings.role_User) role = 'user';\n            if(settings.role_Admin) role = 'admin';\n\n            const data = {orgID: orgID, name: settings.name, email: settings.email, role: role, departments: departments};\n\n            Axios.post('/organisation/addUser', data)\n            .then(res => {\n                const data = res.data;\n\n                if(data.userError == \"Yes\") {\n                    setModal(prevState => {\n                        return {...prevState,\n                            heading: 'Add User',\n                            message: data.message,\n                            open: true\n                        }\n                    });\n                } else {\n                    setSettings(prevState => {\n                        return {...prevState, \n                            users: res.data.users,\n                            name: '',\n                            email: '',\n                            role_User: false,\n                            role_Admin: false,\n                            userDepartments: []\n                            }\n                    })\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    function ConvertDepartmentsToIDs() {\n\n        let departmentIndex = [];\n\n        for(const department of organisation.departments) {\n\n            if(settings.userDepartments.includes(department.name)) {\n                departmentIndex.push(department.uuid);\n            }\n        }\n        console.log(departmentIndex)\n\n        return departmentIndex.toString();\n    }\n\n    function ConvertIDsToDepartments(IDs) {\n\n        const userDepartments = IDs.split(',');\n\n        let departmentArray = [];\n\n        for(const department of userDepartments) {\n\n            for( const dep of organisation.departments) {\n                if(dep.uuid == department) {\n                    departmentArray.push(dep.name);\n                }\n            }\n        }\n\n        return departmentArray;\n    }\n\n    function handleRadioChange(event) {\n\n        const { name } = event.target;\n\n        if(name == 'role_User') {\n            setSettings(prevState => {\n                return {...prevState,\n                role_Admin: false,\n                role_User: true}\n            })\n        }\n        if(name == 'role_Admin') {\n            setSettings(prevState => {\n                return {...prevState,\n                role_Admin: true,\n                role_User: false}\n            })\n        }\n    }\n\n    function handleChange(event) {\n\n        const { name, value } = event.target;\n\n        setSettings(prevState => {\n            return {... prevState, [name]: value}\n        })\n    }\n\n    function handleClickedItem_Deparment(name) {\n        \n        setSettings(prevState => {\n            return {...prevState, depToUser: name}\n        });\n    }\n\n    function handleAddDepToUser() {\n\n        if(!settings.userDepartments.includes(settings.depToUser)) {\n            setSettings(prevState => {\n                return {...prevState, userDepartments: [...settings.userDepartments, settings.depToUser]}\n            });\n        }\n    }\n\n    function hanldeRemoveDepFromUser() {\n\n        if(settings.userDepartments.includes(settings.depToUser)) {\n            const newDep = settings.userDepartments.filter(name => {\n                return name != settings.depToUser;\n            })\n\n            setSettings(prevState => {\n                return {...prevState, userDepartments: newDep}\n            })\n        }\n    }\n\n    function handleClickedItem_User(uuid, name, email, role, departments) {\n\n        setSettings(prevState => {\n            return {...prevState, name: name, email: email, userDepartments: ConvertIDsToDepartments(departments), edit: true, editID: uuid}\n        });\n\n        if(role == 'seniorAdmin') {\n            setSettings(prevState => {\n                return {...prevState, role_SeniorAdmin: true, role_Admin: false, role_User: false, roles: false,}\n            })\n        } else {\n            if(role == 'user') {\n                setSettings(prevState => {\n                    return {...prevState, role_User: true, role_SeniorAdmin: false, role_Admin: false, roles: true}\n                });\n            } else if(role == 'admin') {\n                setSettings(prevState => {\n                    return {...prevState, role_Admin: true, role_SeniorAdmin: false, role_User: false, roles: true}\n                });\n            }\n        }\n    }\n\n    function handleBackToAdd() {\n\n        setSettings(prevState => {\n            return {...prevState, edit: false, name: '', email: '', roles: true, role_Admin: false, role_User: false, userDepartments: ''}\n        })    \n    }\n\n    function handleUpdate() {\n\n        const departments = ConvertDepartmentsToIDs();\n        \n        let role = '';\n        if(settings.role_SeniorAdmin) role = 'seniorAdmin';\n        if(settings.role_User) role = 'user';\n        if(settings.role_Admin) role = 'admin';\n\n        const data = {uuid: settings.editID, name: settings.name, email: settings.email, role: role, departments: departments, orgID: orgID};\n\n        Axios.post('/organisation/updateUser', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.message == 'User updated successfully') {\n                setModal(prevState => {\n                    return {...prevState, heading: 'Update User', message: 'User has been updated', open: true};\n                });\n\n                setSettings(prevState => {\n                    return {...prevState, users: data.users, edit: false};\n                })\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function goToUserDetails(uuid) {\n        setGUserID(uuid);\n        setFromDetails(true);\n\n        history.push(\"/org/\" + orgID + \"/userDetails\");\n    }\n\n    return (\n        <div>\n            <table width='100%' border='1px'>\n                <thead>\n                    <tr>\n                        <th>\n                            <div className=\"heading-text\"> <Image className=\"plus-image\" src={settings.open ? minus : plus} onClick={openTab} /> Users</div><br />\n                            <Collapse in={settings.open}>\n                            <div>\n                                <div className='margin-text-hide'>\n                                    -\n                                </div>\n                                <div className=\"normal-text\">\n                                    {/* <p>Name</p><p>Email</p><p>Role</p><p>Deparments</p> */}\n                                    <Row>\n                                        <Col>\n                                            <Row>\n                                            <Col className='bordered'>\n                                                <strong>User Details:</strong>\n                                                <Form>\n                                                    <Form.Row>\n                                                    <Form.Group as={Col}>\n                                                        <Form.Label id=\"lblName\">Name:</Form.Label>\n                                                        <Form.Control id=\"txtName\" name=\"name\" type=\"text\" value={settings.name} onChange={handleChange} />\n                                                    </Form.Group>\n                                                    </Form.Row>\n                                                    <Form.Row>\n                                                    <Form.Group as={Col}>\n                                                        <Form.Label id=\"lblEmail\">Email:</Form.Label>\n                                                        <Form.Control id=\"txtEmail\" name=\"email\" value={settings.email} type=\"text\" onChange={handleChange} />\n                                                    </Form.Group>\n                                                    </Form.Row>\n                                                    <Form.Row>\n                                                    <Form.Group as={Col}>\n                                                    <div className={settings.roles ? null : 'roles-hidden'}>\n                                                        <Form.Label id=\"lblRole\">Role:</Form.Label>\n                                                        <Form.Check id=\"radRoleUser\" type=\"radio\" name='role_User' checked={settings.role_User} onChange={handleRadioChange} label=\"User\" /> \n                                                        <Form.Check id=\"radRoleAdmin\" type=\"radio\" name='role_Admin' checked={settings.role_Admin} onChange={handleRadioChange} label=\"Admin\" />\n                                                    </div>\n                                                        \n                                                    </Form.Group>\n                                                    </Form.Row>\n                                                    <Form.Row>\n                                                    <Form.Group as={Col}>\n                                                        <Form.Label id=\"lblDepartmentsTitle\">Departments:</Form.Label> <br />\n                                                        {settings.userDepartments.length == 0 ? (\n                                                            <div className='departments-hidden'>\n                                                                <Form.Label>---</Form.Label>\n                                                            </div>): (\n                                                            <div>\n                                                                <Form.Label id=\"lblDepartments\">{settings.userDepartments.toString()}</Form.Label>\n                                                            </div>)}\n                                                    </Form.Group>\n                                                    </Form.Row>\n                                                    <Form.Row>\n                                                    <div className=\"submit-button-show\">\n                                                        {!settings.edit ? (<div>\n                                                            <Button variant=\"primary\" onClick={handleMultipleAdd}>Add Multiple</Button>\n                                                            <Button variant=\"primary\" onClick={handleSingleAdd}>Add</Button>\n                                                        </div>) : (\n                                                            <div>\n                                                        <Button className='side-by-side' variant=\"primary\" onClick={handleBackToAdd}>Add New User</Button>\n                                                        </div>)}\n                                                    </div>\n                                                    </Form.Row>\n                                                    \n                                                    <Form.Row className={settings.edit ? 'user-edit' : 'user-edit edit-hidden'}>\n                                                        <div> \n                                                            <Button className='side-by-side' variant=\"primary\" onClick={handleUpdate}>Update</Button> \n                                                        </div>\n                                                    </Form.Row>\n                                                </Form>\n                                            </Col>\n                                            <Col className='bordered'>\n                                            <strong>Departments:</strong>\n                                            <div className='scrollable-250'>\n                                            <ListGroup>\n                                                {organisation.departments.map((department, index) => {\n                                                   return <ListGroup.Item key={index} action onClick={() => { handleClickedItem_Deparment(department.name) }}>{department.name}</ListGroup.Item>\n                                                })}\n                                            </ListGroup>\n                                            </div>\n                                            <div className=\"add-button\">\n                                            <Button onClick={hanldeRemoveDepFromUser}>Remove</Button>\n                                            <Button onClick={handleAddDepToUser}>Add</Button>\n                                            </div>\n                                            </Col>\n                                            </Row>\n                                        </Col>\n                                        <Col>\n                                            Users: <br />\n                                            Single Click on a user to make quick changes on the left, or Double Click to see Advanced Actions                                            \n                                            <div className='scrollable-250'>\n                                            <ListGroup>\n                                                {settings.users.map((user, index) => {\n                                                    let name = '';\n                                                    if(user.role == 'seniorAdmin') {\n                                                        name = user.displayName + \" (Senior Admin)\";\n                                                    } else if (user.role == 'admin') {\n                                                        name = user.displayName + \" (Admin)\";\n                                                    } else {\n                                                        name = user.displayName;\n                                                    }\n                                                    return <ListGroup.Item key={index} action onDoubleClick={() => {goToUserDetails(user.uuid)}} onClick={() => { handleClickedItem_User(user.uuid, user.displayName, user.email, user.role, user.departments) }}>{name}</ListGroup.Item>\n                                                })}\n                                            </ListGroup>\n                                            </div>\n                                        </Col>\n                                    </Row>\n                                </div>\n                            </div>\n                            </Collapse>\n                        </th>\n                    </tr>\n                </thead>\n            </table>\n\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Users;","import React, { useState } from 'react';\nimport { Image, Collapse, Row, Col, Form, Dropdown, Button, Modal, ListGroup } from \"react-bootstrap\";\nimport { useSelector, useDispatch } from 'react-redux'\nimport plus from '../../public/images/plus.png';\nimport minus from '../../public/images/minus.png';\nimport Axios from 'axios';\nimport { orgUpdateRedeemedRooms, orgUpdateRooms } from '../../store/actions/organistion';\n\nfunction Rooms(props) {\n\n    const orgID = props.orgID;\n    const organisation = useSelector(state => state.organisation);\n    const dispatch = useDispatch();\n\n    const [settings, setSettings] = useState({\n        open: false,\n        layout: 'Layout',\n        layoutUUID: 0,\n        name: '',\n        rooms: [],\n        newAdd: false,\n        layouts: false,\n        editRoom: false,\n        roomUUID: 0,\n        yourLayouts: [],\n        weekSystem: false,\n        editAdd: false\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n    });\n\n    const [weekSystemModal, setWeekSystemModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleWeekSystemModalClose() {\n        setWeekSystemModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleWeekSystemModalYes() {\n\n        setSettings(prevState => {\n            return {...prevState, weekSystem: true}\n        });\n\n        setWeekSystemModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleWeekSystemModalNo() {\n\n        setSettings(prevState => {\n            return {...prevState, weekSystem: false}\n        });\n\n        setWeekSystemModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function openTab() {\n\n        if(!settings.open) {\n\n            const data = {orgID: orgID}\n            Axios.post('/organisation/getLayouts', data)\n            .then(res => {\n                setSettings(prevState => {\n                    return {...prevState, open: true, yourLayouts: res.data.layouts}\n                });\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        } else {\n            setSettings(prevState => {\n                return {...prevState, open: false}\n            })\n        }\n\n        const data = {orgID: orgID};\n\n        Axios.post('/organisation/getRooms', data)\n        .then(res => {\n            const data = res.data;\n            console.log(data);\n            setSettings(prevState => {\n                return{...prevState, rooms: data.rooms}\n            });\n        })\n        .catch(err => {\n            console.log(err);\n        })\n\n        checkIfAddRoomsAllowed(organisation.allocatedRooms, organisation.redeemedRooms);\n    }\n\n    function checkIfAddRoomsAllowed(allocatedRooms, redeemedRooms) {\n        console.log(redeemedRooms);\n        if(allocatedRooms === redeemedRooms) {\n            setSettings(prevState => {\n                return {...prevState, newAdd: false, layouts: false, editAdd: false}\n            });\n        } else {\n            setSettings(prevState => {\n                return {...prevState, newAdd: true, layouts: true, editAdd: true}\n            });\n        }\n    }\n\n    function handleChangeLayout(uuid, layout) {\n\n        setSettings(prevState => {\n            return {...prevState, layout: layout, layoutUUID: uuid};\n        })\n    }\n\n    function handleTextChanged(event) {\n\n        const { value } = event.target;\n\n        setSettings(prevState => {\n            return {...prevState, name: value}\n        })\n    }\n\n    function handleRoomAdd() {\n\n        if(settings.name === '') {\n            setModal(prevState => {\n                return {...prevState, heading: 'Add Room', message: 'The room requires a Name', open: true}\n            });\n        } else if (checkNameExsist(settings.name)) {\n            setModal(prevState => {\n                return {...prevState, heading: 'Add Room', message: 'A room with the same name already exists', open: true}\n            });\n        } else if (settings.layout === 'Layout') {\n            setModal(prevState => {\n                return {...prevState, heading: 'Add Room', message: 'The room requires a Layout', open: true}\n            });\n        } else {\n            \n            const data = {orgID: orgID, name: settings.name, layout: settings.layoutUUID, weekSystem: settings.weekSystem};\n\n            Axios.post('/organisation/addRoom', data)\n            .then(res => {\n                const data = res.data;\n\n                if(data.message === 'Successfully added room') {\n                    dispatch(orgUpdateRedeemedRooms(data.redeemedRooms));\n                    dispatch(orgUpdateRooms(data.rooms));\n\n                    setSettings(prevState => {\n                        return {...prevState, rooms: data.rooms, name: '', layout: 'layout', weekSystem: false};\n                    });\n\n                    checkIfAddRoomsAllowed(organisation.allocatedRooms, data.redeemedRooms);\n                }\n\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    function handleRoomUpdate() {\n\n        const data = {orgID: orgID, uuid: settings.roomUUID, layout: settings.layoutUUID};\n\n        Axios.post('/organisation/updateRoom', data)\n        .then(res => {\n\n            if(res.data.message == 'Updated Room') {\n                setSettings(prevState => {\n                    return {...prevState, rooms: res.data.rooms, roomUUID: 0, editRoom: false, layouts: false};\n                });\n\n                checkIfAddRoomsAllowed(organisation.allocatedRooms, organisation.redeemedRooms);\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n\n    }\n\n    function handleAddNewRoom() {\n\n        setSettings(prevState => {\n            return {...prevState, editRoom: false, layouts: false};\n        });\n\n        checkIfAddRoomsAllowed(organisation.allocatedRooms, organisation.redeemedRooms);\n    }\n\n    function checkNameExsist(name) {\n\n        let check = false;\n\n        for(const room of settings.rooms) {\n            if(room.name == name) {\n                check = true;\n                break;\n            }\n        }\n\n        return check;\n    }\n\n    function handleItemOnClick(uuid, layout, layoutUUID, weekSystem) {\n\n        setSettings(prevState => {\n            return{...prevState, roomUUID: uuid, editRoom: true, layouts: true, newAdd: false, layout: layout, layoutUUID: layoutUUID, weekSystem: (weekSystem == 'true')}\n        })\n    }\n\n    function handleRemoveRoom() {\n\n        setModal(prevState => {\n            return {...prevState, heading: 'Remove Room', message: \"This feature hasn't been completed yet\", open: true }\n        })\n    }\n\n    function getLayoutName(uuid) {\n\n        for(const layout of settings.yourLayouts) {\n            if(layout.uuid == uuid) {\n                return layout.name;\n            }\n        }\n    }\n\n    function handleWeekSystemClicked(event) {\n        \n        const { checked } = event.target;\n        \n        if(checked) {\n\n            const data = {orgID: orgID};\n\n            Axios.post('/organisation/getMainOrgWeekSystem', data)\n            .then(res => {\n                console.log(res.data);\n                if(res.data.weekSystem == 'false') {\n                    setModal({heading: 'Week System', message: \"You cannot turn on a room week system until you turn on the main week system in the 'Week System / Holidays' tab\", open: true});\n\n                    setSettings(prevState => {\n                        return {...prevState, weekSystem: false}\n                    });\n                } else {\n                    setSettings(prevState => {\n                        return {...prevState, weekSystem: checked}\n                    });\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        } else {\n            setSettings(prevState => {\n                return {...prevState, weekSystem: checked}\n            });\n        }\n    }\n\n\n    return (\n        <div>\n\n            <table width='100%' border='1px'>\n                <thead>\n                    <tr>\n                        <th>\n                            <div className=\"heading-text\"> <Image className=\"plus-image\" src={settings.open ? minus : plus} onClick={openTab} /> Rooms</div><br />\n                            <Collapse in={settings.open}>\n                            <div>\n                                <div className='margin-text-hide'>\n                                -\n                                </div>\n                                <div className=\"normal-text\">\n                                    <Row>\n                                        <Col>\n                                                <Row>\n                                                    <div className={settings.newAdd && settings.yourLayouts.length > 0 ? 'rooms-add' : 'rooms-add rooms-hide'}>\n                                                        <Form>\n                                                                <Form.Group>\n                                                                <Form.Label id='lblName'>Name:</Form.Label>\n                                                                <Form.Control id='txtName' value={settings.name} onChange={handleTextChanged} />\n                                                            </Form.Group>\n                                                        </Form>\n                                                    </div>\n                                                    <div className={settings.layouts && settings.yourLayouts.length > 0 ? '' : 'rooms-hide'}>\n                                                        <Form>\n                                                            <Form.Group>\n                                                                <Form.Label className='side-by-side' id='lblName'>Layout:</Form.Label>\n                                                                <Dropdown className='side-by-side'>\n                                                                    <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                                                                        {settings.layout}\n                                                                    </Dropdown.Toggle>\n                                                                    <Dropdown.Menu className='dropdown-items'>\n                                                                        {settings.yourLayouts.map((layout, index) => {\n                                                                            return <Dropdown.Item key={index} onClick={() => {handleChangeLayout(layout.uuid, layout.name)}}>{layout.name}</Dropdown.Item>\n                                                                        })}\n                                                                    </Dropdown.Menu>\n                                                                </Dropdown>\n                                                                {settings.newAdd ? (<div className='centred'>\n                                                                    <Form.Check type='checkbox' checked={settings.weekSystem} onChange={handleWeekSystemClicked} label='Use week system' />\n                                                                </div>) : null}\n                                                                {settings.editRoom && settings.yourLayouts.length > 0 ? (<div className='centred'>\n                                                                    Week System: {settings.weekSystem ? \" Enabled\" : \" Disabled\"}\n                                                                </div>) : null}\n                                                                \n                                                            </Form.Group>\n                                                        </Form>\n                                                    </div>\n                                                        \n                                                </Row>\n                                                <Row className='add-button'>\n                                                    {settings.newAdd && settings.yourLayouts.length > 0 ? <Button variant=\"primary\" onClick={handleRoomAdd}>Add</Button> : null }\n                                                    {settings.editRoom && settings.yourLayouts.length > 0 ? (<div>\n                                                        {settings.editAdd ? <Button variant=\"primary\" onClick={handleAddNewRoom}>Add New Room</Button> : null }\n                                                        <Button variant=\"primary\" onClick={handleRoomUpdate}>Update</Button>\n                                                    </div>) : null }\n                                                </Row>\n                                                <Row>\n                                                    <div className={settings.yourLayouts.length == 0 ? 'rooms-layoutText' : 'rooms-layoutText rooms-hide'}>\n                                                        <strong>\n                                                        There are no layouts in your system yet, use the layouts tab to add one. Then your will be able to assign a room to a layout.\n                                                        </strong>\n                                                    </div>\n                                                </Row>\n                                            </Col>\n                                        <Col>\n                                            Allocated Rooms: {organisation.allocatedRooms} <br />\n                                            Redeemed Rooms: {organisation.redeemedRooms}\n                                        </Col>\n                                        <Col>\n                                            Room List:\n                                            <div className=\"scrollable-300\">\n                                            <ListGroup>\n                                                {settings.rooms.map((room, index) => {\n                                                   return <ListGroup.Item variant={settings.roomUUID == room.uuid ? 'primary' : null} key={index} action onClick={() => { handleItemOnClick(room.uuid, getLayoutName(room.layout), room.layout, room.weekSystem) }}>{room.name} ({getLayoutName(room.layout)})</ListGroup.Item>\n                                                })}\n                                            </ListGroup>\n                                            </div>\n                                            <div className={settings.editRoom ? \"remove-button-show\" : \"remove-button-hidden\"}>\n                                                    <Button onClick={handleRemoveRoom}>Remove</Button>\n                                            </div>\n                                        </Col>\n                                    </Row>\n                                </div>\n                            </div>\n                            </Collapse>\n                        </th>\n                    </tr>\n                </thead>\n            </table>\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n            <Modal show={weekSystemModal.open} onHide={handleWeekSystemModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>Week System</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleWeekSystemModalNo}>No</Button>\n                <Button variant=\"primary\" onClick={handleWeekSystemModalYes}>Yes</Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Rooms;","import React, { createContext, useState } from 'react';\n\nexport const SessionsContext = createContext();\n\nfunction SessionsContextProvider(props) {\n\n    const [sessions, setSessions] = useState({});\n    const [order, setOrder] = useState([]);\n\n    const [breakBtns, setBreakBtns] = useState({\n        view: false,\n        breakID: ''\n    });\n\n    function addSession(id) {\n\n        setSessions(prevState => {\n            return {...prevState, [id]: {id: id, customText: '', hoverText: ''}};\n        });\n\n        setOrder(prevState => {\n            return [...prevState, id];\n        })\n    }\n\n    function minusSession(index) {\n\n        const tempSessions = sessions;\n        setSessions({});\n        for(var i = 0; i < order.length; i++) {\n            const orderIndex = order[i];\n\n            if(orderIndex != index) {\n\n                let temp = {};\n                if(orderIndex.toString().includes('b')) {\n                    temp = {id: tempSessions[orderIndex].id, breakText: tempSessions[orderIndex].breakText, textColor: tempSessions[orderIndex].textColor, bgColor: tempSessions[orderIndex].bgColor};\n                } else {\n                     temp = {id: tempSessions[orderIndex].id, customText: tempSessions[orderIndex].customText, hoverText: tempSessions[orderIndex].hoverText};\n                }\n                \n                setSessions(prevState => {\n                    return {...prevState, [orderIndex]: temp}\n                });\n                \n            }\n        }\n\n        setOrder(() => {\n            return order.filter(session => {\n                return session != index;\n            }); \n        });\n    }\n\n    function SetSessions(data) {\n        setSessions(data);\n    }\n\n    function SetOrder(data) {\n        setOrder(data);\n    }\n\n    function addBreak(id) {\n\n        const name = 'b' + id;\n        setSessions(prevState => {\n            return {...prevState, [name]: {id: name, breakText: '', textColor: '#000000', bgColor: '#FFFFFF'}};\n        });\n\n        setOrder(prevState => {\n            return [...prevState, name];\n        })\n    }\n\n    function toggleBreakBtns(id, value) {\n\n        if(value) {\n            setBreakBtns(prevState => {\n                return {...prevState, view: value, breakID: id}\n            });\n        } else {\n        setBreakBtns(prevState => {\n            return {...prevState, view: value}\n        });\n        }\n    }\n\n    function orderMoveUp() {\n\n        const ID = order.indexOf(breakBtns.breakID);\n\n        if((ID - 1) >= 0) {\n\n            const value = order[ID]; \n            order.splice(ID, 1);\n\n            const newID = ID - 1;\n            order.splice(newID, 0, value);\n\n            setOrder(order);\n\n            //force to update\n            setOrder(prevState => {\n                return [...prevState];\n            });\n        } \n    }\n\n    function orderMoveDown() {\n\n        const ID = order.indexOf(breakBtns.breakID);\n\n        if((ID + 1) < order.length) {\n\n            const value = order[ID]; \n            order.splice(ID, 1);\n\n            const newID = ID + 1;\n            order.splice(newID, 0, value);\n\n            setOrder(order);\n\n            //force to update\n            setOrder(prevState => {\n                return [...prevState];\n            });\n        }\n    }\n\n    function removeBreak() {\n\n        const ID = order.indexOf(breakBtns.breakID);\n        let breID = 1;\n        const tempSessions = sessions;\n        let newOrder = [];\n        setSessions({});\n        for(var i = 0; i < order.length; i++) {\n            const orderIndex = order[i];\n\n            if(orderIndex != breakBtns.breakID) {\n\n                let temp = {};\n                if(orderIndex.toString().includes('b')) {\n                    const newID = 'b' + breID;\n                    temp = {id: newID, breakText: tempSessions[orderIndex].breakText, textColor: tempSessions[orderIndex].textColor, bgColor: tempSessions[orderIndex].bgColor};\n\n                    setSessions(prevState => {\n                        return {...prevState, [newID]: temp}\n                    });\n                    newOrder.push(newID)\n                    breID++;\n                } else {\n                     temp = {id: tempSessions[orderIndex].id, customText: tempSessions[orderIndex].customText, hoverText: tempSessions[orderIndex].hoverText};\n\n                     setSessions(prevState => {\n                        return {...prevState, [orderIndex]: temp}\n                    });\n                    newOrder.push(orderIndex);\n                }\n                \n                \n            }\n        }\n\n        setOrder(newOrder);\n\n        //force to update\n        setOrder(prevState => {\n            return [...prevState];\n        });\n\n        setBreakBtns(prevState => {\n            return {...prevState, view: false}\n        })\n    }\n\n\n    function resetSessions() {\n        setSessions({});\n        setOrder([]);\n    }\n\n    function updateCustomText(id, text) {\n\n        const obj = {customText: text, hoverText: sessions[id].hoverText, id: sessions[id].id}\n        setSessions(prevState => {\n            return {...prevState, [id]: obj}\n        })\n    }\n\n    function updateHoverText(id, text) {\n\n        const obj = {customText: sessions[id].customText, hoverText: text, id: sessions[id].id}\n        setSessions(prevState => {\n            return {...prevState, [id]: obj}\n        })\n    }\n\n    function updateBreakText(text) {\n\n        const obj = {id: sessions[breakBtns.breakID].id, breakText: text, textColor: sessions[breakBtns.breakID].textColor, bgColor: sessions[breakBtns.breakID].bgColor}\n        setSessions(prevState => {\n            return {...prevState, [breakBtns.breakID]: obj}\n        })\n    }\n\n    function updateBreakColor(name, value) {\n\n        let obj = {};\n        if(name === 'textColor') {\n            obj = {id: sessions[breakBtns.breakID].id, breakText: sessions[breakBtns.breakID].breakText, textColor: value, bgColor: sessions[breakBtns.breakID].bgColor}\n        }\n        if(name === 'bgColor') {\n            obj = {id: sessions[breakBtns.breakID].id, breakText: sessions[breakBtns.breakID].breakText, textColor: sessions[breakBtns.breakID].textColor, bgColor: value}\n        }\n        setSessions(prevState => {\n            return {...prevState, [breakBtns.breakID]:obj}\n        })\n    }\n\n    return (\n        <SessionsContext.Provider value={{sessions, order, breakBtns, addSession, resetSessions, minusSession, updateCustomText, updateHoverText, addBreak, toggleBreakBtns, \n                                            orderMoveUp, orderMoveDown, removeBreak, updateBreakText, updateBreakColor, SetSessions, SetOrder}}>\n            {props.children}\n        </SessionsContext.Provider> \n    )\n}\n\nexport default SessionsContextProvider;","import React, { useContext } from 'react';\nimport { Form, Row, Col } from 'react-bootstrap';\nimport { SessionsContext } from \"../../context/adminTemplatesSessions\";\n\nfunction SessionSlot(props) {\n\n    const { updateCustomText, updateHoverText, toggleBreakBtns } = useContext(SessionsContext);\n\n    function handleChangeCustomText(event) {\n\n        const { value } = event.target;\n\n       updateCustomText(props.id, value);\n        \n    }\n\n    function handleChangeHoverText(event) {\n\n        const { value } = event.target;\n\n        updateHoverText(props.id, value);\n    }\n\n    function handleBreakBtns() {\n        toggleBreakBtns(0, false);\n    }\n\n    return (\n        <div>\n            <Row>\n                <Col sm={1}>\n                <div className=\"slot-id\">\n                    {props.id}\n                </div>\n                </Col>\n                <Col>\n                <Form.Control id=\"txtCustomText\" type='text' value={props.customText} onFocus={handleBreakBtns} onChange={handleChangeCustomText}/>\n                </Col>\n                <Col>\n                <Form.Control id=\"txtHoverText\" type='text' value={props.hoverText} onFocus={handleBreakBtns} onChange={handleChangeHoverText}/>\n                </Col>\n            </Row>\n        </div>\n    )\n}\n\nexport default SessionSlot;","import React, { useContext, useState } from 'react';\nimport { Row, Col, Form, Dropdown, Modal, Button } from 'react-bootstrap';\nimport { SessionsContext } from '../../context/adminTemplatesSessions';\nimport { CompactPicker } from 'react-color';\n\nfunction BreakSlot(props) {\n\n    const { toggleBreakBtns, updateBreakText, updateBreakColor } = useContext(SessionsContext);\n\n    const [colorModal, setColorModal] = useState({\n        open: false,\n        color: \"ff0000\",\n        property: ''\n    });\n\n    function handleModalClose() {\n        setColorModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleBreakBtns() {\n        toggleBreakBtns(props.id, true);\n    }\n\n    function handleChangeText(event) {\n\n        const { value } = event.target;\n\n        updateBreakText(value);\n    }\n\n    function handleOpenColorModal_TextColor() {\n        \n        toggleBreakBtns(props.id, true);\n        setColorModal(prevState => {\n            return {...prevState, open: true, property: 'textColor'}\n        })\n    }\n\n    function handleOpenColorModal_BgColor() {\n        \n        toggleBreakBtns(props.id, true);\n        setColorModal(prevState => {\n            return {...prevState, open: true, property: 'bgColor'}\n        })\n    }\n\n    function handleModelPickColor() {\n        updateBreakColor(colorModal.property, colorModal.color)\n        setColorModal(prevState => {\n            return {...prevState,\n            open: false\n        }});\n    }\n\n    function SetColorInModal(color) {\n\n        setColorModal(prevState => {\n            return {...prevState, color: color}\n        })\n    }\n\n    return (\n        <div>\n            <Row>\n                <Col sm={1}>\n                    <div className='break-id'>\n                        {props.id}\n                    </div>\n                </Col>\n                <Col className='break-padding'>\n                    <Form.Control style={{backgroundColor:props.bgColor, color:props.textColor}} id='txtbreakText' value={props.breakText} onFocus={handleBreakBtns} onChange={handleChangeText}/>\n                </Col>\n                <Col>\n                <Dropdown className='side-by-side'>\n                    <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                        Colour\n                    </Dropdown.Toggle>\n                    <Dropdown.Menu>\n                        <Dropdown.Item onClick={handleOpenColorModal_TextColor}>Text Colour</Dropdown.Item>\n                        <Dropdown.Item onClick={handleOpenColorModal_BgColor}>BackgroundColour</Dropdown.Item>\n                    </Dropdown.Menu>\n                </Dropdown>\n                </Col>\n            </Row>\n\n            <Modal show={colorModal.open} dialogClassName=\"color-modal-90w\" onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>Pick Colour</Modal.Title>\n                </Modal.Header>\n                <Modal.Body><CompactPicker color={colorModal.color} onChangeComplete={(color) => {SetColorInModal(color.hex)}} />\n                </Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModelPickColor}>\n                    OK\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default BreakSlot;","import React, { useState, useContext } from 'react';\nimport ReactTooltip from 'react-tooltip';\nimport plus from '../../public/images/plus.png';\nimport minus from '../../public/images/minus.png';\nimport {Image, Collapse, Row, Col, Dropdown, Form, Button, Modal} from 'react-bootstrap';\nimport { useDispatch } from 'react-redux';\n//import {layoutsUpdateDiaryDays, layoutsUpdateStartTime, layoutsUpdateFinishTime, layoutsUpdateTimeInterval, layoutsUpdateTimetableDays, layoutsUpdateSessionTotal, layoutsUpdateBreakTotal, layoutsUpdateSessionOrder, layoutsUpdateSessions} from '../../store/actions/layouts';\nimport { SessionsContext } from '../../context/adminTemplatesSessions';\n\nimport SessionSlot from './sessionSlot';\nimport BreakSlot from './breakSlot';\nimport Axios from 'axios';\nimport moment from 'moment';\n\nfunction Layouts(props) {\n\n     const orgID = props.orgID;\n     //const dispatch = useDispatch();\n     \n     const { sessions, order, breakBtns, addSession, minusSession, resetSessions, addBreak, orderMoveUp, orderMoveDown, removeBreak, SetSessions, SetOrder } = useContext(SessionsContext);\n\n     const days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];\n\n     const times = ['00:00', '00:30', '01:00', '01:30', '02:00', '02:30', '03:00', '03:30', '04:00', '04:30', '05:00', '05:30', '06:00', '06:30', '07:00', '07:30', '08:00', '08:30', '09:00', \n                    '09:30', '10:00', '10:30', '11:00', '11:30', '12:00', '12:30', '13:00', '13:30', '14:00', '14:30', '15:00', '15:30', '16:00', '16:30', '17:00', '17:30', '18:00', '18:30',\n                    '19:00', '19:30', '20:00', '20:30', '21:00', '21:30', '22:00', '22:30', '23:00', '23:30'];\n\n    const [settings, setSettings] = useState({\n        open: false,\n        layoutText: 'layout',\n        yourLayoutText: 'Layouts',\n        yourLayouts: [],\n        currentLayout: {},\n        sessions: 1,\n        breaks: 0,\n        days: [false, false, false, false, false, false, false],\n        showPreview: false,\n        startTime: 'Start Time',\n        finishTime: 'Finish Time',\n        timeIntervalLbl: 'Interval',\n        timeInterval: 0,\n        times: [],\n        showTimetableSave: false,\n        showDiarySave: false,\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    const [addModal, setAddModal] = useState({\n        open: false,\n        heading: '',\n        newName: ''\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleAddModalClose() {\n        setAddModal(prevState => {\n            return{...prevState, open: false}\n        });\n    }\n\n    function openTab() {\n\n        if(!settings.open) {\n\n            const data = {orgID: orgID}\n            Axios.post('/organisation/getLayouts', data)\n            .then(res => {\n                setSettings(prevState => {\n                    return {...prevState, open: true, yourLayouts: res.data.layouts}\n                });\n            })\n            .catch(err => {\n                console.log(err);\n            })\n\n        } else {\n            setSettings(prevState => {\n                return {...prevState, open: false}\n            });\n            resetSessions();\n\n        }\n    }\n\n    function handlePickLayout(uuid) {\n\n        let currentLayout;\n        resetSessions();\n        \n        setSettings(prevState => {\n            return {...prevState, sessions: 0, breaks: 0}\n        });\n    \n        for(const [index, layout] of settings.yourLayouts.entries()){\n            if(layout.uuid == uuid) {\n                currentLayout = layout\n                break;\n            }\n        }\n        let layout = 'layout';\n        if(currentLayout.layout != '') {\n            layout = currentLayout.layout\n        }\n\n        setSettings(prevState => {\n            return {...prevState, yourLayoutText: currentLayout.name, layoutText: layout, currentLayout: currentLayout}\n        });\n\n        loadSettings(currentLayout);\n    }\n\n    function handleChangeLayout(event) {\n\n        const { innerText } = event.target;\n\n        let days = [false, false, false, false, false, false, false];\n\n        let showTimetableSave = false;\n        let showDiarySave = false;\n\n        if(settings.currentLayout.layout == innerText) {\n            loadSettings(settings.currentLayout);\n        } else {\n            if(innerText == 'Timetable') {\n                setSettings(prevState => {\n                    return {...prevState, sessions: 1}\n                });\n                addSession(1);\n\n            } else if(innerText == 'Diary') {\n\n            }\n        }\n\n        let show = false;\n        for(const day of days) {\n            if(day == true) {\n                show = true;\n            }\n        }\n\n        setSettings(preState => {\n            return {...preState, layoutText: innerText, days: days, showDiarySave: showDiarySave, showTimetableSave: showTimetableSave, showPreview: show};\n        });\n\n    }\n\n    function loadSettings(currentLayout) {\n\n        if(currentLayout.layout == 'Timetable') {\n\n            if(currentLayout.days != '') {\n\n                let days = currentLayout.days.split(',');\n                days.forEach((day, index) => {\n                    days[index] = (day == 'true');\n                });\n\n                const data = {orgID: orgID, layoutUUID: currentLayout.uuid};\n                Axios.post('/organisation/getTimetableSessions', data)\n                .then(res => {\n                    const sessions = res.data.sessions;\n                    let newSessions = {};\n                    for(const session of sessions) {\n                        newSessions[session.id] = session;\n                      }\n\n                    SetSessions(newSessions);\n                })\n                .catch(err => {\n                    console.log(err);\n                })\n                \n                const order = currentLayout.sessionOrder.split(',');\n                SetOrder(order);\n\n                setSettings(prevState => {\n                return {...prevState, open: true, sessions: currentLayout.sessions, breaks: currentLayout.breakTotal, days: days, showTimetableSave: true, showPreview: true}\n                });\n\n            }\n        } else if(currentLayout.layout == \"Diary\") {\n\n            let days = currentLayout.days.split(',');\n            days.forEach((day, index) => {\n                days[index] = (day == 'true');\n            });\n\n            if(currentLayout.days != '') {\n\n                setSettings(prevState => {\n                    return {...prevState, startTime: currentLayout.startTime, finishTime: currentLayout.finishTime, timeInterval: currentLayout.timeInterval, days: days,\n                            showDiarySave: true, showPreview: true}\n                });\n                findIntervalText(currentLayout.timeInterval);\n                BuildTimes(currentLayout.startTime, currentLayout.finishTime, currentLayout.timeInterval)\n            }\n        }\n    }\n\n    function findIntervalText(interval) {\n\n        let lbl = ''\n        if(interval == 30) lbl = '30 Minutes';\n        if(interval == 60) lbl = '1 hour';\n        if(interval == 90) lbl = '1 hour, 30 minutes';\n        if(interval == 120) lbl = '2 hours';\n\n        setSettings(prevState => {\n            return {...prevState, timeIntervalLbl: lbl}\n        })\n    }\n\n    //DIARY DROPDOWNS\n    function handleChangeStartTime(event) {\n\n        const { innerText } = event.target;\n\n        setSettings(preState => {\n            return {...preState, startTime: innerText};\n        });\n\n        BuildTimes(innerText, settings.finishTime, settings.timeInterval);\n    }\n\n    function handleChangeFinishTime(event) {\n\n        const { innerText } = event.target;\n\n        setSettings(preState => {\n            return {...preState, finishTime: innerText};\n        })\n\n        BuildTimes(settings.startTime, innerText, settings.timeInterval);\n    }\n\n    function handleChangeInterval(event) {\n\n        const { innerText, name } = event.target;\n\n        setSettings(preState => {\n            return {...preState, timeIntervalLbl: innerText, timeInterval: parseInt(name)};\n        })\n\n        BuildTimes(settings.startTime, settings.finishTime, parseInt(name));\n    }\n    //DIARY DROPDOWNS^^^\n\n    function BuildTimes(sTime, fTime, interval) {\n\n        const ti = [];\n        if(sTime !== 'Start Time' && fTime !== 'Finish Time' && interval !== 0) {\n\n            const start = moment(sTime, \"HH:mm\");\n            const finish = moment(fTime, \"HH:mm\");\n\n            while(start.isBefore(finish)) {\n                ti.push(start.format(\"HH:mm\"));\n                start.add(interval, 'm');\n            }\n\n            setSettings(prevState => {\n                return {...prevState, times: ti}\n            });\n\n            let show = false;\n\n            for(const day in settings.days) {\n                if(settings.days[day] == true) {\n                    show = true;\n                }\n            }\n\n            setSettings(prevState => {\n                return {...prevState, showDiarySave: show}\n            });\n        }\n        \n    }\n\n    //SESSIONS BUTTONS\n    function handlePlusSessions() {\n\n        setSettings(prevState => {\n            return {...prevState, sessions: settings.sessions + 1}\n        });\n\n        addSession(settings.sessions + 1);\n    }\n\n    function handleMinusSessions() {\n\n        if(settings.sessions > 1) {\n            setSettings(prevState => {\n                return {...prevState, sessions: settings.sessions - 1}\n            });\n\n            minusSession(settings.sessions);\n        }\n\n        \n    }\n    //SESSIONS BUTTONS^^^\n\n    //BREAK BUTTONS\n    function handleAddBreak() {\n\n        setSettings(prevState => {\n            return {...prevState, breaks: settings.breaks + 1}\n        });\n\n        addBreak(settings.breaks + 1);\n    }\n\n    function handleMoveBreakUp() {\n        orderMoveUp();\n    }\n\n    function handleMoveBreakDown() {\n        orderMoveDown();\n    }\n\n    function handleRemoveBreak() {\n\n        setSettings(prevState => {\n            return {...prevState, breaks: settings.breaks - 1}\n        }); \n        removeBreak();\n    }\n    //BREAK BUTTONS^^^\n\n    //DAYS CHECKBOXES\n    function handleChecked(event) {\n\n        const {name, checked} = event.target;\n\n        const temp = settings.days;\n\n        temp[name] = checked;\n\n        let show = false;\n\n        for(const day in temp) {\n            if(temp[day] == true) {\n                show = true;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, days: temp, showPreview: show, showTimetableSave: show}\n        });\n\n        if(settings.layoutText == 'Diary' && settings.startTime !== 'Start Time' && settings.finishTime !== 'Finish Time' && settings.timeInterval !== 0) {\n            setSettings(prevState => {\n                return {...prevState, days: temp, showPreview: show, showDiarySave: show}\n            });\n        }\n        \n    }\n\n    //SAVE METHODS\n    function handleTimetableSave() {\n\n        const data = {orgID: orgID, uuid: settings.currentLayout.uuid, layout: settings.layoutText, sessionTotal: settings.sessions, breakTotal: settings.breaks, sessionOrder: order, days: settings.days.toString(),\n                     sessions: sessions};\n\n        Axios.post('/organisation/saveLayout', data)\n        .then(res => {\n            if(res.data.message == 'Success') {\n\n                setSettings(prevState => {\n                    return {...prevState, yourLayouts: res.data.layouts}\n                });\n\n                setModal(prevState => {\n                    return {...prevState, heading: 'Layout: ' + settings.yourLayoutText, message: 'Layout has been saved!', open: true};\n                })\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }\n\n    function handleDiarySave() {\n\n        const data = {orgID: orgID, uuid: settings.currentLayout.uuid, layout: settings.layoutText, days: settings.days.toString(), startTime: settings.startTime,\n                    finishTime: settings.finishTime, timeInterval: settings.timeInterval};\n\n        Axios.post('/organisation/saveLayout', data)\n        .then(res => {\n            if(res.data.message == 'Success') {\n\n                setSettings(prevState => {\n                    return {...prevState, yourLayouts: res.data.layouts}\n                });\n\n                setModal(prevState => {\n                    return {...prevState, heading: 'Layout: ' + settings.yourLayoutText, message: 'Layout has been saved!', open: true};\n                })\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }\n    //SAVE METHODS^^^\n\n    //ADD LAYOUT METHODS\n    function handleAddLayout() {\n        setAddModal(prevState => {\n            return {...prevState, open: true}\n        });\n    }\n\n    function handleAddModalTextChange(event) {\n\n        const { value } = event.target;\n\n        setAddModal(prevState => {\n            return {...prevState, newName: value}\n        });\n    }\n\n    function handleAddModalSubmit() {\n\n        const data = {orgID: orgID, name: addModal.newName};\n\n        Axios.post('/organisation/addLayout', data)\n        .then(res => {\n            if(res.data.message == 'Successfully Added') {\n\n                setSettings(prevState => {\n                    return {...prevState, yourLayouts: res.data.layouts}\n                });\n\n                setAddModal(prevState => {\n                    return {...prevState, newName: '', open: false}\n                });\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n\n    }\n    //ADD LAYOUT METHODS^^^\n\n    function handleReloadTooltip() {\n        ReactTooltip.rebuild();\n    }\n\n    return (\n        <div>\n            <table width='100%' border='1px'>\n                <thead>\n                    <tr>\n                        <th>\n                            <div className=\"heading-text\"> <Image className=\"plus-image\" src={settings.open ? minus : plus} onClick={openTab} /> Layouts</div><br />\n                                <Collapse in={settings.open}>\n                                <div>\n                                <div className='margin-text-hide'>\n                                    -\n                                    </div>\n                                <div className='normal-text'>\n                                    <Row>\n                                        <Col>\n                                            <Row>\n                                                <Col>\n                                                <Row>\n                                                    <div className='centred'>\n                                                        Your Layouts:\n                                                    </div>\n                                                    <Dropdown className='side-by-side'>\n                                                        <Dropdown.Toggle variant='primary'>\n                                                            {settings.yourLayoutText}\n                                                        </Dropdown.Toggle>\n                                                        <Dropdown.Menu>\n                                                            {settings.yourLayouts.map((layout, index) => {\n                                                                return <Dropdown.Item key={index} onClick={() => {handlePickLayout(layout.uuid)}}>{layout.name}</Dropdown.Item>\n                                                            })}\n                                                        </Dropdown.Menu>\n                                                    </Dropdown>\n                                                    <Button variant='primary' onClick={handleAddLayout}>Add</Button>\n                                                </Row>\n                                                <Row>\n                                                    {settings.yourLayoutText != 'Layouts' ? (\n                                                        <div>\n                                                            <div className='centred'>\n                                                                Layouts:\n                                                            </div> \n                                                            <Dropdown className='side-by-side'>\n                                                                <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                                                                    {settings.layoutText}\n                                                                </Dropdown.Toggle>\n                                                                <Dropdown.Menu>\n                                                                    <Dropdown.Item onClick={handleChangeLayout}>Timetable</Dropdown.Item>\n                                                                    <Dropdown.Item onClick={handleChangeLayout}>Diary</Dropdown.Item>\n                                                                </Dropdown.Menu>\n                                                            </Dropdown>\n                                                        </div>) : null}\n                                                </Row>\n                                                <Row>\n                                                    <div className='layout-settings'>\n                                                    {settings.layoutText == 'Timetable' || settings.layoutText == 'Diary' ? (<div>\n                                                        <Form>\n                                                        <Form.Group>\n                                                            <Form.Check className=\"check-side-by-side\" name='0' onChange={handleChecked} type='checkbox' checked={settings.days[0]} label='Sun'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='1' onChange={handleChecked} type='checkbox' checked={settings.days[1]} label='Mon'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='2' onChange={handleChecked} type='checkbox' checked={settings.days[2]} label='Tue'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='3' onChange={handleChecked} type='checkbox' checked={settings.days[3]} label='Wed'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='4' onChange={handleChecked} type='checkbox' checked={settings.days[4]} label='Thu'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='5' onChange={handleChecked} type='checkbox' checked={settings.days[5]} label='Fri'/>\n                                                            <Form.Check className=\"check-side-by-side\" name='6' onChange={handleChecked} type='checkbox' checked={settings.days[6]} label='Sat'/>\n                                                        </Form.Group>\n                                                        </Form></div>) : null }\n                                                        \n                                                    </div>\n                                                </Row>\n                                                <Row>\n                                                    <div className='layout-settings'>\n                                                        \n                                                        {settings.layoutText == 'Timetable' ? (<div>\n                                                            <div className='centred'>\n                                                        Sessions: {settings.sessions}\n                                                        </div>\n                                                        <div className='side-by-side-R'>\n                                                            <Button variant='primary' onClick={handlePlusSessions}>+</Button>\n                                                            <Button variant='primary' onClick={handleMinusSessions}>-</Button>\n                                                        </div>\n                                                        </div>) : null }\n                                                    </div>\n                                                </Row>\n                                                {settings.layoutText == 'Timetable' ? (<div>\n                                                    <Row>\n                                                    <div className='layout-settings'>\n                                                        <Button variant='primary' onClick={handleAddBreak}>Add Break</Button>\n                                                        {breakBtns.view ? <Button variant='primary' onClick={handleRemoveBreak}>Remove</Button> : null }\n                                                    </div>\n                                                </Row>\n                                                <Row>\n                                                    <div className={breakBtns.view ? 'layout-settings-move-btn-show' : 'layout-settings-move-btn-hide'}>\n                                                        <Button variant='primary' onClick={handleMoveBreakUp}>Move Up</Button>\n                                                        <Button variant='primary' onClick={handleMoveBreakDown}>Move Down</Button>\n                                                    </div>\n                                                </Row>\n                                                </div>) : null }\n                                                {settings.layoutText == 'Diary' ? (<div>\n                                                    <Row>\n                                                        <Col>\n                                                        <div className='centred'>\n                                                            Start Time:\n                                                        </div>\n                                                        </Col>\n                                                        <Col>\n                                                        <Dropdown className='side-by-side'>\n                                                            <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                                                                {settings.startTime}\n                                                            </Dropdown.Toggle>\n                                                            <Dropdown.Menu className='dropdown-items'>\n                                                                {times.map((time, index) => {\n                                                                    return <Dropdown.Item key={index} onClick={handleChangeStartTime}>{time}</Dropdown.Item>\n                                                                })}\n                                                            </Dropdown.Menu>\n                                                        </Dropdown>\n                                                        </Col>\n                                                    </Row>\n                                                    <Row>\n                                                        <Col>\n                                                        <div className='centred'>\n                                                            Finish Time:\n                                                        </div>\n                                                        </Col>\n                                                        <Col>\n                                                        <Dropdown className='side-by-side'>\n                                                            <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                                                                {settings.finishTime}\n                                                            </Dropdown.Toggle>\n                                                            <Dropdown.Menu className='dropdown-items'>\n                                                                {times.map((time, index) => {\n                                                                    return <Dropdown.Item key={index} onClick={handleChangeFinishTime}>{time}</Dropdown.Item>\n                                                                })}\n                                                            </Dropdown.Menu>\n                                                        </Dropdown>\n                                                        </Col>\n                                                    </Row>\n                                                    <Row>\n                                                        <Col>\n                                                        <div className='centred'>\n                                                            Interval:\n                                                        </div>\n                                                        </Col>\n                                                        <Col>\n                                                        <Dropdown className='side-by-side'>\n                                                            <Dropdown.Toggle variant='primary' id=\"dropdown-layouts\">\n                                                                {settings.timeIntervalLbl}\n                                                            </Dropdown.Toggle>\n                                                            <Dropdown.Menu className='dropdown-items'>\n                                                            <Dropdown.Item name='30' onClick={handleChangeInterval}>30 minutes</Dropdown.Item>\n                                                            <Dropdown.Item name='60' onClick={handleChangeInterval}>1 hour</Dropdown.Item>\n                                                            <Dropdown.Item name='90' onClick={handleChangeInterval}>1 hour, 30 minutes</Dropdown.Item>\n                                                            <Dropdown.Item name='120' onClick={handleChangeInterval}>2 hours</Dropdown.Item>\n                                                            </Dropdown.Menu>\n                                                        </Dropdown>\n                                                        </Col>\n                                                    </Row>\n                                                    <Row>\n                                                    <Col></Col><Col>\n                                                        {settings.showDiarySave ? (<Button variant='primary' onClick={handleDiarySave}>Save</Button>) : null}\n                                                    </Col>\n                                                    \n                                                    </Row>\n                                                </div>) : null}\n                                                </Col>\n                                                <Col>\n                                                    {settings.layoutText == 'Timetable' ? (<div>\n                                                        Sessions:\n                                                    <Row>\n                                                        <Col sm={1}>\n                                                        </Col>\n                                                        <Col className=\"slot-headings\">\n                                                        Custom Text\n                                                        </Col>\n                                                        <Col className=\"slot-headings\">\n                                                        Hover Text\n                                                        </Col>\n                                                    </Row>\n                                                    <div className='scrollable-250'>\n                                                    {Object.keys(sessions).length > 0 ? (<div>\n                                                        {order.map(session => {\n                                                        if(session.toString().includes('b')) {\n                                                            return <BreakSlot key={session} id={sessions[session].id} breakText={sessions[session].breakText} bgColor={sessions[session].bgColor} textColor={sessions[session].textColor} />\n                                                        } else {\n                                                            return <SessionSlot key={session} id={sessions[session].id} customText={sessions[session].customText} hoverText={sessions[session].hoverText} />\n                                                        }\n                                                    })}\n                                                    </div>) : null}\n                                                    \n                                                    </div>\n                                                    <div className='add-button'>\n                                                        {settings.showTimetableSave ? (<Button variant='primary' onClick={handleTimetableSave}>Save</Button>) : null}\n                                                    </div>\n                                                    </div>) : null}\n                                                </Col>\n                                            </Row>\n                                        </Col>\n                                        <Col>\n                                        {settings.layoutText == 'Timetable' || settings.layoutText == 'Diary' ? (<div>Preview:</div>) : null }\n                                            <div className='scrollable-300'>\n                                            {settings.showPreview ? (<table width=\"100%\" border='1px'>\n                                                    <thead>\n                                                        <tr>\n                                                            <td>\n                                                                Session\n                                                            </td>\n                                                            {settings.days.map((day, index) => {\n                                                                if(day) {\n                                                                    return <td key={index} data-tip='day'>{days[index]}</td>\n                                                                }\n                                                            })}\n                                                        </tr>\n                                                    </thead>\n                                                    {settings.layoutText == 'Timetable' && Object.keys(sessions).length > 0 ? (\n                                                        <tbody>{order.map((session, index) => {\n                                                        if(session.toString().includes('b')) {\n                                                            return (<tr key={index} style={{backgroundColor:sessions[session].bgColor}}>\n                                                                <td style={{color:sessions[session].textColor}}>\n                                                                {sessions[session].breakText != '' ? sessions[session].breakText : sessions[session].id}</td>\n                                                                {settings.days.map((day, index) => {\n                                                                    if(day) {\n                                                                        return <td key={index}></td>\n                                                                    }\n                                                                })}\n                                                                </tr>)\n                                                        } else {\n                                                            return (<tr key={index}>\n                                                                    <td data-tip={sessions[session].hoverText != '' ? sessions[session].hoverText : null }>\n                                                                    {sessions[session].customText != '' ? sessions[session].customText : sessions[session].id}</td>\n                                                                    {settings.days.map((day, index) => {\n                                                                        if(day) {\n                                                                            return <td key={index}></td>\n                                                                        }\n                                                                    })\n                                                                    }\n                                                                    </tr>)\n                                                            }\n                                                    })}\n                                                    {handleReloadTooltip()}\n                                                    </tbody>\n                                                    ) : null}\n                                                    {settings.layoutText == 'Diary' ? (\n                                                        <tbody>\n                                                        {settings.times.map((time, index) => {\n                                                            return(<tr key={index}>\n                                                                    <td>{time}</td>\n                                                                    {settings.days.map((day, index) => {\n                                                                        if(day) {\n                                                                            return <td key={index}></td>\n                                                                        }\n                                                                    })\n                                                                    }\n                                                                  </tr>)\n                                                        })}\n                                                        </tbody>) : null}\n                                                    \n                                            </table>) : null}\n                                            </div>\n                                        </Col>\n                                    </Row>\n                                </div>\n                                </div>\n                                </Collapse>\n                        </th>\n                    </tr>\n                </thead>\n            </table>\n            <ReactTooltip />\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n            <Modal show={addModal.open} onHide={handleAddModalClose}>\n                <Modal.Header closeButton>\n                    <Modal.Title>Add Layout</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    <Form.Control value={addModal.newName} onChange={handleAddModalTextChange}/>\n                </Modal.Body>\n                <Modal.Footer>\n                    <Button variant='primary' onClick={handleAddModalSubmit}>\n                        Add\n                    </Button>\n                </Modal.Footer>\n            </Modal>\n        </div>\n    )\n}\n\nexport default Layouts;","import React, { useState, useEffect } from 'react';\nimport { orgUpdateHolidays, orgUpdateLocked } from '../../store/actions/organistion';\nimport { useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport { Collapse, Image, Row, Col, ListGroup, ListGroupItem, Button, Form, Modal } from 'react-bootstrap';\nimport DatePicker from 'react-datepicker';\nimport moment from 'moment';\nimport plus from '../../public/images/plus.png';\nimport minus from '../../public/images/minus.png';\nimport Axios from 'axios';\n\nfunction WeekSystemHolidays(props) {\n\n    const orgID = props.orgID;\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    const [settings, setSettings] = useState({\n        open: false,\n        startDate: moment(),\n        endDate: moment(),\n        startDateValue: '',\n        endDateValue: '',\n        weeks: [],\n        holidayTitles: [],\n        addNew: false,\n        newHoliday: '',\n        editWeek: false,\n        editWeekIndex: 0,\n        editTitle: false,\n        titleUUID: '',\n        showWeeks: false,\n        downloadedHolidays: [],\n        weekSystem: false,\n        weeksNum: [],\n        orgLocked: false,\n        collides: false\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    const [modalYN, setModalYN] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        acceptFunction: '',\n        acceptName: '',\n        showAccept: false,\n        cancelName: '',\n        showCancel: false\n    });\n\n    const [modalLg, setModalLg] = useState({\n        open: false,\n        heading: '',\n        message1: '',\n        message2: '',\n        message3: '',\n        boldMessage: ''\n    });\n\n    const [modalLock, setModalLock] = useState({\n        open: false,\n        heading: '',\n        message1: '',\n        message2: '',\n        message3: '',\n        boldMessage: ''\n    });\n\n    const [renameModal, setRenameModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        renameText: '',\n    });\n\n    const [help, setHelp] = useState({\n        holidayTitlesBorder: false,\n        weeksBorder: false,\n        datesText: '',\n        dates: false,\n        holidayTitlesText: '',\n        holidayTitles: false,\n        weeksText: '',\n        weeks: false,\n        weekNums: false,\n        weekNumsText: ''\n    });\n\n    useEffect(() => {\n        showHelp();\n    },[settings.showWeeks, settings.editWeek, settings.editTitle, settings.holidayTitles])\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalLgClose() {\n        setModalLg(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalLockClose() {\n        setModalLock(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalYNClose() {\n        setModalYN(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalLockRestore() {\n        \n        setModalYN({heading: 'Are you sure?', message: 'Are you sure you want to Restore?', acceptName: 'Yes', showAccept: true, acceptFunction: restoreAcceptence, cancelName: 'No', showCancel: true, open: true})\n    }\n\n    function restoreAcceptence() {\n\n        setModalYN(prevState => {\n            return {...prevState, open: false}\n        });\n\n        setModalLock(prevState => {\n            return {...prevState, open: false}\n        });\n        \n        const data = {orgID: orgID}\n        Axios.post('/organisation/restore', data)\n        .then(res => {\n            const data = res.data;\n            \n            if(data.message == 'System Restored') {\n                dispatch(orgUpdateLocked((data.locked == 'true')));\n                dispatch(orgUpdateHolidays(data.holidays));\n                setModalYN({heading: 'System Restored', message: 'Your system has been restored!', showAccept: true, acceptName: 'Ok', acceptFunction: AcceptenceOK, showCancel: false, open: true});\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function AcceptenceOK() {\n\n        setModalYN(prevState => {\n            return {...prevState, open: false}\n        });\n        history.push('/org/' + orgID);\n\n    }\n\n    function handleModalLockUnlock() {\n\n        setModalLock(prevState => {\n            return {...prevState, open: false}\n        });\n\n        const data = {orgID: orgID}\n        Axios.post('/organisation/unlock', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.error == 'Yes') {\n                setModalLock({open: false});\n                setModal({heading: 'Error Unlocking', message: data.message, open: true});\n            } else {\n                if(data.message == 'System Unlocked') {\n                    dispatch(orgUpdateLocked((data.locked == 'true')));\n                    setModalYN({heading: 'System Unlocked', message: 'Your system has been unlocked!', showAccept: true, acceptName: 'Ok', acceptFunction: AcceptenceOK, showCancel: false, open: true});\n                }\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function showHelp() {\n\n        let holidayTitlesBorder = false, weeksBorder = false, datesText, dates = false, holidayTitlesText, holidayTitles = false, weeksText, weeks = false, weekNums = false, weekNumsText\n        if(!settings.showWeeks) {\n            datesText = \"Set the 'Start Date' and 'End Date' to bring up the weeks under Year Preview\";\n            dates = true;\n            if(settings.holidayTitles.length > 0) {\n                holidayTitlesText = 'Click on a holiday title to edit it.';\n            } else {\n                holidayTitlesText = \"Add a holiday title\"\n            }\n            holidayTitles = true;\n        } else if (!settings.editWeek && !settings.editTitle && settings.showWeeks) {\n            holidayTitlesText = 'Click on a holiday title to edit it.';\n            holidayTitles = true;\n            weeksText = 'Click on a week on the right to assign a holiday to it'\n            weeks = true;\n        } else if(settings.editWeek) {\n            holidayTitlesText = 'Click on a title to assign it to the week';\n            holidayTitles = true;\n            if(settings.weekSystem) {\n                weekNumsText = 'Or Click on a week to assign it to';\n                weekNums = true\n            }\n        } else if(settings.editTitle) {\n            holidayTitlesText = \"Use the 'Rename' or 'Delete' buttons to the left\";\n            holidayTitles = true;\n            weeksText = 'Click on a week on the right to assign a holiday to it'\n            weeks = true;\n        }\n\n        setHelp({holidayTitlesBorder: holidayTitlesBorder, weeksBorder: weeksBorder, datesText: datesText, dates: dates, holidayTitlesText: holidayTitlesText, holidayTitles: holidayTitles, \n                    weeksText: weeksText, weeks: weeks, weekNumsText: weekNumsText, weekNums: weekNums});\n        \n    }\n\n    function handleRenameModalClose() {\n        setRenameModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function openHolidays() {\n\n        if(!settings.open) {\n\n            const data = {orgID: orgID};\n            Axios.post('/organisation/getHolidayData', data)\n            .then(res => {\n                const data = res.data;\n                console.log(data);\n\n                let startDate = moment();\n                let endDate = moment();\n                let startDateString = '';\n                let endDateString = '';\n                if(data.org.holidayStartDate == '') {\n                    startDateString = '';\n                } else {\n                    startDate = moment(data.org.holidayStartDate, 'DD/MM/YYYY');\n                    startDateString = startDate.format('DD/MM/YYYY');\n                }\n                if(data.org.holidayEndDate == '') {\n                    endDateString = '';\n                } else {\n                    endDate = moment(data.org.holidayEndDate, 'DD/MM/YYYY');\n                    endDateString = endDate.format('DD/MM/YYYY');\n                }\n                console.log(startDate);\n                setSettings(prevState => {\n                    return {...prevState, \n                        open: true, \n                        holidayTitles: data.titles,\n                        startDate: startDate,\n                        startDateValue: startDateString,\n                        endDate: endDate,\n                        endDateValue: endDateString,\n                        weekSystem: (data.org.weekSystem == 'true'),\n                        orgLocked: (data.locked == 'true'),\n                        collides: data.collideBookings\n                    };\n                });\n                const weeks = getWeeks(startDateString, endDateString);\n                workDownloadedHolidays(weeks, data.holidays);\n                BuildWeekNums(data.org.weeks)\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        } else {\n            setSettings(prevState => {\n                return {...prevState, open: false}\n            })\n        }\n    }\n\n    function handleStartDateChange(date) {\n        \n        setSettings(prevState => {\n            return {...prevState, startDate: date, startDateValue: moment(date, 'DD/MM/YYYY').format('DD/MM/YYYY')}\n        });\n\n        getWeeks(moment(date, 'DD/MM/YYYY').format('DD/MM/YYYY'), settings.endDateValue);\n    }\n\n    function handleEndDateChange(date) {\n        \n        setSettings(prevState => {\n            return {...prevState, endDate: date, endDateValue: moment(date, 'DD/MM/YYYY').format('DD/MM/YYYY') }\n        });\n\n        getWeeks(settings.startDateValue, moment(date, 'DD/MM/YYYY').format('DD/MM/YYYY'));\n    }\n\n    function getWeeks(startDate, endDate) {\n\n        if(startDate != '' && endDate != '') {\n            let sDate = moment(startDate, 'DD/MM/YYYY').startOf('week');\n            const eDate = moment(endDate, 'DD/MM/YYYY').startOf('week');\n\n            let weeks = [];\n            while(sDate.isBefore(eDate)) {\n                const week = {week: formatString(sDate.week()) + '-' +sDate.format('YY'), date: sDate.format('DD/MM/YYYY'), holiday: 0};\n                weeks.push(week);\n                sDate.add(1, 'w');\n            }\n\n            setSettings(prevState => {\n                return {...prevState, weeks: weeks, showWeeks: true};\n            });\n\n            return weeks;\n        }\n    }\n\n    function workDownloadedHolidays(weeks, holidays) {\n\n        if(holidays.length > 0) {\n\n            for(const holiday of holidays) {\n\n                for(const week of weeks) {\n                    if(holiday.weeks.includes(week.week)) {\n                        week.holiday = holiday.titleUUID;\n                    }\n                }\n            }\n\n            setSettings(prevState => {\n                return {...prevState, weeks: weeks};\n            });\n        }\n    }\n\n    function BuildWeekNums(weekNum) {\n\n        let weeks = [];\n        for(let i = 1; i <= weekNum; i++) {\n            weeks.push(i);\n        }\n\n        setSettings(prevState => {\n            return {...prevState, weeksNum: weeks}\n        });\n    }\n\n    function formatString(time) {\n\n        if(time.toString().length == 1) {\n            return '0' + time;\n        } else {\n            return time;\n        }\n    }\n\n    function handleWeek(id) {\n\n        setSettings(prevState => {\n            return {...prevState, editWeekIndex: id, editWeek: true, editTitle: false};\n        });\n    }\n\n    function handleHolidayTitle(title, uuid) {\n\n        if(settings.editWeek) {\n\n            const weeks = settings.weeks;\n\n            weeks[settings.editWeekIndex].holiday = 'h' + formatString(uuid);\n\n            setSettings(prevState => {\n                return{...prevState, weeks: weeks, editWeek: false}\n            });\n        } else{\n            if(title != 'Normal') {\n                setSettings(prevState => {\n                    return{...prevState, editTitle: true, editWeek: false, titleUUID: uuid}\n                });\n            } else {\n                setSettings(prevState => {\n                    return{...prevState, editTitle: false, editWeek: false}\n                });\n            }\n        }\n    }\n\n    function handleWeekClick(num) {\n\n        if(settings.editWeek) {\n\n            const weeks = settings.weeks;\n\n            weeks[settings.editWeekIndex].holiday = 'w' + formatString(num);\n\n            setSettings(prevState => {\n                return {...prevState, weeks: weeks, editWeek: false}\n            });\n        }\n    }\n\n    function handleAddNew() {\n        setSettings(prevState => {\n            return {...prevState, addNew: true}\n        });\n    }\n\n    function handleAddClose() {\n        setSettings(prevState => {\n            return {...prevState, addNew: false}\n        });\n    }\n\n    function handleTextChange(event) {\n\n        const {name, value } = event.target;\n\n        setSettings(prevState => {\n            return {...prevState, [name]: value}\n        });\n    }\n\n    function handleRenameTextChange(event) {\n\n        const {name, value } = event.target;\n\n        setRenameModal(prevState => {\n            return {...prevState, [name]: value}\n        });\n    }\n\n    function handleAddTitle() {\n\n        const data = {orgID: orgID, title: settings.newHoliday};\n        Axios.post('/organisation/addHolidayTitle', data)\n        .then(res => {\n            const data = res.data;\n            console.log(data);\n            if(data.message == 'Successfully added') {\n                setSettings(prevState => {\n                    return{...prevState, holidayTitles: data.titles, addNew: false, newHoliday: ''};\n                });\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n    }\n\n    function handleSave() {\n        console.log(settings.weeks);\n        const holidays = {};\n        for(const holiday of settings.weeks) {\n            \n            if(holiday.holiday != '0') {\n                let week = holidays[holiday.holiday];\n                if(week == '' || week == null) {\n                    week = holiday.week;\n                } else {\n                    week += ',' + holiday.week\n                }\n                holidays[holiday.holiday] = week;\n            }\n        }\n\n        const keys = Object.keys(holidays)\n        console.log(keys);\n        console.log(holidays);\n\n        const data = {orgID: orgID, startDate: settings.startDateValue, endDate: settings.endDateValue, holidays: keys, holidayWeeks: holidays, weekSystem: settings.weekSystem.toString(), weeksNo: settings.weeksNum.length};\n        Axios.post('/organisation/saveHolidays', data)\n        .then(res => {\n            const data = res.data;\n            dispatch(orgUpdateHolidays(data.holidays));\n            if(data.locked) {\n\n                dispatch(orgUpdateLocked('true'));\n\n                setSettings(prevState => {\n                    return {...prevState, orgLocked: data.locked, collides: data.collidedBookings};\n                });\n\n                const locked = 'Some or all of your rooms have the week system enabled on them. Due to this your organisation will be locked until you double check all the bookings are where they should be.\\n\\n\\n\\n';\n                const instructions = \"To unlock the organisation, go on 'UNLOCK' and follow the instructions to unlock. Here you will also be able to restore the system back to how it was, by going on 'RESTORE'\";\n                const collide = \"\\n\\nSome of your bookings have been collided with single bookings, as single bookings are not affected with changing the week system. Please go to 'COLLIDED BOOKINGS' to see them\";\n\n                let message = ''\n                let bold = ''\n\n                if(data.collidedBookings) {\n                    message = collide;\n                    bold = 'You will NOT be able to unlock your organisation until you have cleared all the collided bookings';\n                }\n\n                setModalLg({heading: 'Week System', message1: locked, message2: instructions, message3: message, boldMessage: bold, open: true});\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleCollisionBookings() {\n        history.push(\"/org/\" + orgID + \"/collisionBookings\")\n    }\n\n    function handleUnlock() {\n\n        const message = 'To unlock this organisation make sure that you have cleared all of the collided bookings, the system WILL NOT let you unlock until this is done. Backups only stay active for one cycle of locking organisation. Once unlocked, they are deleted and this is unreservable!!';\n        const restore = \"If you want to restore everything to the orginial state, before you edit the week system, click 'RESTORE'\"\n\n        setModalLock({heading: 'Unlock Organisation', message1: message, message2: restore, open: true});\n\n    }\n\n    function findHoliday(uuid) {\n\n        if(uuid == 0) {\n            return 'Normal'\n        } else {\n            let id = '';\n            if(uuid.includes('h')) {\n                const num = uuid.replace('h', '');\n                \n                if(num[0] == '0') {\n                    id = num[1];\n                } else {\n                    id = num;\n                }\n\n                for(const title of settings.holidayTitles) {\n                    if(title.uuid == id) {\n                        return title.name;\n                    }\n                }\n            }\n            if(uuid.includes('w')) {\n                const num = uuid.replace('w', '');\n                \n                if(num[0] == '0') {\n                    return 'Week ' + num[1]; \n                } else {\n                    return 'Week ' + num;\n                }\n            }\n        }\n    }\n\n    function handleRename() {\n\n        let name = ''\n        for(const title of settings.holidayTitles) {\n            if(title.uuid == settings.titleUUID) {\n                name = title.name;\n                break; \n            }\n        }\n        \n        setRenameModal({heading: 'Rename', open: true, renameText: name})\n    }\n\n    function handleRenameSubmit() {\n\n        const data = {orgID: orgID, uuid: settings.titleUUID, title: renameModal.renameText};\n        Axios.post('/organisation/renameHolidayTile', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.message == 'Successfully Updated') {\n                setSettings(prevState => {\n                    return {...prevState, holidayTitles: data.titles, editTitle: false};\n                });\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        });\n\n        setRenameModal({renameText: '', open: false});\n    }\n\n    function handleDelete() {\n\n        const data = {orgID: orgID, uuid: settings.titleUUID}\n\n        Axios.post('/organisation/deleteHolidayTitle', data)\n        .then(res => {\n            const data = res.data;\n\n            if(data.message == 'Successfully Deleted') {\n                setSettings(prevState => {\n                    return {...prevState, holidayTitles: data.titles, editTitle: false};\n                });\n                deleteInWeeks(settings.titleUUID);\n\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function deleteInWeeks(uuid) {\n\n        const weeks = settings.weeks;\n        for(const week of weeks) {\n            if(week.holiday == uuid) {\n                week.holiday = 0;\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, weeks: weeks}\n        });\n    }\n\n    function handleWeekSystemClicked(event) {\n        \n        const { checked } = event.target;\n        let weeksNum = [];\n        if(checked) {\n            \n            weeksNum = ['1'];\n            setSettings(prevState => {\n                return{...prevState, weekSystem: checked, weeksNum: weeksNum}\n            });\n            MarkNormalAsWeek();\n        } else {\n            const data = {orgID: orgID};\n            Axios.post('/organisation/geRoomsWeekSystem', data)\n            .then(res => {\n                if(res.data.rooms) {\n                    setModal({heading: 'Week System', message: 'There are some rooms still using the week system, delete them first', open: true});\n                } else {\n                    setSettings(prevState => {\n                        return {...prevState, weekSystem: checked, weeksNum: weeksNum}\n                    });\n                    MarkWeekAsNormal();\n                }\n            })\n            .catch(err => {\n                console.log(err);\n            })\n        }\n    }\n\n    function MarkNormalAsWeek() {\n        \n        let weeks = settings.weeks;\n        for(const week of weeks) {\n            if(week.holiday == '0') {\n                week.holiday = 'w01';\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, weeks: weeks}\n        })\n    }\n    \n    function MarkWeekAsNormal() {\n\n        let weeks = settings.weeks;\n        for(const week of weeks) {\n            if(week.holiday.includes('w')) {\n                week.holiday = '0';\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, weeks: weeks}\n        })\n    }\n\n    function handleWeekSystemPlus() {\n\n        const weeksNum = settings.weeksNum;\n\n        let len = weeksNum.length + 1;\n        if(len == 100) {\n            setModal(prevState => {\n                return {...prevState, heading: 'Weeks', message: 'You cannot exceed 99 weeks', open: true}\n            });\n        } else {\n            weeksNum.push(len);\n\n            setSettings(prevState => {\n                return {...prevState, weeksNum: weeksNum}\n            });\n        }\n    }\n\n    function handleWeekSystemMinus() {\n\n        const weeksNum = settings.weeksNum;\n        if(weeksNum.length > 1) {\n            const weekNo = weeksNum.pop();\n            const newWeek = weekNo - 1;\n\n            let weeks = settings.weeks;\n            for(const week of weeks) {\n                if(week.holiday == 'w' + formatString(weekNo)) {\n                    week.holiday = 'w' + formatString(newWeek);\n                }\n            }\n            setSettings(prevState => {\n                return {...prevState, weeksNum: weeksNum, weeks: weeks}\n            });\n        }\n    }\n\n    return (<div>\n\n        <table width='100%' border='1px'>\n            <thead>\n                <tr>\n                    <th>\n                    <div className=\"heading-text\"> <Image className=\"plus-image\" src={settings.open ? minus : plus} onClick={openHolidays} /> Week System / Holidays</div><br />\n                    <Collapse in={settings.open}>\n                        <div>\n                        <div className='margin-text'>\n                            {help.dates ? (\n                                <div>{help.datesText}</div>\n                            ) : null}\n                            {help.dates && help.holidayTitles ? '---' : null}\n                            {help.holidayTitles ? (\n                                <div className='help-holidayTitles'>{help.holidayTitlesText}</div>\n                                ) : null}\n                            {help.holidayTitles && help.weeks || help.holidayTitles && help.weekNums ? '---' : null}\n                            {help.weeks ? (\n                                <div className='help-weeks'>{help.weeksText}</div>\n                            ) : null}\n                            {help.weekNums ? (\n                                <div className='help-weekNums'>{help.weekNumsText}</div>\n                            ) : null}\n                        </div>\n                        <div className='normal-text'>\n                            <Row>\n                                <Col>\n                                    <Row>\n                                        <Col>\n                                        <Row>\n                                        <Col>Start Date:</Col>\n                                        <Col><DatePicker dateFormat='dd/MM/yyyy' selected={new Date(settings.startDate)} value={settings.startDateValue} onChange={handleStartDateChange}/></Col>\n                                        </Row>\n                                        <Row className='holidays-datePadding'>\n                                        <Col>End Date:</Col>\n                                        <Col><DatePicker dateFormat='dd/MM/yyyy' selected={new Date(settings.endDate)} value={settings.endDateValue} onChange={handleEndDateChange}/></Col>\n                                        </Row>\n                                        <Row className='holidays-datePadding'>\n                                            {!settings.editWeek ? (<div>\n                                                {settings.addNew ? (<div className='holidays-addNew'>\n                                                    <Form.Group>\n                                                    <Form.Label>New Holiday:</Form.Label>\n                                                    <Form.Control name=\"newHoliday\" value={settings.newHoliday} onChange={handleTextChange}></Form.Control>\n                                                    </Form.Group>\n                                                    <Button variant='primary' onClick={handleAddTitle}>Add</Button>\n                                                    <Button variant='primary' onClick={handleAddClose}>Close</Button>\n                                                </div>) : (<div>\n                                                            <Button  className='side-by-side' variant='primary' onClick={handleAddNew}>Add New Holiday Title</Button>\n                                                            <div className={settings.editTitle ? null : 'weeks-holidays-hide'}>\n                                                                <Button className='side-by-side' variant='primary' onClick={handleRename}>Rename</Button>\n                                                                <Button className='side-by-side' variant='primary' onClick={handleDelete}>Delete</Button>\n                                                            </div>\n                                                            </div>)}\n                                                </div>) : null}\n                                        </Row>\n                                        <Row>\n                                            {!settings.editWeek ? (<div>\n                                                <div className='weekSystem-centred'>\n                                                <Form.Check type='checkbox' checked={settings.weekSystem} onChange={handleWeekSystemClicked} label='Use week system' />\n                                                </div>\n                                                {settings.weekSystem ? (<div className='weekSystem-centred'>\n                                                    Weeks: {settings.weeksNum.length}<br />\n                                                    <Button variant='primary' onClick={handleWeekSystemMinus}>-</Button>\n                                                    <Button variant='primary' onClick={handleWeekSystemPlus}>+</Button>\n                                                </div>) : null}\n                                            </div>) : null}\n                                        </Row>\n                                        </Col>\n                                        <Col>\n                                        <Row>\n                                            Holiday Titles:\n                                            <div className={help.holidayTitles ? 'help-holidaytiles-bordered scrollable-150 holidays-titles' : 'scrollable-200 holidays-titles'}>                            \n                                                <ListGroup>\n                                                {!settings.weekSystem ? <ListGroupItem action onClick={() => handleHolidayTitle('Normal', 0)}>Normal</ListGroupItem> : null}\n                                                {settings.holidayTitles.map((title, index) => {\n                                                    return <ListGroupItem key={index} action onClick={() => handleHolidayTitle(title.name, title.uuid)}>{title.name}</ListGroupItem>\n                                                })}\n                                                </ListGroup>\n                                            </div>\n                                        </Row>\n                                        <Row className='weeks-row-padding'>\n                                            <div className={settings.weekSystem ? 'weekSystem-weeks scrollable-150' : 'weeks-holidays-hide'}>\n                                                Weeks: \n                                                <div className={help.weekNums ? 'help-weekNums-bordered' : null}>                        \n                                                    <ListGroup>\n                                                    {settings.weeksNum.map((week, index) => {\n                                                        return <ListGroupItem key={index} action onClick={() => {handleWeekClick(week)}}>Week{week}</ListGroupItem>\n                                                    })}\n                                                    </ListGroup>\n                                                </div>\n                                            </div>\n                                        </Row>\n                                        </Col>\n                                    </Row>\n                                </Col>\n                                <Col>\n                                    Year Preview:\n                                    <div className={help.weeks ? 'help-weeks-bordered scrollable-300' : 'scrollable-300'}>\n                                        <ListGroup>\n                                            {settings.weeks.map((week, index) => {\n                                                return <ListGroupItem key={index} action onClick={() => handleWeek(index)}>{week.date} - {findHoliday(week.holiday)}</ListGroupItem>\n                                            })}\n                                        </ListGroup>\n                                    </div>\n                                    <div className={settings.showWeeks ? \"save-button-show\" : \"save-button-hidden\"}>\n                                            {settings.orgLocked ? (<div>\n                                                {settings.collides ? <Button onClick={handleCollisionBookings}>Collided Bookings</Button> : null}\n                                                <Button onClick={handleUnlock}>Unlock</Button>\n                                            </div>) :(<Button onClick={handleSave}>Save</Button>)}\n                                    </div>\n                                </Col>\n                            </Row>\n                        </div>\n                        </div>\n                    </Collapse>\n                    </th>\n                </tr>\n            </thead>\n        </table>\n        <Modal show={modal.open} onHide={handleModalClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modal.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modal.message}</Modal.Body>\n            <Modal.Footer>\n            <Button variant=\"primary\" onClick={handleModalClose}>\n                Close\n            </Button>\n            </Modal.Footer>\n        </Modal>\n        <Modal show={modalYN.open} onHide={handleModalYNClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalYN.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalYN.message}</Modal.Body>\n            <Modal.Footer>\n            {modalYN.showAccept ? (<div>\n                <Button variant=\"primary\" onClick={modalYN.acceptFunction}>\n                    {modalYN.acceptName}\n                </Button>\n            </div>) : null}\n            {modalYN.showCancel ? (<div>\n                <Button variant=\"primary\" onClick={handleModalYNClose}>\n                    {modalYN.cancelName}\n                </Button>\n            </div>) : null}\n            </Modal.Footer>\n        </Modal>\n            <Modal size='lg' show={modalLg.open} onHide={handleModalLgClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modalLg.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n                    {modalLg.message1 != '' ? modalLg.message1 : null}\n                    {modalLg.message2 != '' ? (<div><br />{modalLg.message2}</div>) : null}\n                    {modalLg.message3 != '' ? (<div><br />{modalLg.message3}</div>) : null}\n                    {modalLg.boldMessage != '' ? (<div><br /><strong>{modalLg.boldMessage}</strong></div>) : null}\n                </Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalLgClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n        <Modal show={renameModal.open} onHide={handleRenameModalClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{renameModal.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form.Control name='renameText' value={renameModal.renameText} onChange={handleRenameTextChange} />\n            </Modal.Body>\n            <Modal.Footer>\n            <Button variant=\"primary\" onClick={handleRenameSubmit}>\n                Rename\n            </Button>\n            </Modal.Footer>\n        </Modal>\n        <Modal size='lg' show={modalLock.open} onHide={handleModalLockClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalLock.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {modalLock.message1 != '' ? modalLock.message1 : null}\n                {modalLock.message2 != '' ? (<div><br />{modalLock.message2}</div>) : null}\n                {modalLock.message3 != '' ? (<div><br />{modalLock.message3}</div>) : null}\n                {modalLock.boldMessage != '' ? (<div><br /><strong>{modalLock.boldMessage}</strong></div>) : null}\n            </Modal.Body>\n            <Modal.Footer>\n            <Button variant=\"primary\" onClick={handleModalLockRestore}>\n                Restore\n            </Button>\n            <Button variant=\"primary\" onClick={handleModalLockUnlock}>\n                Unlock\n            </Button>\n            </Modal.Footer>\n        </Modal>\n\n    </div>)\n}\n\nexport default WeekSystemHolidays;","import React, { createContext, useState} from 'react'\n\nexport const GProfileContext = createContext();\n\nfunction GProfileContextProvider(props) {\n\n    const [GProfile, setGProfile] = useState({\n        uuid: '',\n        name: ''\n    });\n\n    function setIDAndName(id, name) {\n\n        setGProfile(prevState => {\n            return {...prevState, uuid: id, name: name};\n        });\n    }\n\n    return (\n        <GProfileContext.Provider value={{GProfile, setIDAndName}}>\n            {props.children}\n        </GProfileContext.Provider>\n    )\n}\n\nexport default GProfileContextProvider;","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\n//COMPONENTS\nimport LoginSettings from './orgAdminComponets/loginSettings';\nimport DepartmentSettings from './orgAdminComponets/departmentSettings';\nimport Users from './orgAdminComponets/users';\nimport Rooms from \"./orgAdminComponets/rooms\";\nimport Layouts from \"./orgAdminComponets/layoutSettings\";\nimport WeekSystemHolidays from './orgAdminComponets/weekSystemHolidays';\nimport UserProfiles from './orgAdminComponets/userProfiles';\n\nimport SessionsContextProvider from '../context/adminTemplatesSessions';\n\n//Styles\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport userProfiles from './orgAdminComponets/userProfiles';\n\n\nfunction OrganisationAdmin(props) {\n\n  const orgID = props.match.params.id;\n\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = \"STAFF\";\n  },[]);\n\n  return (\n    <div className=\"body\">\n        <Container fluid className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n              <LoginSettings orgID={orgID}/><br />\n              <DepartmentSettings orgID={orgID}/><br />\n                <Users orgID={orgID} /> <br />\n              <Rooms orgID={orgID} /> <br />\n              <SessionsContextProvider>\n                <Layouts orgID={orgID} /> <br />\n              </SessionsContextProvider>\n              <WeekSystemHolidays orgID={orgID} /><br />\n              {/* <UserProfiles orgID={orgID} /> */}\n            </Jumbotron>\n        </Container>\n    </div>\n  );\n}\n\nexport default OrganisationAdmin;","import Axios from 'axios';\nimport React, { useContext, useEffect, useState } from 'react';\nimport { Button, Col, Container, Jumbotron, ListGroup, Row, Modal } from 'react-bootstrap';\nimport { useHistory } from 'react-router-dom';\n\nimport { GProfileContext } from '../../context/GProfileContext';\n\nfunction ProfileSettings(props) {\n\n    const orgID = props.match.params.id;\n\n    const { GProfile } = useContext(GProfileContext);\n    const history = useHistory();\n\n    useEffect(() => {\n\n        if(GProfile.uuid == '') {\n            history.push('/org/' + orgID + '/organisationAdmin');\n        } else {\n            loadProfile();\n        }\n    }, []);\n\n    const [settings, setSettings] = useState({\n        users: [],\n        userUUID: '',\n        nonProfileUsers: [],\n        profileUsers: [],\n        rooms: [],\n    });\n\n    const [userHistory, setHistory] = useState({\n        users: []\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function handleCloseModal() {\n        setModal(prevState => {\n            return {...prevState, open: false}\n        })\n    }\n\n    function loadProfile() {\n\n        const data = {orgID: orgID, profileUUID: GProfile.uuid}\n        Axios.post('/userProfile/loadProfile', data)\n        .then(res => {\n            const data = res.data;\n            console.log(data);\n\n            getProfileUsers(data.users);\n\n            //ROOMS\n            const UPRooms = data.UPRooms;\n            const orgRooms = data.orgRooms;\n            \n            let rooms = [];\n\n                orgRooms.map(room => {\n                    \n                    let exsit = false;\n\n                    UPRooms.map(UPRoom => {\n\n                        if(room.uuid == UPRoom.roomUUID) {\n                            \n                            exsit = true;\n                            const obj = {uuid: room.uuid, name: room.name, view: (UPRoom.view == 'true'), write: (UPRoom.write == 'true'), edit: (UPRoom.edit == 'true'), delete: (UPRoom.delete  == 'true'), repeat: (UPRoom.repeat == 'true')}\n                            rooms.push(obj);\n                        }\n                    })\n\n                    if(!exsit){\n\n                        const roomObj = {uuid: room.uuid, name: room.name, view: false, write: false, edit: false, delete: false, repeat: false}\n                        rooms.push(roomObj);\n                    }\n                })\n\n            setSettings(prevState => {\n                return {...prevState, rooms: rooms};\n            });\n        })\n        .catch(err => {\n            console.log(err)\n        })\n    }\n\n    function getProfileUsers(allUsers) {\n\n        let nonProfileusers = [];\n        let profileUsers = [];\n\n        allUsers.map(user => {\n            \n            const profiles = user.userProfiles.split(',');\n\n            if(profiles.includes(GProfile.uuid.toString())) {\n                profileUsers.push(user);\n            } else {\n                nonProfileusers.push(user);\n            }\n        });\n\n        setSettings(prevState => {\n            return {...prevState, nonProfileUsers: nonProfileusers, profileUsers: profileUsers, users: allUsers, userUUID: ''}\n        });\n    }\n\n\n    function handleRoomSelectProperty(uuid, property) {\n\n        const rms = settings.rooms;\n\n        rms.forEach(room => {\n            if(room.uuid == uuid) {\n                if(room[property]) { //turns to false\n                    room[property] = false;\n\n                    if(property == 'view') {\n                        room.write = false;\n                        room.edit = false;\n                        room.delete = false;\n                        room.repeat = false;\n                    }\n\n                } else { //turns to true\n                    room[property] = true;\n                }\n            }\n        });\n\n        setSettings(prevState => {\n            return {...prevState, rooms: rms}\n        });\n    }\n\n    function handleUpdateProfile() {\n\n        const usersToUpdate = [];\n\n        userHistory.users.map(id => {\n\n            settings.users.map(user => {\n\n                if(user.uuid == id) {\n\n                    usersToUpdate.push(user);\n                }\n            })\n        })\n\n        const data = {orgID: orgID, profileUUID: GProfile.uuid, usersToUpdate: usersToUpdate, rooms: settings.rooms};\n\n        Axios.post('/userProfile/saveProfile', data)\n        .then(res => {\n            console.log(res.data);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function handleSelectAllViews() {\n        console.log('select all views');\n    }\n\n    //USERS\n    function handleUserClicked(uuid) {\n\n        setSettings(prevState => {\n            return {...prevState, userUUID: uuid}\n        });\n    }\n\n    function handleMoveUserIntoProfile() {\n\n        if(settings.userUUID == '') {\n            setModal({heading: 'Move User', message: 'You need to select an user first', open: true})\n        } else {\n\n            settings.users.map(user => {\n\n                if(user.uuid == settings.userUUID) {\n\n                    let profiles = [];\n\n                    if(user.userProfiles != '') {\n                        profiles = user.userProfiles.split(',');\n                    }\n\n                    if(profiles.length > 5) {\n                        setModal({heading: 'Move User', message: 'This user has already got 5 profile assigned to them', open: true});\n                    } else {\n\n                        if(profiles.length == 0) {\n                            profiles = [0];\n                        } else {\n                            profiles.push(GProfile.uuid);\n                        }\n\n                        user.userProfiles = profiles.toString();\n                    }\n                    \n                    insertUserHistory(settings.userUUID);\n                    getProfileUsers(settings.users);\n                }\n            })\n        }\n    }\n\n    function handleMoveUserOutProfile() {\n\n        if(settings.userUUID == '') {\n            setModal({heading: 'Move User', message: 'You need to select an user first', open: true})\n        } else {\n\n            settings.users.map(user => {\n\n                if(user.uuid == settings.userUUID) {\n\n                    let profiles = [];\n\n                    if(user.userProfiles != '') {\n                        profiles = user.userProfiles.split(',');\n                    }\n\n                    const ID = profiles.indexOf(GProfile.uuid.toString());\n\n                    profiles.splice(ID, 1);\n\n                    user.userProfiles = profiles.toString();\n                    \n                    insertUserHistory(settings.userUUID);\n                    getProfileUsers(settings.users);\n                }\n            })\n        }\n    }\n\n    function insertUserHistory(uuid) {\n\n        if(!userHistory.users.includes(uuid)) {\n\n            setHistory(prevState => {\n                return {users: [...userHistory.users, uuid]}\n            });\n        }\n    }\n\n    return (<div>\n        <Container fluid className='p-3'>\n            <Jumbotron className='back-color'>\n                <h1>Profile Settings</h1>\n                <h2>{GProfile.name}</h2>\n                <br />\n                <div className='align-right'>\n                            <Button variant='primary' onClick={handleUpdateProfile}>Update</Button>\n                        </div>\n                <Row className='normal-text'>\n                    <strong>Users:</strong>\n                </Row>\n                <br />\n                    <Row>\n                        <Col><strong>Users in this profile:</strong>\n                            <div className='align-left, scrollable-300'>\n                                <ListGroup>\n                                    {settings.profileUsers.map((user, index) => {\n                                        return <ListGroup.Item key={index} action onClick={() => handleUserClicked(user.uuid)}>{user.displayName}</ListGroup.Item>\n                                    })}\n                                </ListGroup>\n                            </div></Col>\n                        <Col>\n                            <div className='valign-center'>\n                                <span className='valign'>\n                                    <Button onClick={handleMoveUserIntoProfile}>Move into profile</Button><br/>\n                                    <Button onClick={handleMoveUserOutProfile}>Move out of profile</Button>\n                                </span>\n                                \n                            </div>\n                        </Col>\n                        <Col>\n                            <strong>Users not in this profile:</strong>\n                            <div className='align-left, scrollable-300'>\n                                <ListGroup>\n                                    {settings.nonProfileUsers.map((user, index) => {\n                                        return <ListGroup.Item key={index} action onClick={() => handleUserClicked(user.uuid)}>{user.displayName}</ListGroup.Item>\n                                    })}\n                                </ListGroup>\n                            </div>\n                        </Col>\n                    </Row>\n                \n                <br />\n                <Row>\n                    <Col className='normal-text'>\n                        <strong>Rooms:</strong><br />\n                        <div className='align-right'>\n                            <Button variant='primary' disabled>Selected</Button>\n                            <Button variant='outline-primary' disabled>Unselected</Button>\n                        </div>\n                        <div>\n                            {/* <a href='' onClick={handleSelectAllViews}>Select all Views</a> */}\n                        </div>\n                        <div className='scrollable-300'>\n                            <ListGroup>\n                            {settings.rooms.map((room, index) => {\n                                            return <ListGroup.Item key={index}>\n                                                <Row>\n                                                <Col>{room.name}</Col>\n                                                <Col><Button variant={room.view ? 'primary' : 'outline-primary'} onClick={() => handleRoomSelectProperty(room.uuid, 'view')}>View</Button></Col>\n                                                <Col>{room.view ? <Button variant={room.write ? 'primary' : 'outline-primary'} onClick={() => handleRoomSelectProperty(room.uuid, 'write')}>Write</Button> : null}</Col>\n                                                <Col>{room.view ? <Button variant={room.edit ? 'primary' : 'outline-primary'} onClick={() => handleRoomSelectProperty(room.uuid, 'edit')}>Edit</Button> : null}</Col>\n                                                <Col>{room.view ? <Button variant={room.delete ? 'primary' : 'outline-primary'} onClick={() => handleRoomSelectProperty(room.uuid, 'delete')}>Delete</Button>: null}</Col>\n                                                <Col>{room.view ? <Button variant={room.repeat ? 'primary' : 'outline-primary'} onClick={() => handleRoomSelectProperty(room.uuid, 'repeat')}>Repeat</Button> : null}</Col>\n                                                </Row>\n                                            </ListGroup.Item>\n                            })}\n                            </ListGroup>\n                        </div>\n                    </Col>\n                    <Col>Other Settings</Col>\n                </Row>\n                <Row>\n                    <Col>\n                        <div className='align-right'>\n                            <Button variant='primary' onClick={handleUpdateProfile}>Update</Button>\n                        </div>\n                    </Col>\n                </Row>\n            </Jumbotron>\n        </Container>\n        <Modal show={modal.open} onHide={handleCloseModal}>\n            <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                {modal.message}\n            </Modal.Body>\n            <Modal.Footer>\n                <Button variant='primary' onClick={handleCloseModal}>Close</Button>\n            </Modal.Footer>\n        </Modal>\n    </div>)\n}\n\nexport default ProfileSettings;","import React, { useState, useEffect} from 'react';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\nimport ServerPath, { hostPath } from \"../ServerPath\";\nimport {useDispatch, useSelector} from 'react-redux';\nimport {userUpdateAuth, userUpdateName, userUpdateRole, userUpdateNew, userUpdateRequestedPassword, userUpdateOrgID, userUpdateSARequest, userUpdateUUID, userUpdateUserDepartments} from '../store/actions/user';\nimport { UpdateForceSignIn, UpdateFromSignIn } from '../store/actions/globalVars';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\n\nfunction SignIn(props) {\n\n  const organisationID = props.match.params.id;\n\n  const user = useSelector(state => state.user);\n  const organisation = useSelector(state => state.organisation);\n  const globalVars = useSelector(state => state.globalVars);\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [message, setmessage] = useState('');\n\n  useEffect(() => {\n    document.title = \"STAFF - Sign In\";\n    ServerPath();\n    //onOpen();\n  },[])\n\n  function onOpen() {\n    if(user.auth) {\n      history.push('/');\n    }\n  }\n\n  return (\n    <div className=\"body\">\n    <Container className=\"p-3\">\n      <Jumbotron className=\"back-color\">\n      <h1>{organisation.name}</h1> <br />\n        <h3>Please Sign In!</h3>\n        <p>{organisation.message}</p>\n        {organisation.signInLocal ? (\n          <div>\n          <form>\n          <label id=\"lblEmail\">Email:</label><br />\n          <input id=\"txtEmail\"type=\"email\"></input><br /><br />\n          <label id=\"lblPassword\">Password:</label><br />\n          <input id=\"txtPassword\" type=\"password\"></input><br /> <br />\n          <p>{message}</p>\n        </form><br />\n        \n        <Button variant=\"warning\" onClick={logIn}>Log in</Button>\n        <Button variant=\"warning\" onClick={() => history.push('/org/'+ organisationID +'/forgotPassword')}>Forgot Password</Button><br /><br />\n          </div>) : (<div></div>)}\n\n        {organisation.signInGoogle ? (\n          <Button variant=\"danger\" href={hostPath + \"/auth/google\"}><i className=\"fab fa-google\"></i> Log in with Google</Button>\n        ) : (<div></div>)}\n        \n      </Jumbotron>\n    </Container>\n    </div>\n  );\n\n  function logIn(event) {\n    event.preventDefault();\n    const email = document.getElementById(\"txtEmail\").value;\n    const password = document.getElementById(\"txtPassword\").value;\n\n    const data = {email: email, password: password}\n    Axios.post(\"/login\", data)\n    .then(res => {\n      console.log(res.data);\n        const message = res.data.message;\n\n        if(message === \"Logged in successful\") {\n            dispatch(userUpdateAuth(true));\n            dispatch(userUpdateUUID(res.data.uuid));\n            dispatch(userUpdateName(res.data.displayName));\n            dispatch(userUpdateUserDepartments(res.data.departments));\n            dispatch(userUpdateRole(res.data.role));\n            dispatch(userUpdateNew(res.data.new));\n            dispatch(userUpdateRequestedPassword(res.data.requestedPassword));\n            dispatch(userUpdateOrgID(res.data.orgID));\n            dispatch(userUpdateSARequest(res.data.SARequest));\n\n            if(globalVars.forceSignIn) {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(false));\n            } else {\n              dispatch(UpdateFromSignIn(true));\n              dispatch(UpdateForceSignIn(true));\n            }\n        } else {\n            setmessage(res.data.info);\n        }\n    })\n    .catch(err => {\n        console.log(err);\n    });\n  }\n\n  function register() {\n    history.push(\"/register\");\n  }\n}\n\nexport default SignIn;\n","import React, { useEffect, useState } from 'react';\nimport { Route, Router, useHistory } from 'react-router-dom';\nimport { orgUpdateName, orgUpdateSignInLocal, orgUpdateSignInGoogle, orgUpdateMessage, orgUpdateUseDepartments, orgUpdateNoOfDepartments, orgUpdateDepartments, orgUpdateAllocatedRooms, orgUpdateRedeemedRooms, orgUpdateRooms, orgUpdateHolidays, orgUpdateLayouts, orgUpdateLocked } from \"../store/actions/organistion\";\nimport { UpdateFromSignIn } from '../store/actions/globalVars';\n\nimport OrganisationHome from \"../pages/organisationHome\";\nimport CollisionBookings from '../pages/orgAdminComponets/collisionBookings';\nimport ChangeofSeniorRequest from '../pages/orgAdminComponets/changeOfSeniorRequest';\nimport userDetails from '../pages/orgAdminComponets/userDetails';\nimport ForgotPassword from \"../pages/forgotPassword\";\nimport ChangePassword from '../pages/changePassword';\nimport CreatePassword from \"../pages/createPassword\";\nimport WrongOrganisation from '../pages/wrongOrganisation';\n\nimport OrganisationAdmin from \"../pages/organisationAdmin\";\nimport ProfileSettings from '../pages/orgAdminComponets/profileSettings';\n\nimport SignIn from \"../pages/signIn\";\nimport Axios from 'axios';\nimport {useSelector, useDispatch} from 'react-redux';\n\nimport GUserContextProvider from '../context/GUserContext';\nimport GProfileContextProvider from '../context/GProfileContext';\n\n\nfunction OrganisationRouter(props) {\n\n    const orgID = props.match.params.id;\n    const user = useSelector(state => state.user);\n    const globalVars = useSelector(state => state.globalVars);\n    const dispatch = useDispatch();\n    const history = useHistory();\n    const [isLoaded, setLoaded] = useState(false);\n\n    useEffect(() => {\n        document.title = \"STAFF\";\n        getOrgisation();\n      },[globalVars.forceSignIn]);\n\n    function getOrgisation() {\n\n        const url = '/organisation/' + orgID;\n        Axios.get(url)\n        .then(res => {\n          if(res.data.userError != \"Yes\") {\n            dispatch(orgUpdateName(res.data.organisation.name));\n            dispatch(orgUpdateSignInLocal((res.data.organisation.auth_Local == 'true')));\n            dispatch(orgUpdateSignInGoogle((res.data.organisation.auth_Google == 'true')));\n            dispatch(orgUpdateMessage(res.data.organisation.message));\n            dispatch(orgUpdateUseDepartments((res.data.organisation.useDepartments == 'true')));\n            dispatch(orgUpdateNoOfDepartments(res.data.organisation.noOfDepartments));\n            dispatch(orgUpdateAllocatedRooms(res.data.organisation.allocatedRooms));\n            dispatch(orgUpdateRedeemedRooms(res.data.organisation.redeemedRooms));\n            dispatch(orgUpdateRooms(res.data.rooms));\n            dispatch(orgUpdateLayouts(res.data.layouts));\n            dispatch(orgUpdateHolidays(res.data.holidays));\n            dispatch(orgUpdateLocked((res.data.organisation.locked == 'true')));\n\n            if(user.auth == false) {\n              history.push('/org/' + orgID + '/signIn');\n            } else {\n                if(user.orgID != orgID) {\n                  history.push('/org/'+ user.orgID +'/wrongOrganisation');\n\n                } else if (user.requestedPassword == 'true') {\n                  history.push('/org/'+ orgID +'/changePassword');\n                  \n                } else if(user.new == 'true') {\n                  history.push('/org/' + orgID +'/createPassword');\n\n                } else if(user.SARequest == 'true') {\n                  history.push('/org/' + orgID + '/changeOfSeniorRequest');\n                } \n                else {\n                  if(globalVars.fromSignIn) {\n                    history.push('/org/' + orgID);\n                  }\n                }\n            }\n            setLoaded(true);\n          } else {\n            history.push('/');\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        })\n    \n        const data = {orgID: orgID}\n        Axios.post('/organisation/allDepartments', data)\n        .then(res => {\n            dispatch(orgUpdateDepartments(res.data.departments));\n        })\n        .catch(err => {\n          console.log(err);\n        })\n      }\n\n    return (\n        <div>\n            {isLoaded ? (<div>\n                <Route path='/org/:id' exact component={OrganisationHome} />\n                <Route path='/org/:id/collisionBookings' component={CollisionBookings} />\n                <GProfileContextProvider>\n                <GUserContextProvider>\n                <Route path=\"/org/:id/organisationAdmin\" component={OrganisationAdmin} />\n                <Route path=\"/org/:id/userDetails\" component={userDetails} />\n                <Route path=\"/org/:id/profileSettings\" component={ProfileSettings} />\n                </GUserContextProvider>\n                </GProfileContextProvider>\n                <Route path=\"/org/:id/signIn\" component={SignIn} />\n                <Route path=\"/org/:id/forgotPassword\" component={ForgotPassword} />\n                <Route path=\"/org/:id/changePassword\" component={ChangePassword} />\n                <Route path='/org/:id/changeOfSeniorRequest' component={ChangeofSeniorRequest} />\n                <Route path=\"/org/:id/createPassword\" component={CreatePassword} />\n                <Route path='/org/:id/wrongOrganisation' component={WrongOrganisation} />\n            </div>) : null}\n        </div>\n    )\n}\n\nexport default OrganisationRouter;","import React, {useEffect, useState, useContext} from 'react';\nimport { Container, Jumbotron, Row, Col, Form, Button, Dropdown, Modal } from 'react-bootstrap';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport DatePicker from \"react-datepicker\";\nimport moment from 'moment';\n \nimport \"react-datepicker/dist/react-datepicker.css\";\n\nfunction Book(props) {\n\n    const orgID = props.match.params.id;\n    const history = useHistory();\n\n    const user = useSelector(state => state.user);\n    const organisation = useSelector(state => state.organisation);\n    const globalVars = useSelector(state => state.globalVars);\n\n    const [settings, setSettings] = useState({\n        userList: [],\n        departmentList: [],\n        user: 'Users',\n        userID: '',\n        department: 'Departments',\n        departmentID: '',\n        sessionLength: 'Length',\n        sessionLengthTitle: '',\n        showSessionLength: true,\n        sessions: [],\n        repeat: false,\n        daily: false,\n        weekly: false,\n        endOfYear: false,\n        untilDate: moment(),\n        showUserDropdown: true,\n        sessDes: '',\n        sessDesTitle: '',\n        comments: '',\n        times: []\n    });\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: '',\n    });\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    useEffect(() => {\n        if(globalVars.date == '') {\n            history.push('/org/' + orgID);\n        } else {\n            onOpen();\n        }\n    }, []);\n\n    function onOpen() {\n\n        if(user.role != 'user') {\n            FetchUsersAndDepartments();\n        } else {\n            FetchUserDepartments();\n\n            setSettings(prevState => {\n                return {...prevState, showUserDropdown: false, user: user.name, userID: user.uuid}\n            });\n        }\n        if(globalVars.layoutData.layout == 'Timetable') {\n            if(globalVars.sessionID.includes('b')) {\n                \n                setSettings(prevState => {\n                    return {...prevState, showSessionLength: false, sessionLength: '1'};\n                })\n            } else {\n                const IDs = globalVars.sessionID.split('-');\n                const firstIndex = parseInt(IDs[1]);\n                \n                let sessions = [];\n                let sess = 1;\n                for(let i = firstIndex; i <= globalVars.totalSessions; i++) {\n                    sessions.push(sess);\n                    sess++;\n                }\n                setSettings(prevState => {\n                    return {...prevState, sessions: sessions}\n                });\n            }\n            //Change Titles\n            setSettings(prevState => {\n                return {...prevState, sessDesTitle: 'Class', sessionLengthTitle: 'Session Length'};\n            });\n\n        } else if(globalVars.layoutData.layout == 'Diary') {\n\n            const sTime = moment(globalVars.sessionLabel, 'HH:mm');\n\n            BuildTimes(sTime, globalVars.finishTime, globalVars.timeInterval);\n\n            //Change Titles\n            setSettings(prevState => {\n                return {...prevState, sessDesTitle: 'Subject', sessionLengthTitle: 'Until'};\n            });\n        }\n\n        const currentDate = moment(globalVars.date, 'DD/MM/YYYY');\n\n        setSettings(prevState => {\n            return {...prevState, untilDate: currentDate};\n        })\n    }\n\n    function FetchUsersAndDepartments() {\n\n        const data = {orgID: orgID, users: true, departments: true}\n\n        Axios.post('/organisation/usersAndDepartments', data)\n        .then(res => {\n            const data = res.data;\n            if(data.userList != 'none') {\n                setSettings(prevState => {\n                    return {...prevState, userList: data.userList};\n                })\n            }\n            if(data.departmentList != 'none') {\n                setSettings(prevState => {\n                    return {...prevState, departmentList: data.departmentList}\n                })\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function FetchUserDepartments() {\n\n        const userDepartments = user.userDepartments.split(',');\n        let departments = [];\n\n        for(const depIndex of userDepartments) {\n            \n            for(const department of organisation.departments) {\n                if(department.uuid == depIndex) {\n                    departments.push(department);\n                }\n            }\n        }\n\n        setSettings(prevState => {\n            return {...prevState, departmentList: departments};\n        });\n    }\n\n    //Dropdowns select functions\n    function handleUsersDropdownItem(name, uuid) {\n\n        setSettings(prevState => {\n            return {...prevState, user: name, userID: uuid};\n        });\n    }\n\n    function handleDepartmentsDropdownItem(name, id) {\n\n        setSettings(prevState => {\n            return {...prevState, department: name, departmentID: id};\n        });\n\n        console.log(globalVars.roomID);\n    }\n\n    function handleSessionsDropdownItem(event) {\n\n        const { innerText} = event.target;\n\n        setSettings(prevState => {\n            return {...prevState, sessionLength: innerText};\n        });\n    }\n\n    function handleRepeatCheckChanged(event) {\n\n        const { checked } = event.target;\n\n        setSettings(prevState => {\n            return {...prevState, repeat: checked}\n        })\n    }\n\n    function handleDailyCheckChanged(event) {\n\n        const { checked } = event.target;\n\n        if(!checked) {\n            setSettings(prevState => {\n                return {...prevState, daily: checked}\n            });\n        } else {\n            setSettings(prevState => {\n                return {...prevState, daily: checked, weekly: !checked, endOfYear: !checked}\n            });\n        }\n    }\n\n    function handleWeeklyCheckChanged(event) {\n\n        const { checked } = event.target;\n\n        if(!checked) {\n            setSettings(prevState => {\n                return {...prevState, weekly: checked}\n            });\n        } else {\n            setSettings(prevState => {\n                return {...prevState, weekly: checked, daily: !checked, endOfYear: !checked}\n            });\n        }\n    }\n\n    function handleEndOfYearCheckChanged(event) {\n\n        const { checked } = event.target;\n\n        if(!checked) {\n            setSettings(prevState => {\n                return {...prevState, endOfYear: checked}\n            })\n        } else {\n            setSettings(prevState => {\n                return {...prevState, endOfYear: checked, daily: !checked, weekly: !checked}\n            })\n\n            endOfYearDate();\n        }\n    }\n\n    function endOfYearDate() {\n\n        let endDate = moment();\n        const today = moment();\n\n        if(today.month() > 6) {\n            const date = moment('31/07/' + today.year(), 'DD/MM/YYYY');\n            date.add(1, 'y');\n            endDate = moment(date, 'DD/MM/YYYY');\n        } else {\n            const date = moment('31/07/' + today.year(), 'DD/MM/YYYY');\n            endDate = moment(date, 'DD/MM/YYYY');\n        }\n\n        setSettings(prevState => {\n            return {...prevState, untilDate: new Date(endDate)}\n        })\n    }\n\n    function handleDateChange(date) {\n        \n        setSettings(prevState => {\n            return {...prevState, untilDate: date }\n        });\n    }\n\n    function handleTextBoxChange(event) {\n\n        const { name, value } = event.target;\n\n        setSettings(prevState => {\n            return {...prevState, [name]:value}\n        });\n    }\n\n    function handleBook() {\n\n        const today = moment();\n        if(settings.user == 'Users') {\n            setModal({heading: 'Booking', message:'Please select an user', open: true});\n\n        } else if(settings.department == 'Departments') {\n            setModal({heading: 'Booking', message:'Please select a department', open: true});\n\n        } else if(settings.sessionLength == 'Length') {\n            setModal({heading: 'Booking', message:'Please select a session length', open: true});\n\n        } else if(settings.sessDes == '') {\n            setModal({heading: 'Booking', message:'Please put a class', open: true});\n\n        } else if(settings.repeat) {\n            if(!settings.daily && !settings.weekly && !settings.endOfYear) {\n                setModal({heading: 'Booking', message:'Please select a repeat method', open: true});\n\n            } else{\n                const uDate = moment(settings.untilDate, 'DD/MM/YYYY');\n                const cDate = moment(globalVars.date, 'DD/MM/YYYY');\n                if(uDate.isSameOrBefore(cDate)) {\n                    setModal({heading: 'Booking', message:'Please select a date after the selected booking date', open: true});\n                } else {\n                    const cDate = moment(globalVars.date, 'DD/MM/YYYY');\n                    cDate.add(2, 'y');\n                    if(uDate.isAfter(cDate)) {\n                        setModal({heading: 'Booking', message:'You cannot repeat a booking for more than two years.', open: true});\n                    } else {\n                        BookSession();\n                    }\n\n                    \n                }\n            }\n        } else {\n            BookSession();\n        }\n    }\n\n    function BookSession() {\n\n        let bookingType = '';\n        let repeatType = '';\n        let repeatUntil = '';\n        let sessions = [];\n\n        const IDs = globalVars.sessionID.split('-');\n\n        if(globalVars.layoutData.layout == 'Timetable') {\n            if(!IDs[1].toString().includes('b')) {\n\n                let firstIndex = parseInt(IDs[1]);\n\n                for(var i = 0; i < settings.sessionLength; i++) {\n                    sessions.push(firstIndex);\n                    firstIndex++;\n                }\n            } else {\n                sessions.push(IDs[1]);\n            } \n        } else if (globalVars.layoutData.layout == 'Diary') {\n\n            let sTime = moment(globalVars.sessionLabel, 'HH:mm');\n            const fTime = moment(settings.sessionLength, 'HH:mm');\n            \n            while (sTime.isBefore(fTime)) {\n                sessions.push(sTime.format('HH:mm').replace(':', ''));\n                sTime.add(globalVars.timeInterval, 'm');\n            }\n        }\n\n        if(settings.repeat) {\n            bookingType = 'repeat';\n\n            if(settings.daily) {\n                repeatType = 'daily';\n                repeatUntil = settings.untilDate.toLocaleDateString();\n            } else if(settings.weekly || settings.endOfYear) {\n                repeatType = 'weekly';\n                repeatUntil = settings.untilDate.toLocaleDateString();\n            }\n        } else {\n            bookingType = 'single';\n            repeatUntil = ''\n        }\n\n        //WEEK SYSTEM\n        let weekSysWeeks = '';\n        for(const holiday of organisation.holidays) {\n            if(holiday.titleUUID == globalVars.weekUUID) {\n                weekSysWeeks = holiday.weeks;\n                break;\n            }\n        }\n\n        //DATES\n        let startDate = moment(globalVars.date, 'DD/MM/YYYY');\n\n        let finishDate;\n        if(bookingType == 'repeat') {\n            const fDates = moment(repeatUntil, 'DD/MM/YYYY');\n            finishDate = fDates.format('DD/MM/YYYY');\n        } else {\n            finishDate = '';\n        }\n\n        const data = {orgID: orgID,roomID: globalVars.roomID, user: settings.userID, departmentID: settings.departmentID, sessionDes: settings.sessDes, sessionTotal: sessions.length,\n                        sessions: sessions.toString(), comments: settings.comments, bookingType: bookingType, repeatType: repeatType, startDate: startDate.format('DD/MM/YYYY'), \n                        repeatUntil: finishDate, createdBy: user.uuid, dayList: globalVars.dayList, weekSystem: globalVars.weekSystem, weekSysWeeks: weekSysWeeks};\n        \n        Axios.post('/booking/createBooking', data)\n        .then(res => {\n            const data = res.data;\n            if(data.error == 'null') {\n                if(data.userError == 'null') {\n                    history.push('/org/' + orgID);\n                } else {\n                    setModal(() => {\n                        return {heading: 'Booking', message: data.message, open: true}\n                    });\n                }\n\n            } else {\n                setModal(() => {\n                    return {heading: 'Booking', message: data.message, open: true}\n                });\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function BuildTimes(sTime, fTime, interval) {\n\n        const ti = [];\n        \n        const start = moment(sTime, \"HH:mm\");\n        const finish = moment(fTime, \"HH:mm\");\n\n        start.add(interval, 'm');\n\n        while(start.isSameOrBefore(finish)) {\n            ti.push(start.format(\"HH:mm\"));\n            start.add(interval, 'm');\n        }\n\n        setSettings(prevState => {\n            return {...prevState, sessions: ti}\n        });\n\n        console.log(ti);\n        \n    }\n\n    return (\n        <div className=\"body booking-content\">\n            <Container fluid className=\"p-3\">\n                <Jumbotron className=\"back-color\">\n                    <Row>\n                        <Col></Col>\n                        <Col xs={8}>\n                            <Row>\n                                    <Col className='booking-topInfo'><strong>Date: {globalVars.date}</strong></Col>\n                                    <Col className='booking-topInfo'><strong>Room: {globalVars.roomName}</strong></Col>\n                                    <Col className='booking-topInfo'><strong>Session: {globalVars.sessionLabel}</strong></Col>\n                            </Row>\n                            <hr />\n                            <Row>\n                                <Col>\n                                <Form.Group>\n                                    User: \n                                    {settings.showUserDropdown ? (<div>\n                                        <Dropdown>\n                                        <Dropdown.Toggle variant='primary' id='dropdown-users'>\n                                            {settings.user}\n                                        </Dropdown.Toggle>\n                                        <Dropdown.Menu className='dropdown-items'>\n                                            {settings.userList.map((user, index) => {\n                                                return <Dropdown.Item key={index} onClick={() => handleUsersDropdownItem(user.displayName, user.uuid)}>{user.displayName}</Dropdown.Item>\n                                            })}\n                                        </Dropdown.Menu>\n                                    </Dropdown>\n                                    </div>) : (<div>{settings.user}</div>)}\n                                    \n                                </Form.Group>\n                                <Form.Group>\n                                        Department:\n                                        <Dropdown>\n                                            <Dropdown.Toggle variant='primary' id='dropdown-departments'>\n                                                {settings.department}\n                                            </Dropdown.Toggle>\n                                            <Dropdown.Menu className='dropdown-items'>\n                                                {settings.departmentList.map((department, index) => {\n                                                    return <Dropdown.Item key={index} onClick={() => handleDepartmentsDropdownItem(department.name, department.uuid)}>{department.name}</Dropdown.Item>\n                                                })}\n                                            </Dropdown.Menu>\n                                        </Dropdown>\n                                </Form.Group>\n                                <Form.Group>\n                                    {settings.sessDesTitle}:\n                                    <Form.Control type='text' name='sessDes' onChange={handleTextBoxChange}/>\n                                </Form.Group>\n                                <Form.Group>\n                                    Comments:\n                                    <Form.Control as='textarea' rows='3' name='comments' onChange={handleTextBoxChange}>\n\n                                    </Form.Control>\n                                </Form.Group>\n                                </Col>\n                                <Col>\n                                        <Form.Group>\n                                        {settings.sessionLengthTitle}:\n                                        {settings.showSessionLength ? (<div>\n                                            <Dropdown>\n                                                <Dropdown.Toggle variant='primary' id='dropdown-sessionLength'>\n                                                    {settings.sessionLength}\n                                                </Dropdown.Toggle>\n                                                <Dropdown.Menu className='dropdown-items'>\n                                                {settings.sessions.map((session, index) => {\n                                                    return <Dropdown.Item key={index} onClick={handleSessionsDropdownItem}>{session}</Dropdown.Item>\n                                                })}\n                                                </Dropdown.Menu>\n                                            </Dropdown>\n                                        </div>) : \" \" + settings.sessionLength }\n                                        \n                                        </Form.Group>   \n                                    <Row>\n                                    {user.role != 'user' ? (<div>\n                                        <Form.Group>\n                                            <Form.Check className=\"check-side-by-side-b\" type=\"checkbox\" label=\"Repeat\" onChange={handleRepeatCheckChanged} />\n                                        </Form.Group>\n                                    </div>) : null}\n                                        \n                                    </Row>\n                                    {settings.repeat ? (<div>\n                                        <Row>\n                                        <Form.Group>\n                                            <Form.Check className=\"check-side-by-side-b\" type=\"checkbox\" label=\"Daily\" checked={settings.daily} onChange={handleDailyCheckChanged} />\n                                            <Form.Check className=\"check-side-by-side\" type=\"checkbox\" label=\"Weekly\" checked={settings.weekly} onChange={handleWeeklyCheckChanged}/>\n                                            <Form.Check className=\"check-side-by-side\" type=\"checkbox\" label=\"End of Year (Weekly)\" checked={settings.endOfYear} onChange={handleEndOfYearCheckChanged} />\n                                        </Form.Group>\n                                    </Row>\n                                        <Row>\n                                        <Col></Col>\n                                        <Col>\n                                            <Form.Group>\n                                            Until:<br />\n                                            <DatePicker dateFormat='dd/MM/yyyy' selected={new Date(settings.untilDate)} onChange={handleDateChange}/>\n                                            </Form.Group>\n                                        </Col>\n                                    </Row>\n                                    </div>) : null}\n                                    \n                                    <div className='add-button'>\n                                        <Button variant='primary' onClick={handleBook}>Book</Button>\n                                    </div>\n                                </Col>\n                            </Row>\n                        </Col>\n                        <Col></Col>\n                    </Row>\n                </Jumbotron>\n            </Container>\n            <Modal show={modal.open} onHide={handleModalClose}>\n                <Modal.Header closeButton>\n                <Modal.Title>{modal.heading}</Modal.Title>\n                </Modal.Header>\n                <Modal.Body>{modal.message}</Modal.Body>\n                <Modal.Footer>\n                <Button variant=\"primary\" onClick={handleModalClose}>\n                    Close\n                </Button>\n                </Modal.Footer>\n            </Modal>\n\n        </div>\n    )\n}\n\nexport default Book;","import React, {useState} from 'react';\nimport Card from \"react-bootstrap/Card\";\nimport { Row, Col, Dropdown, Modal, Button} from 'react-bootstrap';\nimport Axios from 'axios';\n\nfunction OrganisationItem(props) {\n\n    const [modalYN, setModalYN] = useState({\n        open: false,\n        heading: '',\n        message: '',\n        acceptFunction: '',\n        acceptName: '',\n        showAccept: false,\n        cancelName: '',\n        showCancel: false\n    });\n\n    function handleModalYNClose() {\n        setModalYN(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    function handleModalClose() {\n        setModal(prevState => {\n            return {...prevState,\n            open: false\n        }\n    });\n    }\n\n    const [modal, setModal] = useState({\n        open: false,\n        heading: '',\n        message: ''\n    });\n\n    function ChangeLoginMethod(name, email, orgID) {\n\n        const data = {email: email};\n\n        Axios.post('/organisation/getSALoginMethod', data)\n        .then(res => {\n            const method = res.data.method;\n            let newMethod;\n            if(method == 'local') {\n                newMethod = 'google'\n            } else if(method == 'google') {\n                newMethod = 'local'\n            }\n            const message = name + \"'s login method is \" + method + \". Are you sure you want to change it to a \" + newMethod + \" method?\";\n\n            setModalYN({heading: 'Change Login Method', message: message, acceptName: 'Yes', acceptFunction: () => {acceptToChangeMethods(email, newMethod, orgID)}, showAccept: true, cancelName: 'No', showCancel: true, open: true});    \n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    function acceptToChangeMethods(email, method, orgID) {\n\n        setModalYN({open: false});\n\n        const data = {email: email, method: method, orgID: orgID};\n        Axios.post('/organisaation/changeASLoginMethod', data)\n        .then(res => {\n            if(res.data.message == 'Strategy Updated') {\n                setModal({heading: 'Change Login Method', message: \"This user's login method has now been changed\", open: true})\n            }\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n    return (\n        <div>\n            <Card body className='Organisations-ListBox'>\n            <Row>\n                <Col>\n                    <label>{props.name}</label>\n                </Col>\n                <Col>\n                    <label>{props.email}</label>\n                </Col>\n                <Col>\n                    <label>{props.poc}</label>\n                </Col>\n                <Col>\n                    <label>{props.orgID}</label>\n                </Col>\n                <Col>\n                <Dropdown>\n                        <Dropdown.Toggle variant='primary'>\n                            More\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            <Dropdown.Item onClick={() => {ChangeLoginMethod(props.poc, props.email, props.orgID)}}>Change Login Method</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                </Col>\n            </Row>\n            </Card>\n            <Modal show={modal.open} onHide={handleModalClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modal.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modal.message}</Modal.Body>\n            <Modal.Footer>\n            <Button variant=\"primary\" onClick={handleModalClose}>\n                Close\n            </Button>\n            </Modal.Footer>\n            </Modal>\n            <Modal show={modalYN.open} onHide={handleModalYNClose}>\n            <Modal.Header closeButton>\n            <Modal.Title>{modalYN.heading}</Modal.Title>\n            </Modal.Header>\n            <Modal.Body>{modalYN.message}</Modal.Body>\n            <Modal.Footer>\n            {modalYN.showAccept ? (<div>\n                <Button variant=\"primary\" onClick={modalYN.acceptFunction}>\n                    {modalYN.acceptName}\n                </Button>\n            </div>) : null}\n            {modalYN.showCancel ? (<div>\n                <Button variant=\"primary\" onClick={handleModalYNClose}>\n                    {modalYN.cancelName}\n                </Button>\n            </div>) : null}\n            </Modal.Footer>\n        </Modal>\n        </div>\n    )\n}\n\nexport default OrganisationItem;","import React, { useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Axios from 'axios';\nimport OrganisationItem from './organisationItem';\n\n//Styles\nimport Button  from \"react-bootstrap/Button\";\nimport Card from \"react-bootstrap/Card\";\nimport { Row, Col, Dropdown } from 'react-bootstrap';\n\nfunction OrganisationList() {\n\n    \n    const history = useHistory();\n    const [loaded, setLoaded] = useState(false);\n    const [organisations, setOrganisations] = useState([]);\n\n    useEffect(() => {\n        onOpen();\n    }, []);\n    \n    function onOpen() {\n\n        Axios.get('/organisation/all')\n        .then(res => {\n            console.log(res.data);\n            setOrganisations(res.data);\n            setLoaded(true);\n        })\n        .catch(err => {\n            console.log(err);\n        })\n    }\n\n   return (\n        <div>\n            <div className=\"AH-AddOrganisationBtn\">\n                <Button variant=\"warning\" onClick={() => history.push(\"/administrator/organisationRegister\")}>Add Organisation</Button>\n            </div>\n            <br />\n            {loaded ? (\n                <div><Card body className='Organisations-ListTitles'>\n            <Row>\n                <Col>\n                    <label>Name</label>\n                </Col>\n                <Col>\n                    <label>Email</label>\n                </Col>\n                <Col>\n                    <label>Point of Contact</label>\n                </Col>\n                <Col>\n                    <label>Org ID</label>\n                </Col>\n                <Col>\n                    \n                </Col>\n            </Row>\n            </Card>\n            <br />\n            {organisations.map((organisation, index) => {\n               return (\n                   <div key={index}>\n                        <OrganisationItem name={organisation.name} email={organisation.POC_Email} poc={organisation.POC_Name} orgID={organisation.orgID} />\n                        <br />\n                    </div>)\n            })}\n            </div>) : (<div></div>)}\n            \n        \n        </div>\n   )\n}\n\nexport default OrganisationList;","import React, { useEffect} from 'react';\nimport { useSelector } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\n//Styles\nimport Button  from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Form from \"react-bootstrap/Form\";\n\n//COMPONENTS\nimport OrganisationList from '../../components/pages/administrator/organisationList';\n\nfunction Home() {\n\n  const history = useHistory();\n    const user = useSelector(state => state.user);\n\n    if(!user.auth || user.role != \"superAdmin\") {\n            history.push('/administrator/signIn');\n    }\n\n  useEffect(() => {\n    document.title = \"STAFF - Administrator\";\n  },[]);\n\n  return (\n    <div className=\"body\">\n      <Container fluid className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n              <OrganisationList />\n            </Jumbotron>\n        </Container>\n    </div>\n  );\n}\n\nexport default Home;","import React, { useState, useEffect } from 'react';\nimport ServerPath, { hostPath } from \"../../ServerPath\";\nimport {useSelector} from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n\n//Styles\nimport Button  from \"react-bootstrap/Button\";\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Form from \"react-bootstrap/Form\";\n\nfunction SignIn() {\n\n    const [granted, setGranted] = useState(true);\n    const user = useSelector(state => state.user);\n    const history = useHistory();\n\n    useEffect(() => {\n        ServerPath();\n        onOpen();\n    },[])\n\n    function onOpen() {\n        if(user.auth) {\n            if(user.role == \"superAdmin\") {\n                history.push('/');\n            } else {\n                setGranted(false);\n            }\n        }\n    }\n\n    return (\n        <div className=\"body\">\n            <Container className=\"p-3\">\n                <Jumbotron className=\"back-color\">\n                    <h1>Administrator Sign In</h1>\n                    {!granted ? (\n                    <div>\n                    <h1>Access Denied</h1>\n                    <Button variant=\"warning\" href='/'>Back to Home </Button><br /><br />\n                    </div>\n                    ):(\n                    <div>\n                    <br />\n                    <Button variant=\"dark\" href={hostPath + \"/auth/github\"}><i class=\"fab fa-github\"></i>  Log in with Github</Button><br /><br />\n                    </div> \n                    \n                    )}\n                </Jumbotron>\n            </Container>\n        </div>\n    )\n}\n\nexport default SignIn;","import React, { useEffect, useState} from 'react';\nimport Axios from 'axios';\nimport { useHistory } from 'react-router-dom';\n\n//Styles\nimport Button from \"react-bootstrap/Button\"\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Form from \"react-bootstrap/Form\"\n\n//COMPONENTS\nimport OrganisationList from '../../components/pages/administrator/organisationList';\nimport { Col } from 'react-bootstrap';\n\nfunction OrganisationRegister() {\n\n  const [message, setMessage] = useState('');\n  const history = useHistory();\n\n  useEffect(() => {\n    document.title = \"STAFF - Administrator\";\n  },[]);\n\n  function handleClick(event) {\n    event.preventDefault();\n\n    const orgName = document.getElementById(\"txtOrgName\").value;\n    const allocatRooms = document.getElementById(\"txtAlRooms\").value;\n    const authLocal = document.getElementById(\"ckbLocal\").checked;\n    const authGoogle = document.getElementById(\"ckbGoggle\").checked;\n    const pName = document.getElementById(\"txtName\").value;\n    const pEmail = document.getElementById(\"txtEmail\").value;\n\n\n    const data = {orgName: orgName, orgRooms: allocatRooms, authLocal: authLocal.toString(), authGoogle: authGoogle.toString(), pName: pName, pEmail: pEmail};\n    Axios.post('/administrator/addOrganisation', data)\n    .then(res => {\n      const data = res.data;\n\n      if(data.error != \"null\") {\n        console.log(data.message);\n      } else if(data.userError == \"Yes\") {\n          setMessage(data.message);\n      } else if (data.message == \"Successfully added\") {\n        history.push(\"/administrator\");\n      }\n    })\n    .catch(err => {\n      console.log(err);\n    })\n\n  }\n\n  return (\n    <div className=\"body\">\n      <Container className=\"p-3\">\n            <Jumbotron className=\"back-color\">\n                <h1>Organisation Register</h1>\n\n                <Form className=\"A-AddOrganisationText\">\n                <Form.Row>\n                <Form.Group as={Col}>\n                  <Form.Label id=\"lblOrgName\">Organisation Name:</Form.Label><br />\n                  <Form.Control id=\"txtOrgName\" type=\"text\" required></Form.Control>\n                </Form.Group>\n                <Form.Group as={Col}>\n                  <Form.Label id=\"lblAlRooms\">Allocated Rooms:</Form.Label><br />\n                  <Form.Control id=\"txtAlRooms\" type=\"text\" required></Form.Control>\n                </Form.Group>\n                  </Form.Row>\n                  <Form.Label id=\"lblAuthTypes\">Types of Authencation:</Form.Label><br />\n                  <Form.Row>\n                <Form.Group as={Col}>\n                  <Form.Check id=\"ckbLocal\" type=\"checkbox\" label=\"Local Login\" />\n                </Form.Group>\n                <Form.Group as={Col}>\n                  <Form.Check id=\"ckbGoggle\" type=\"checkbox\" label=\"Google Login\" />\n                </Form.Group>\n                  </Form.Row>\n                  <Form.Label className=\"A-AddOrganisationTextColor\" id=\"lblPOC\">Point of Contact (Senior Admin):</Form.Label><br />\n                  <Form.Row>\n                <Form.Group as={Col}>\n                  <Form.Label id=\"lblName\">Name:</Form.Label><br />\n                  <Form.Control id=\"txtName\" type=\"text\" required />\n                </Form.Group>\n                <Form.Group as={Col}>\n                  <Form.Label id=\"lblEmail\">Email:</Form.Label><br />\n                  <Form.Control id=\"txtEmail\" type=\"text\" required></Form.Control>\n                </Form.Group>\n                  </Form.Row>\n                  <p>{message}</p>\n                  <Button type=\"submit\" onClick={handleClick} variant=\"warning\">Register</Button>\n                </Form>\n            </Jumbotron>\n        </Container>\n    </div>\n  );\n}\n\nexport default OrganisationRegister;","import React, {useState, useEffect} from 'react';\nimport Axios from 'axios';\nimport {useDispatch} from 'react-redux';\nimport {userUpdateAuth, userUpdateName, userUpdateRole, userUpdateNew, userUpdateRequestedPassword, userUpdateOrgID, userUpdateUserDepartments, userUpdateSARequest, userUpdateUUID} from './store/actions/user'\nimport '@fortawesome/fontawesome-free/css/all.min.css';\nimport 'bootstrap-css-only/css/bootstrap.min.css';\nimport 'mdbreact/dist/css/mdb.css';\nimport \"./public/styles.css\";\nimport \"./public/organisationAdmin.css\";\nimport './public/organisationHome.css';\n\nimport BetaBanner from \"./components/NavBar/betaBanner\";\nimport Nav from \"./components/NavBar/Nav\";\n\nimport Home from \"./pages/home\";\n\nimport NotConnected from \"./pages/notConnected\";\nimport WrongLogin from \"./pages/wrongLogin\";\nimport OrganisationRouter from './pages/organisationRouter';\nimport Book from './pages/book';\n\nimport AdminHome from \"./pages/administrator/home\";\nimport AdminSignIn from \"./pages/administrator/signIn\";\nimport AdminOrgRegister from \"./pages/administrator/registerOrganisation\";\n\nimport {BrowserRouter as Router, Switch, Route} from 'react-router-dom';\n\n\nfunction App() {\n\n  const dispatch = useDispatch();\n  const [isLoaded, setLoaded] = useState(false);\n\n  useEffect(() => {\n    onOpen();\n  },[])\n\n  function onOpen() {\n    Axios.get(\"/auth\", {withCredentials: true })\n  .then(res => {\n      console.log(res.data);\n      const isAuth = res.data.auth;\n      dispatch(userUpdateAuth(isAuth));\n      if(isAuth) {\n        if(res.data.role == \"superAdmin\") {\n          dispatch(userUpdateName(\"High-ViewStudios\"));\n          dispatch(userUpdateRole(\"superAdmin\"));\n        } else {\n          dispatch(userUpdateUUID(res.data.user.uuid));\n          dispatch(userUpdateName(res.data.user.displayName));\n          dispatch(userUpdateRole(res.data.user.role));\n          dispatch(userUpdateNew(res.data.user.new));\n          dispatch(userUpdateRequestedPassword(res.data.user.requestedPassword));\n          dispatch(userUpdateOrgID(res.data.user.orgID));\n          dispatch(userUpdateUserDepartments(res.data.user.departments));\n          dispatch(userUpdateSARequest(res.data.user.SARequest));\n        }\n      }\n      setLoaded(true);\n  })\n  .catch(err => {\n      console.log(\"Authe\" +err);\n  })\n  }\n\n  return (\n    <div>\n    {isLoaded ? (   \n    <Router>\n      <div className=\"App\" >\n      <BetaBanner />\n        <Nav />\n        <Switch>\n        {/* USER */}\n        <Route path=\"/\" exact component={Home} /> {/* DO NOT TOUCH */}\n\n        {/* ORGANISATION */}\n        <Route path=\"/org/:id\" exact component={OrganisationRouter} />\n        <Route path=\"/org/:id/collisionBookings\" component={OrganisationRouter} />\n        <Route path=\"/org/:id/organisationAdmin\" component={OrganisationRouter} />\n        <Route path=\"/org/:id/signIn\" component={OrganisationRouter} />    \n        <Route path=\"/org/:id/forgotPassword\" component={OrganisationRouter} />\n        <Route path=\"/org/:id/changePassword\" component={OrganisationRouter} />\n        <Route path=\"/org/:id/changeOfSeniorRequest\" component={OrganisationRouter} /> \n        <Route path=\"/org/:id/createPassword\" component={OrganisationRouter} />\n        <Route path='/org/:id/wrongOrganisation' component={OrganisationRouter} />\n        <Route path=\"/org/:id/userDetails\" component={OrganisationRouter} />\n        <Route path=\"/org/:id/profileSettings\" component={OrganisationRouter} />\n\n        {/* not moving this until later versions */}\n        <Route path='/org/:id/book' component={Book} />\n\n        {/* coming direct from passport */}\n        <Route path=\"/org/:id/wrongLogin/\" component={WrongLogin} />\n\n        <Route path=\"/notConnected\" component={NotConnected} />        \n\n        {/* ADMINISTRATION */}\n        <Route path=\"/administrator\" exact component={AdminHome} /> {/* DO NOT TOUCH */}\n        <Route path=\"/administrator/signIn\" component={AdminSignIn} /> {/* DO NOT TOUCH */}\n        <Route path=\"/administrator/organisationRegister\" component={AdminOrgRegister} />\n        </Switch>\n      </div>\n    </Router>) : <div></div>}\n    </div>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","const userDetails = (state = {auth: false, uuid: '', name: '', email: '', role:'', new:'', requestedPassword: false, orgID: '', userDepartments: '', SARequest: ''}, action) => {\n    switch(action.type){\n        case 'USER_UPDATE_AUTH':\n            return {...state, auth: action.value};\n        case 'USER_UPDATE_UUID':\n            return {...state, uuid: action.value};\n        case 'USER_UPDATE_NAME':\n            return {...state, name: action.value};\n        case 'USER_UPDATE_EMAIL':\n            return {...state, email: action.value};\n        case 'USER_UPDATE_ROLE':\n            return {...state, role: action.value};\n        case 'USER_UPDATE_NEW':\n            return {...state, new: action.value};\n        case 'USER_UPDATE_REQUESTEDPASSWORD':\n            return {...state, requestedPassword: action.value}\n        case 'USER_UPDATE_ORGID':\n            return {...state, orgID: action.value}\n        case 'USER_UPDATE_USERDEPARTMENTS':\n            return {...state, userDepartments: action.value}\n        case 'USER_UPDATE_SAREQUEST':\n            return {...state, SARequest: action.value}    \n        default:\n            return state;\n    }\n}\n\nexport default userDetails;","const organisationDetails = (state = {name: '', signInLocal: false, signInGoogle: false, message: '', useDepartments: false, noOfDepartments: '', departments: [], allocatedRooms: 0, \n                                    redeemedRooms: 0, rooms:[], layouts: [], holidays: [], locked: false}, action) => {\n    switch(action.type){\n        case 'ORG_UPDATE_NAME':\n            return {...state, name: action.value};\n        case 'ORG_UPDATE_SIGNIN_LOCAL':\n            return {...state, signInLocal: action.value};\n        case 'ORG_UPDATE_SIGNIN_GOOGLE':\n            return {...state, signInGoogle: action.value};\n        case 'ORG_UPDATE_MESSAGE':\n            return {...state, message: action.value};\n        case 'ORG_UPDATE_USEDEPARTMENTS':\n            return {...state, useDepartments: action.value};\n        case 'ORG_UPDATE_NOOFDEPARTMENTS':\n            return {...state, noOfDepartments: action.value};\n        case 'ORG_UPDATE_DEPARTMENTS':\n            return {...state, departments: action.value};\n         case 'ORG_UPDATE_ALLOCATEDROOMS':\n            return {...state, allocatedRooms: action.value};\n         case 'ORG_UPDATE_REDEEMEDROOMS':\n            return {...state, redeemedRooms: action.value};\n        case 'ORG_UPDATE_ROOMS':\n            return {...state, rooms: action.value};\n        case 'ORG_UPDATE_LAYOUTS':\n            return {...state, layouts: action.value};\n        case 'ORG_UPDATE_HOLIDAYS':\n            return {...state, holidays: action.value};\n        case 'ORG_UPDATE_LOCKED':\n            return {...state, locked: action.value};\n        default:\n            return state\n    }\n}\n\nexport default organisationDetails;","const globalVars = (state = {roomName: '', roomID: '', sessionID: '', sessionLabel: '', date: '', weekBeginDate: '', totalSessions: 0, dayList: [], layoutData: {}, weekSystem: false,\n                            weekUUID: '', collideBookingsUpdate: false, startTime: '', finishTime: '', timeInterval: '', forceSignIn: false, fromSignIn: false}, action) => {\n    switch(action.type){\n        case 'UPDATE_ROOM_NAME':\n            return {...state, roomName: action.value};\n        case 'UPDATE_ROOM_ID':\n            return {...state, roomID: action.value};\n        case 'UPDATE_ROOM_LAYOUT_DATA':\n            return {...state, layoutData: action.value};\n        case 'UPDATE_ROOM_SESSION_ID':\n            return {...state, sessionID: action.value};\n        case 'UPDATE_ROOM_SESSION_LABEL':\n            return {...state, sessionLabel: action.value};\n        case 'UPDATE_ROOM_DATE':\n            return {...state, date: action.value};\n        case 'UPDATE_ROOM_WEEK_BEGIN':\n            return {...state, weekBeginDate: action.value};\n        case 'UPDATE_ROOM_TOTAL_SESSIONS':\n            return {...state, totalSessions: action.value};\n        case 'UPDATE_ROOM_DAY_LIST':\n            return {...state, dayList: action.value};\n        case 'UPDATE_ROOM_WEEK_SYSTEM':\n            return {...state, weekSystem: action.value};\n        case 'UPDATE_ROOM_WEEK_UUID':\n            return {...state, weekUUID: action.value};\n        case 'UPDATE_FORCE_COLLIDED_BOOKINGS':\n            return {...state, collideBookingsUpdate: action.value};\n        case 'UPDATE_DIARY_START_TIME':\n            return {...state, startTime: action.value};\n        case 'UPDATE_DIARY_FINISH_TIME':\n            return {...state, finishTime: action.value};\n        case 'UPDATE_DIARY_TIME_INTERVAL':\n            return {...state, timeInterval: action.value};\n        case 'UPDATE_FORCE_SIGNIN':\n            return {...state, forceSignIn: action.value};\n        case 'UPDATE_FROM_SIGNIN':\n            return {...state, fromSignIn: action.value};\n        default:\n            return state;\n    }\n}\n\nexport default globalVars;","const bookings = (state = {editBooking: false, bookingID: 0, user: '', department: '', sessionDes: '', sessionLength: '', bookingType: '', bookingUntil: '',  comments: ''}, action) => {\n\n    switch(action.type){\n        case 'UPDATE_EDIT_BOOKING':\n            return {...state, editBooking: action.value};\n        case 'UPDATE_BOOKING_ID':\n            return {...state, bookingID: action.value};\n        case 'UPDATE_BOOKING_USER':\n            return {...state, user: action.value};\n        case 'UPDATE_BOOKING_DEPARTMENT':\n            return {...state, department: action.value};\n        case 'UPDATE_BOOKING_SESSIONDES':\n            return {...state, sessionDes: action.value};\n        case 'UPDATE_BOOKING_SESSIONLENGTH':\n            return {...state, sessionLength: action.value};\n        case 'UPDATE_BOOKING_BOOKINGTYPE':\n            return {...state, bookingType: action.value};\n        case 'UPDATE_BOOKING_BOOKINGUNTIL':\n            return {...state, bookingUntil: action.value};\n        case 'UPDATE_BOOKING_COMMENTS':\n            return {...state, comments: action.value};\n        default:\n            return state;\n    }\n}\n\nexport default bookings;","import userDetails from './userDetails';\nimport organisationDetails from './organisationDetails';\nimport globalVars from './globalVars';\nimport bookings from './bookings';\nimport {combineReducers} from 'redux'\n\nconst rootReducer = combineReducers({\n    user: userDetails,\n    organisation: organisationDetails,\n    globalVars: globalVars,\n    bookings: bookings\n});\n\nexport default rootReducer;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createStore } from 'redux';\nimport rootReducer from './store/reducers';\nimport { Provider } from 'react-redux'\n\nconst store = createStore(rootReducer, window.__REDUX_DEVTOOLS_EXTENSION__ && window.__REDUX_DEVTOOLS_EXTENSION__());\n\nReactDOM.render(\n  <Provider store={store}>\n  {/* <React.StrictMode> */}\n    <App />\n  {/* </React.StrictMode> */}\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}